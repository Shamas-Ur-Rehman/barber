/*!
 * Squarespace Universal Filter - Filter any data on your site
 * Author: Michael Mashay <michael@squarespacewebsites.com>
 * License: Commercial License
 * 02.01.25
 */
!function(){function t(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function e(t){var e=t?new Date(t).toISOString():(new Date).toISOString();return e.split(".")[0].substring(0,15).replace(/\:/g,"-")}function i(t){for(var e={},i=("?"===t[0]?t.substr(1):t).split("&"),a=0;a<i.length;a++){var r=i[a].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent((r[1]||"").replace(/\+/g," "))}return e}function a(t){for(var e=0,i=t.length,a=0;a<i;a++)e=(e<<5)-e+t.charCodeAt(a),e|=0;return e}function r(t){var e={};return t.filter(function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)})}function s(t,e,i){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;i&&(t=t.slice(0).sort(),e=e.slice(0).sort());for(var a=0;a<t.length;++a)if(t[a]!==e[a])return!1;return!0}function o(t,e,i){var a=document.getElementById(e);if(a&&a.parentElement.removeChild(a),!document.getElementById(e)){a=document.createElement("style");a.type="text/css",a.id=e,a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),i.appendChild(a)}}function n(t,e){var i=[],a=t.nestedCategories.categoriesHash||t.nestedCategories.tree,r=t.nestedCategories.all;return e&&e.categoryIds&&a&&(r&&-1==i.indexOf(r.displayName)&&i.push(r.displayName),e.categoryIds.forEach(function(t){var e=a[t];if(e&&(-1==i.indexOf(e.displayName)&&i.push(e.displayName),e.parentCategoryId&&a[e.parentCategoryId])){-1==i.indexOf(a[e.parentCategoryId].displayName)&&i.push(a[e.parentCategoryId].displayName);var r=a[e.parentCategoryId].parentCategoryId;r&&a[r]&&-1==i.indexOf(a[r].displayName)&&i.push(a[r].displayName)}})),i}function l(t,e,i){var a;return function(){var r=this,s=arguments,o=function(){a=null,i||t.apply(r,s)},n=i&&!a;clearTimeout(a),a=setTimeout(o,e),n&&t.apply(r,s)}}function c(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];8===i.nodeType||3===i.nodeType&&!/\S/.test(i.nodeValue)?(t.removeChild(i),e--):1===i.nodeType&&c(i)}}function d(t){return t&&0==t.indexOf("index.html")&&(t=t.substr(1)),t&&"/"==t[t.length-1]&&(t=t.substr(0,t.length-1)),t}function g(t){return t&&(t=t.replace(/[\u00A0-\u9999<>\&]/g,function(t){return"&#"+t.charCodeAt(0)+";"})),t}function u(t,e,i,a,r,s){if(i=i||document.getElementsByTagName("head")[0],i.querySelector("#"+e))return console.log("Already loaded",i.querySelector("#"+e)),void(a&&a(this));var o=document.createElement("script");o.src=t,o.id=e,o.onload=function(){s&&this.remove(),a&&a(this)},o.onerror=function(){s&&this.remove(),r&&r(this)},i.appendChild(o)}function p(t){return t.toFixed(2).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function m(t,e){var i=parseFloat((t+"").replace(/[^.0-9]/g,"")),a=(t+"").replace(/[^a-zA-Z-]/g,"").trim(),r={k:1e3,M:1e6,G:1e9,T:1e12,P:1e15,E:1e18};return a&&r[a]&&(i*=r[a]),i}function h(t,e){if(e=e||0,window.IntlS&&window.Intl.NumberFormat)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumSignificantDigits:e+2}).format(t);var i,a=t<0?"-":"",r=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],s=/\.0+$|(\.[0-9]*[1-9])0+$/;for(i=r.length-1;i>0&&!(t>=r[i].value);i--);return a+(t/r[i].value).toFixed(e).replace(s,"$1")+r[i].symbol}function f(t){if(t.container.one(".lightbox-link")||t.container.hasClass("lightbox-plugin-there")){try{window.openBundleLinksInLightbox&&openBundleLinksInLightbox(".summary-title[href]:not(.lightbox-link),.summary-title-link[href]:not(.lightbox-link),.summary-read-more-link[href]:not(.lightbox-link),.summary-thumbnail-container[href]:not(.lightbox-link)"),window.pluginLightbox&&pluginLightbox()}catch(t){console.log(t)}t.container.addClass("lightbox-plugin-there")}}function v(t,e){var i=document.createElement("div"),a=window.DOMParser&&new window.DOMParser,r=null;try{if(a?r=a.parseFromString(t,"text/html").body:(i.innerHTML=t,r=i),!e){const t=r.querySelectorAll("style,script");t&&t.forEach&&t.forEach(function(t){t.remove()})}return r}catch(t){console.log(t)}}function b(t,e){var i,a=t.split("."),r=a.length,s=e||this;for(i=0;i<r;i++)s=s&&s[a[i]];return s}function y(t){var e=[],i=function(t){for(var a in t)if(t.hasOwnProperty(a)&&t[a])if(e.push(a),t[a].length&&"string"==typeof t[a]&&t[a].indexOf(",")>-1){t[a]=t[a].split(",");for(var r=0;r<t[a].length;r++)t[a][r]=(t[a][r]+"").trim(),e.push(t[a][r])}else"object"!=typeof t[a]||t[a].length?"object"==typeof t[a]&&t[a].forEach&&t[a].forEach(function(t){"object"!=typeof t||t.length?e.push(t.trim()):i(t)}):i(t[a])};return i(t),e}function w(){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!1),window.dispatchEvent(t)}function _(t,e){return(Math.random()*(e-t)+t).toFixed(2)}function C(t,e){var i=[],a=[];for(t.replace(/(\d+)|(\D+)/g,function(t,e,a){i.push([e||1/0,a||""])}),e.replace(/(\d+)|(\D+)/g,function(t,e,i){a.push([e||1/0,i||""])});i.length&&a.length;){var r=i.shift(),s=a.shift(),o=r[0]-s[0]||r[1].localeCompare(s[1]);if(o)return o}return i.length-a.length}function S(t,e,i){var a=[];for(t=t.nextElementSibling;t&&!t.f_matches(e);)!i||t.f_matches(i)?(a.push(t),t=t.nextElementSibling):t=t.nextElementSibling;return a}function x(t,e){if(t=t&&t.toString&&t.toString(),!t)return"";var i=e?"_no_change_case":"",a=t+i;if(ht[a])return ht[a];t=t.replace(/\u0401/g,"YO").replace(/\u0419/g,"I").replace(/\u0426/g,"TS").replace(/\u0423/g,"U").replace(/\u041A/g,"K").replace(/\u0415/g,"E").replace(/\u041D/g,"N").replace(/\u0413/g,"G").replace(/\u0428/g,"SH").replace(/\u0429/g,"SCH").replace(/\u0417/g,"Z").replace(/\u0425/g,"H").replace(/\u042A/g,"").replace(/\u0451/g,"yo").replace(/\u0439/g,"i").replace(/\u0446/g,"ts").replace(/\u0443/g,"u").replace(/\u043A/g,"k").replace(/\u0435/g,"e").replace(/\u043D/g,"n").replace(/\u0433/g,"g").replace(/\u0448/g,"sh").replace(/\u0449/g,"sch").replace(/\u0437/g,"z").replace(/\u0445/g,"h").replace(/\u044A/g,"'").replace(/\u0424/g,"F").replace(/\u042B/g,"I").replace(/\u0412/g,"V").replace(/\u0410/g,"a").replace(/\u041F/g,"P").replace(/\u0420/g,"R").replace(/\u041E/g,"O").replace(/\u041B/g,"L").replace(/\u0414/g,"D").replace(/\u0416/g,"ZH").replace(/\u042D/g,"E").replace(/\u0444/g,"f").replace(/\u044B/g,"i").replace(/\u0432/g,"v").replace(/\u0430/g,"a").replace(/\u043F/g,"p").replace(/\u0440/g,"r").replace(/\u043E/g,"o").replace(/\u043B/g,"l").replace(/\u0434/g,"d").replace(/\u0436/g,"zh").replace(/\u044D/g,"e").replace(/\u042F/g,"Ya").replace(/\u0427/g,"CH").replace(/\u0421/g,"S").replace(/\u041C/g,"M").replace(/\u0418/g,"I").replace(/\u0422/g,"T").replace(/\u042C/g,"'").replace(/\u0411/g,"B").replace(/\u042E/g,"YU").replace(/\u044F/g,"ya").replace(/\u0447/g,"ch").replace(/\u0441/g,"s").replace(/\u043C/g,"m").replace(/\u0438/g,"i").replace(/\u0442/g,"t").replace(/\u044C/g,"'").replace(/\u0431/g,"b").replace(/\u044E/g,"yu");var r=ft,s=vt;t=t.replace(/^\s+|\s+$/g,"").replace(/\'/g,"-").replace(/\"/g,"-").replace(/\#/g,"-hash-").replace(/\=/g,"-").replace(/\+/g,"plus-sign"),e||(t=t.toLowerCase(),r=bt,s=yt);var o=function(){for(var e=0,i=r.length;e<i;e++)if(t.indexOf(r.charAt(e))>-1)return!0;return!1};if(o(t))for(var n=0,l=r.length;n<l;n++){var c=r.charAt(n);t.indexOf(r.charAt(n))>-1&&(t=t.replace(new RegExp(c,"g"),s.charAt(n)))}for(n=0;n<wt.length;n++)for(;-1!==t.indexOf(wt[n]);)t=t.replace(wt[n],_t[n]);return t=t.replace(/\s+/g,"-").replace(/\-\-+/g,"-").replace(/\₤/g,"-gbp").replace(/\£/g,"-gbp").replace(/\$/g,"-usd").replace(/\€/g,"-eur").replace(/\&/g,"and").replace(/[^a-zA-Z0-9_\u3400-\u9FBF\s-]/g,"").replace(/\,/g,"-").replace(/\//g,"-").replace(/\:/g,"-").replace(/\;/g,"-"),ht[a]=t,r=s=null,t}function k(t){if(!t)return t;for(var e=ft,i=vt,a=0,r=e.length;a<r;a++){var s=e.charAt(a);t.indexOf(e.charAt(a))>-1&&(t=t.replace(new RegExp(s,"g"),i.charAt(a)))}return e=i=null,t}function F(t,e,i,a){var r=6372795;t*=Math.PI/180,i*=Math.PI/180,e*=Math.PI/180,a*=Math.PI/180;var s=Math.cos(t),o=Math.cos(i),n=Math.sin(t),l=Math.sin(i),c=a-e,d=Math.cos(c),g=Math.sin(c),u=Math.sqrt(Math.pow(o*g,2)+Math.pow(s*l-n*o*d,2)),p=n*l+s*o*d,m=Math.atan2(u,p);return parseFloat((m*r/1e3).toFixed(2))}function O(){if(ct&&ct.length){var t=!1;Y.one("body").hasClass("collection-type-products")&&(t=!0),ct.forEach(function(t){t.isotope&&(t.itemsWidthStyleNode&&t._setItemsMaxWidthStyle(),t.isotope.layout()),t.loadImages(t.items),t.target.settings.hooks&&t.target.settings.hooks.onResize&&"function"==typeof t.target.settings.hooks.onResize&&t.target.settings.hooks.onResize(t)}),t&&Y.Global.fire("tweak:reset")}}function A(t){return t.charAt(0).toUpperCase()+t.slice(1)}function P(t){return t.replace(/(^\w{1})|(\s+\w{1})/g,function(t){return t.toUpperCase()})}function l(t,e,i){var a;return function(){var r=this,s=arguments,o=function(){a=null,i||t.apply(r,s)},n=i&&!a;clearTimeout(a),a=setTimeout(o,e),n&&t.apply(r,s)}}function I(t,e){return new Promise(function(i){var a={collection:{},items:[]},r=function(){Y.io(t,{on:{success:function(r,s){var o=s.responseText,n=function(r){if(r)try{a=0==r.indexOf("LZString")?JSON.parse(mt.decompressFromEncodedURIComponent(r.slice(8))):JSON.parse(r),e&&q(a,t,!0),i(a)}catch(t){console.warn("error : "+t),i(a)}else i(a)};if(o&&o.indexOf('id="collectionsIndex"')>-1){if(o.indexOf('<textarea id="collectionsIndex" class="hidden" style="display:none">')>-1)o=o.split('<textarea id="collectionsIndex" class="hidden" style="display:none">')[1].split("</textarea>")[0];else{var l=document.createElement("div");l.innerHTML=o;var c=l.querySelector("#collectionsIndex");o=c.value||c.querySelector(".sqs-block-content")&&c.querySelector(".sqs-block-content").innerText||""}n(o)}else n(o)},failure:function(t,e){console.warn("error : "+e.status),i(a)}}})},s=t,o=L(s);o&&e?i(o):r()})}function L(t){try{var e=window.localStorage;t=t.replace(/\//g,"")+"_json";var i=t+"_expires";if(!t||!e)return!1;try{var a=e.getItem(i);if(a){a=parseInt(a);var r=(new Date).getTime();if(r>a)return!1;var s=JSON.parse(e.getItem(t));return s}return!1}catch(t){return console.log(t),!1}}catch(t){return console.log(t),!1}}function q(t,e,i,a){try{var r=window.localStorage,s=e;e=e.replace(/\//g,"").replace(/\,/g,"-")+"_json";var o=e+"_expires";if(a=a||10,t&&r){var n=(new Date).getTime()+6e4*a,l={};if(l=JSON.stringify(t),l.length){s.indexOf("/")>-1&&r.getItem(s)&&r.removeItem(s);try{r.setItem(e,l)}catch(a){if(console.log(a.message||a),!i&&t&&t.items&&t.items.length)for(var c=t.items.length-1;c>=0;c--)t.items[c].body&&(t.items[c].body="y");l=JSON.stringify(t);try{r.setItem(e,l),console.log("Items body was reduced to fit localStorage quota")}catch(t){console.log(t.message||t,"Still too heavy collection to save local.")}}r.setItem(o,n)}}}catch(t){console.log(t)}}function T(t){if(t){var e=t.search&&(t.search.indexOf("?category=")>-1||t.search.indexOf("?tag=")>-1||t.search.indexOf("?year=")>-1||t.search.indexOf("?month=")>-1)||t.pathname.indexOf("/category/")>-1||t.pathname.indexOf("/tag/")>-1;return e}return!1}function N(t,e,i){var a=e&&e.target&&e.target.settings.useSQSProxy;return new Promise(function(r){function s(t,r){var c="";r&&(c="?"+r,t.indexOf("?")>-1&&(c="&"+r));var d="";fetch(t+c+d).then(function(t){return t.text()}).then(function(r){if(r){var c=n.parseFromString(r,"text/html").body,d=l(c);if(c.querySelector(e.target.items))try{d?(o.html+=c.querySelector(e.target.container)&&c.querySelector(e.target.container).outerHTML||c.querySelector(e.target.items).parentElement.outerHTML||!1,s(t,d)):(o.html+=c.querySelector(e.target.container)&&c.querySelector(e.target.container).outerHTML||c.querySelector(e.target.items).parentElement.outerHTML||!1,a&&a.enabled&&(!i||i&&!i.noServerSave)&&B(t,o,"main-content",a),g(o))}catch(t){console.warn("error : "+t),g(o)}else g(o)}else g(o)}).catch(function(t){console.warn("error : "+t),g(o)})}var o={html:""},n=window.DOMParser&&new window.DOMParser,l=function(t){var e="";if(t){var i=t.querySelectorAll('a[href*="?offset="]');if(!i||i.length,i&&i.length)for(var a=i.length-1;a>=0;a--){var r=i[a];r&&-1==r.search.indexOf("reverse")&&(e=r.search.replace("?",""))}else i=t.querySelectorAll(".BlogList-item[data-offset]"),e=i&&i.length&&i[i.length-1]&&i[i.length-1],e=(!e||!e.dataset.lastPage)&&(!(!e||!e.dataset.offset)&&"offset="+e.dataset.offset)}return e},c=l(e.container._node.parentNode),d=T(window.location)||e.multipleCollectionsFetched&&e.multipleCollectionsFetched.length||e.products_category_page||e.listCollection,g=function(t){n=null,r(t)},u=function(){c||d?s(t,c):g(o)};u()})}function M(t,e,i,a){var r=e.collection&&e.collection.typeName;if(dt&&dt.authenticatedAccount)return new Y.Promise(function(t){var i=!1,a="/api/content-service/product/1.1/websites/"+e.website.id+"/products/"+e.collection.id+"/categories/tree";"lessons"==r&&(a="/api/lesson-service/1.0/websites/"+e.website.id+"/lessons/"+e.collection.id+"/categories/tree");try{Y.io(a,{on:{success:function(e,a){var r=a.responseText;if(r&&r.indexOf("categoryTree")>-1){if(i=JSON.parse(r),i&&i.categoryTree&&i.categoryTree.length)for(var s=i.categoryTree.length-1;s>=0;s--)i.categoryTree[s]={type:i.categoryTree[s].type,displayName:i.categoryTree[s].displayName,count:i.categoryTree[s].orderedItemCount,shortSlug:i.categoryTree[s].shortSlug,parentCategoryId:i.categoryTree[s].parentCategoryId,orderedItemIds:i.categoryTree[s].orderedItemIds,id:i.categoryTree[s].id};i&&t(i)}else t(i)},failure:function(e,a){console.warn("Get Nested Categories error : "+a.status),t(i)}}})}catch(e){t(i)}});if(a&&a.generated)return console.log("No need to try fetch new nested"),new Promise(function(t,e){t(a)});var s="https://tools.squarewebsites.org/sqs-response/"+window.location.hostname.replace(/\./g,"-")+"/"+i+"/"+(d(decodeURIComponent(t)).replace("?","--query--").replace(/[^A-Za-z0-9-]+/g,"-")||"-")+"--categoriesSorting--.js";return new Promise(function(t,e){Y.io(s,{headers:{"Content-Type":"text/javascript;charset=UTF-8"},on:{success:function(e,i){if(i&&i.responseText){var a=JSON.parse(i.responseText);"object"==typeof a&&(a.gotFromServer=!0),t(a)}},failure:function(){t(!1)}}})})}function D(t,i,a){var r=a&&a.target&&a.target.settings.useSQSProxy,s=!1;a&&a.target&&a.target.settings.timelog&&console.time("Get Items with HTML");var o=a.target.settings.hasOwnProperty("fetchCollectionSeparately")&&null!==a.target.settings.fetchCollectionSeparately?a.target.settings.fetchCollectionSeparately:!!a.container.ancestor('[data-controller="LessonsList"]')||!(a.itemsParent.hasClass("BlogList-inner")||a.items.size()&&(a.items._nodes[0].classList.contains("blog-item")||a.items._nodes[0].classList.contains("ProductItem")||a.items._nodes[0].classList.contains("post-type-store-item"))||a.listCollection);return new Promise(function(n){function l(t,g){if(i)fetch(t).then(function(t){if(t.ok||t.status<400)return t.text();throw new Error("Something went wrong, response statis is: "+t.status)}).then(function(e){if(e&&e.indexOf('id="collectionsIndex"')>-1){if(e.indexOf('<textarea id="collectionsIndex" class="hidden" style="display:none">')>-1)e=e.split('<textarea id="collectionsIndex" class="hidden" style="display:none">')[1].split("</textarea>")[0];else{var s=document.createElement("div");s.innerHTML=e;var o=s.querySelector("#collectionsIndex");e=o.value||o.querySelector(".sqs-block-content")&&o.querySelector(".sqs-block-content").innerText||""}if(e)try{0==e.indexOf("LZString")?d.items=JSON.parse(mt.decompressFromEncodedURIComponent(e.slice(8))):d.items=JSON.parse(e),a.target.settings.useSessionCache&&q(d,i,!0),r&&r.enabled&&B(t,d,"main-content",r),a&&a.target&&a.target.settings.timelog&&console.timeEnd("Get Items with HTML"),d.items[0]&&d.items[0].nestedCategories&&d.items[0].nestedCategories.tree&&(d.nestedCategories=d.items[0].nestedCategories,d.items.splice(0,1)),n(d)}catch(t){console.warn("error : "+t),n(d)}else n(d),a&&a.target&&a.target.settings.timelog&&console.timeEnd("Get Items with HTML")}else n(d),a&&a.target&&a.target.settings.timelog&&console.timeEnd("Get Items with HTML")}).catch(function(t){console.error(t),n(d)});else if(o)j(t,a,{noServerSave:!0}).then(function(e){N(t,a,{noServerSave:!0}).then(function(i){if(e.html=i.html,d=e,e.nestedCategories&&e.nestedCategories.categories&&e.nestedCategories.categories.length&&e.nestedCategories.categories&&e.nestedCategories.categories[0].id&&(console.log("we have categories ids there!!"),e.nestedCategories.all&&(e.nestedCategories.all.allCategory=!0,e.nestedCategories.categories.unshift(e.nestedCategories.all)),d.nestedCategories=e.nestedCategories,a.target.settings.filter&&a.target.settings.filter.followNewProductsCategories&&a.regenerateAllowedStructure(d.nestedCategories)),i.html||console.log("No additional items were fetched",i.html),r){s&&a._updateFilterData(d);var o=function(){n(d),!a.multipleCollectionsFetched&&B(t,d,"page-context",r,!1)};o()}else n(d);a&&a.target&&a.target.settings.timelog&&console.timeEND("Get Items with HTML")})});else{var u=t.indexOf("?")>-1?"&format=page-context":"?format=page-context";u+="&cache="+e(),g&&(u+="&offset="+g),a.isEventsCollection&&(u+="&view=list"),fetch(t+u).then(function(t){if(t.ok||t.status<400)return t.json();throw new Error("Something went wrong, response statis is: "+t.status)}).then(function(e){var i=!!e.upcoming||!!e.past||!!e.items||!!e.collection&&!!e.collection.collections;if(i&&(e.collection&&(e.collection.tags&&delete e.collection.tags,e.collection.categories&&delete e.collection.categories,d.collection=e.collection),e.upcoming&&(d.upcoming=d.upcoming.concat(e.upcoming)),e.past&&(d.past=d.past.concat(e.past)),e.items&&(d.items=d.items.concat(e.items)),e.collection.collections&&(d.items=d.items.concat(e.collection.collections)),e.collection&&e.collection.typeName&&"events"==e.collection.typeName&&(d.items=d.items.concat(e.upcoming,e.past))),g=e.offset&&e.offset!==g?e.offset:e.pagination&&e.pagination.nextPageOffset&&g!==e.pagination.nextPageOffset?e.pagination.nextPageOffset:"",(e.collection&&"products"===e.collection.typeName||e.collection&&"lessons"===e.collection.typeName)&&!0,e.squarespace&&e.squarespace["main-content"]&&d.items&&d.items.length>a.existedItems.size()){var o=e.squarespace["main-content"].replace(/<squarespace:escape>/g,"").replace(/<\/squarespace:escape>/g,""),u=v(o)||Y.Node.create(o);u&&(a.target&&a.target.settings&&a.target.settings.listCollection&&a.target.settings.listCollection.getItemsHTMLOnly?u._node||u._nodes?u.all(a.target.items).each(function(t){d.html+=t._node.outerHTML||t._node.nodeValue}):u.querySelectorAll&&u.querySelectorAll(a.target.items).forEach(function(t){d.html+=t.outerHTML||t.nodeValue}):d.html+=u.innerHTML?u.innerHTML:u.get("innerHTML"))}if(e.nestedCategories&&!d.nestedCategories&&(d.nestedCategories=e.nestedCategories),g&&!0,g){a.hasOwnProperty("__all_loaded")?i?{collection:e.collection||{},items:e.items,past:e.past,nestedCategories:e.nestedCategories,upcoming:e.upcoming}:{items:e.items}:d,a.__all_loaded=!1,l(t,g)}else{if(!d.html&&e.squarespace&&e.squarespace["main-content"]){o=e.squarespace["main-content"].replace(/<squarespace:escape>/g,"").replace(/<\/squarespace:escape>/g,""),u=v(o)||Y.Node.create(o);u&&(a.target&&a.target.settings&&a.target.settings.listCollection&&a.target.settings.listCollection.getItemsHTMLOnly?u._node||u._nodes?u.all(a.target.items).each(function(t){d.html+=t._node.outerHTML||t._node.nodeValue}):u.querySelectorAll&&u.querySelectorAll(a.target.items).forEach(function(t){d.html+=t.outerHTML||t.nodeValue}):d.html+=u.innerHTML?u.innerHTML:u.get("innerHTML"))}a.__all_loaded=!0,a.target.settings.useSessionCache&&q(d,t),c=d.items&&d.items.length;var p=d.items;if(c||!d.upcoming.length&&!d.past.length||(p=d.upcoming.concat(d.past),c=p.length),c&&p.forEach(function(t){t.updatedOn&&t.updatedOn+"-"}),e.nestedCategories&&e.nestedCategories.categories&&e.nestedCategories.categories.length&&e.nestedCategories.categories&&e.nestedCategories.categories[0].id&&(console.log("we have categories ids there!!"),e.nestedCategories.all&&(e.nestedCategories.all.allCategory=!0,e.nestedCategories.categories.unshift(e.nestedCategories.all)),d.nestedCategories=e.nestedCategories,a.target.settings.filter&&a.target.settings.filter.followNewProductsCategories&&a.regenerateAllowedStructure(d.nestedCategories)),r){s&&a._updateFilterData(d);var m=function(){n(d),!a.multipleCollectionsFetched&&B(t,d,"page-context",r,!1)};a.target.settings.filter.followCategoriesSorting&&(!a.categoriesSorting||a.categoriesSorting&&(a.categoriesSorting+"").length>3)?(console.log("Filter is trying to get categories sorting..."),M(t,e,"page-context",{}).then(function(t){t&&t.categoryTree&&t.categoryTree.length?(d.categoriesSorting={},t.categoryTree.forEach(function(t){"ROOT"!==t.type&&(d.categoriesSorting[t.displayName]=t.orderedItemIds)}),a.categoriesSorting=d.categoriesSorting,a._sortGrid()):t.gotFromServer&&(delete t.gotFromServer,a.categoriesSorting=t,a._sortGrid()),m()})):m()}else n(d);a&&a.target&&a.target.settings.timelog&&console.timeEND("Get Items with HTML")}}).catch(function(t){console.error(t),n(d)})}}var c,d={collection:{},past:[],upcoming:[],items:[],html:"",nestedCategories:null};i&&(i.indexOf("http://")>-1||i.indexOf("https://")>-1)&&(t=i+"",i=!1);var g=i||t,u=function(){var e=L(g);e&&a.target.settings.useSessionCache?(setTimeout(function(){l(t)},1e3),n(e)):l(t)};if(r&&r.enabled&&(!a||a&&!a.multipleCollectionsFetched)){var p=i?"main-content":"page-context",m=window.location.hostname.replace(/\./g,"-")+"_"+p+"_"+t,h=L(m);W(t,p,h,r).then(function(t){if(t&&t.items&&t.html&&(t.items.length||t.upcoming&&t.upcoming.length||t.past&&t.past.length)){var e=t.items&&t.items.length,i=t.items;if(e||!d.upcoming.length&&!d.past.length||(i=d.upcoming.concat(d.past),e=i.length),e&&i.forEach(function(t){t.updatedOn&&t.updatedOn+"-"}),t.timestamp&&(d.timestamp=t.timestamp),t.categoriesSorting)if("string"==typeof t.categoriesSorting)try{a.categoriesSorting=JSON.parse(t.categoriesSorting)}catch(t){console.log(t)}else a.categoriesSorting=t.categoriesSorting;(t.nestedCategories&&t.nestedCategories.tree||t.nestedCategories&&t.nestedCategories.categories&&t.nestedCategories.categories.length)&&(d.nestedCategories=t.nestedCategories,a.target.settings.filter&&a.target.settings.filter.followNewProductsCategories&&a.regenerateAllowedStructure(t.nestedCategories)),t.html&&0==t.html.indexOf("LZString")&&(t.html=mt.decompressFromEncodedURIComponent(t.html.slice(8))),n(t),s=!0,(t.nestedCategories&&!t.nestedCategories.tree||!e||!h||!h.saved||h&&h.minutes&&h.minutes!=r.cacheTime||!r.cacheTime||window.top.Static&&window.top.Static.IN_BACKEND)&&u()}else u()}).catch(function(t){console.log(t),u()})}else u()})}function E(t,e){return t&&t.replace?t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x60;/g,"`"):t}function z(t){if(t=E(t),t){var e=document.createElement("div");e.innerHTML=t,t=e.textContent,e=null}return t}function B(t,i,r,s,o){if(!s.enabled)return!1;if(s.removeFields&&s.removeFields.length&&(s.removeFields=(s.removeFields+"").split(","),i&&i.items&&i.items.length))for(var n=i.items.length-1;n>=0;n--)if(i.items[n].postItemInjectCode&&delete i.items[n].postItemInjectCode,s.removeFields.forEach(function(t){t=t.trim(),i.items[n].hasOwnProperty(t)&&delete i.items[n][t]}),i.items[n].items&&i.items[n].items.length&&s.removeFields.indexOf("internalImages")>-1)for(var l=i.items[n].items.length-1;l>=0;l--){var c=i.items[n].items[l].oembed;i.items[n].items[l]={assetUrl:i.items[n].items[l].assetUrl,systemDataId:i.items[n].items[l].systemDataId,id:i.items[n].items[l].id,parentId:i.items[n].items[l].parentId},c&&(i.items[n].items[l].oembed=c)}var d=dt&&dt.website&&dt.website.baseUrl||window.location.origin;i.timestamp=e(),t.length>250&&(t="/"+a(t)),i.nestedCategories&&i.nestedCategories.categoryTree&&(i.nestedCategories.categoryTree=!1),i.html&&"LZString"!==i.html&&(i.html="LZString"+mt.compressToEncodedURIComponent(i.html)),i.html&&i.html.length&&(i.html.length/1048576).toFixed(2);var g=JSON.stringify({url:d+decodeURIComponent(t),content:i});console.log("Size to save: ",(g.length/1048576).toFixed(2)+"MB");var u=function(e){var i=window.location.hostname.replace(/\./g,"-")+"_"+r+"_"+t;if(e){i=i.replace(/\//g,"").replace(/\,/g,"-")+"_json";var a=i+"_expires";try{window.localStorage.removeItem(i),window.localStorage.removeItem(a)}catch(t){console.warn(t)}}else q({saved:!0,minutes:s.cacheTime,timestamp:(new Date).getTime()},i,!0,s.cacheTime),console.log("Saved")};o?(console.log("Saving"),u()):(console.log("Pushing"),fetch("https://tools.squarewebsites.org/api/save-sqs-response/"+r+"/",{headers:{"content-type":"application/json;charset=UTF-8","x-requested-with":"XMLHttpRequest"},method:"POST",mode:"cors",credentials:"omit",body:g}).then(function(t){return t.json()}).then(function(t){t.success&&t.file_saved?u():(console.warn(t),u(!0))}).catch(function(t){console.log(t),u(!0)}))}function W(t,i,r,s){var o=dt&&dt.website&&dt.website.baseUrl&&new URL(dt.website.baseUrl)||window.location;t.length>250&&(t=a(t));var n=o.hostname.replace(/\./g,"-")+"/"+i+"/"+(d(decodeURIComponent(t)).replace("?","--query--").replace(/[^A-Za-z0-9-]+/g,"-")||"-"),l="https://tools.squarewebsites.org/sqs-response/"+n+".js";!r||!r.saved||r&&r.minutes&&r.minutes!=s.cacheTime||!s.cacheTime?l+="?ver="+e():r&&r.timestamp&&(l+="?ver="+e());var c=l.replace(".js","-jsonp.js"),g=!1;return new Promise(function(t,e){var i=function(){return fetch(l,{headers:{"content-type":"text/javascript;charset=UTF-8","x-requested-with":"XMLHttpRequest"},method:"GET",mode:"cors",credentials:"omit"}).then(function(t){if(!t.ok)throw new Error("HTTP status "+response.status);return t.json()}).then(function(e){t(e)}).catch(function(t){e(t)})};c&&g?u(c,"uf-data-"+(new Date).getTime(),null,function(){window.__universal_filter_data&&window.__universal_filter_data[n]?t(window.__universal_filter_data[n]):i()},function(){i()}):i()})}function j(t,i,a){var r=i&&i.target&&i.target.settings.useSQSProxy,s="",o="",n=!1;return new Promise(function(l){function c(t,g){var u={format:"json",view:"list",cache:e()};g=g&&(g.indexOf("%26")>-1||g.indexOf("&")>-1)?g.split("%26")[0].split("&")[0]:g||"",g&&(u.offset=g),fetch(t+(t.indexOf("?")>-1?"&":"?")+new URLSearchParams(u).toString()).then(function(t){if(t.ok||t.status<400)return t.json();throw new Error("Something went wrong, response statis is: "+t.status)}).then(function(e){var u;try{if(e.collection.tags&&delete e.collection.tags,e.collection.categories&&delete e.collection.categories,d.collection=e.collection,e.items&&e.items.length||e.upcoming&&e.upcoming.length||e.past&&e.past.length)d.items=e.items?d.items.concat(e.items):d.items.concat(e.upcoming,e.past),e.pagination&&e.pagination.nextPage&&g!==e.pagination.nextPageUrl.split("offset=")[1]?c(t,e.pagination.nextPageUrl.split("offset=")[1]):(i.target.settings.useSessionCache&&q(d,t),u=d.items&&d.items.length,u&&d.items.forEach(function(t){t.updatedOn&&(o+=t.updatedOn+"-")}),e.nestedCategories&&e.nestedCategories&&e.nestedCategories.categories.length&&e.nestedCategories.categories[0].id&&(e.nestedCategories.all&&(e.nestedCategories.all.allCategory=!0,e.nestedCategories.categories.unshift(e.nestedCategories.all)),d.nestedCategories=e.nestedCategories,i.target.settings.filter&&i.target.settings.filter.followNewProductsCategories&&i.regenerateAllowedStructure(d.nestedCategories)),r?(n&&i._updateFilterData(d),(!a||a&&!a.noServerSave)&&B(t,d,"json",r,!1),l(d)):l(d));else if(i.target.settings.useSessionCache&&q(d,t),u=d.items&&d.items.length,u&&d.items.forEach(function(t){t.updatedOn&&(o+=t.updatedOn+"-")}),r){n&&i._updateFilterData(d);var p=s==o||!0;window.top.Static&&window.top.Static.IN_BACKEND&&(p=!1),d.collection&&d.collection.collections&&(p=!1);var m=function(){l(d),B(t,d,"json",r,p)};i.target.settings.filter.followCategoriesSorting&&(!i.categoriesSorting||i.categoriesSorting&&(i.categoriesSorting+"").length>3)?(console.log("Filter is trying to get categories sorting..."),M(t,e,"page-context",{}).then(function(t){t&&t.categoryTree&&t.categoryTree.length?(d.categoriesSorting={},t.categoryTree.forEach(function(t){"ROOT"!==t.type&&(d.categoriesSorting[t.displayName]=t.orderedItemIds)}),i.categoriesSorting=d.categoriesSorting,i._sortGrid()):t.gotFromServer&&(delete t.gotFromServer,i.categoriesSorting=t,i._sortGrid()),m()})):m()}else l(d)}catch(t){return ut&&console.log("JSON Parse failed!"),!1}}).catch(function(t){return console.error(t),!1})}var d={collection:{},items:[]},g=t,u=function(){var e=L(g);e&&i.target.settings.useSessionCache?(setTimeout(function(){c(t)},1e4),l(e)):c(t)};if(r&&r.enabled&&(!a||a&&!a.noServerSave)){var p="json",m=window.location.hostname.replace(/\./g,"-")+"_"+p+"_"+t,h=L(m);W(t,p,h,r).then(function(t){if(t&&t.items){var e=t.items&&t.items.length;e&&t.items.forEach(function(t){t.updatedOn&&(s+=t.updatedOn+"-")}),(t.nestedCategories&&t.nestedCategories.tree||t.nestedCategories&&t.nestedCategories.categories&&t.nestedCategories.categories.length)&&(d.nestedCategories=t.nestedCategories,i.target.settings.filter&&i.target.settings.filter.followNewProductsCategories&&i.regenerateAllowedStructure(t.nestedCategories)),l(t),n=!0,(!e||!h||!h.saved||h&&h.minutes&&h.minutes!=r.cacheTime||!r.cacheTime||window.top.Static&&window.top.Static.IN_BACKEND)&&u()}else u()}).catch(function(t){console.log(t),u()})}else u()})}function U(){function t(){window.innerWidth!=window.prevWindowWidth&&(window.prevWindowWidth=window.innerWidth),O(),st=null,window._scrollBarWidth=window.innerWidth&&document.body&&document.body.offsetWidth?window.innerWidth-document.body.offsetWidth:0}window._scrollBarWidth=window.innerWidth&&document.body&&document.body.offsetWidth?window.innerWidth-document.body.offsetWidth:0,st&&clearTimeout(st),st=setTimeout(t,400)}function R(){function t(){ct&&ct.length&&ct.forEach(function(t){t.container._node.getBoundingClientRect().top<10&&t.target.settings.closeOnOverScroll&&(t.container.hasClass("mobile-panel-open")||(t.customFiltersWrapper.all(".archive-dropdown-toggle-checkbox").set("checked",!1),t.searchContainer&&t.searchContainer.removeClass("active"))),t.target.settings.hooks&&t.target.settings.hooks.onScroll&&"function"==typeof t.target.settings.hooks.onScroll&&t.target.settings.hooks.onScroll(t)}),ot=null}ot&&clearTimeout(ot),ot=setTimeout(t,60)}function V(){ct&&ct.length&&ct.forEach(function(t){t._destroy()}),nt&&(window.clearInterval(nt),nt=null),ct=[],lt&&(lt.detach(),lt=null),window.removeEventListener("resize",U),ut&&console.log("destroy")}function G(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]&&"object"==typeof e[i]?G(t[i],e[i]):t[i]=e[i]);return t}function Z(t,e){var i=!1,a=[];if(e&&"string"!=typeof e)return a;if(e&&e.indexOf("--noQtyInStock")>-1&&(i=!0,e=e.replace("--noQtyInStock","")),t.variantOptions&&t.variantOptions.hasOwnProperty(e)&&i)return t.variantOptions[e];var r=t&&t.variants?t.variants:!(!t||!t.structuredContent)&&t.structuredContent.variants;if(r&&r.length)for(var s=0;s<r.length;s++){var o=i?!!i&&(r[s].attributes[e]||r[s][e]):(r[s].hasOwnProperty("qtyInStock")&&r[s].qtyInStock||r[s].hasOwnProperty("unlimited")&&r[s].unlimited)&&(r[s].attributes[e]||r[s][e]);"string"==typeof o&&(o=o.trim()),o&&-1==a.indexOf(o)&&a.push(o)}return a[0]&&a[0].indexOf&&a[0].indexOf(","),a.length&&((a+"").split(",").length,a.length),a}function H(t){var e={width:[],height:[],weight:[],sku:[],prices:[],qtyInStock:0},i=t.structuredContent;i&&2===i.productType&&(e.qtyInStock=1e10);var a=t&&t.variants?t.variants:!(!t||!t.structuredContent)&&t.structuredContent.variants;if(a&&a.length){for(var r=0,s=0;s<a.length;s++){var o=(a[s].onSale?a[s].salePrice:a[s].price)/100;-1===e.prices.indexOf(o)&&e.prices.push(o);var n=a[s].optionValues;["width","height","len","weight","sku"].forEach(function(t){var i=a[s][t]&&(a[s][t]+"").trim();i&&e[t]&&-1==e[t].indexOf(i)&&e[t].push(i)}),e.qtyInStock||(a[s].unlimited?e.qtyInStock=1e10:r+=a[s].qtyInStock),n.length&&n.forEach(function(t){var i=t.optionName,a=t.value;"string"==typeof a&&(a=a.trim()),e[i]||(e[i]=[]),a&&-1==e[i].indexOf(a)&&e[i].push(a)})}e.qtyInStock||(e.qtyInStock=r)}for(var l in e.prices.sort(function(t,e){return t-e}),e)e.hasOwnProperty(l)&&e[l].length&&(e[l]+"").indexOf(", ")>-1&&(e[l]=(e[l]+"").split(", ").map(function(t){return t.trim()}));return e}function Q(t){if(t.variantOptions&&t.variantOptions.hasOwnProperty("qtyInStock"))return t.variantOptions.qtyInStock;var e=t.structuredContent;if(!e)return"";if(e&&e.productType&&2===e.productType)return 1e10;for(var i=0,a=0;a<e.variants.length;a++){var r=e.variants[a];if(r.unlimited)return 1e10;i+=r.qtyInStock}return i}function J(t){if(t&&t.container&&t.settings&&t.settings.virtualFilter&&t.settings.virtualFilter.enabled&&(t.items=".virtual-filter-item"),t&&t.container&&t.items){var e=Y.all(t.container),i=e.size();if(i){var a="Container: "+t.container+"\nItems: "+t.items;if(t.settings&&t.settings.isotope&&t.settings.isotope.enabled&&(a=a+"\nIsotope: "+JSON.stringify(t.settings.isotope)),setTimeout(function(){tt(a)},8e4),window.customFiltersInitInterval){var r=0;nt=setInterval(function(){if(r>=i)window.clearInterval(nt),nt=null,ut&&console.log("customFilters built");else{var a=e.item(r);(a.ancestor(".sqs-block-summary-v2")||a.ancestor(".sqs-block-gallery"))&&(a=a.ancestor(".sqs-block")),a.hasClass("custom-filter-container")||(t.index=r,a.CustomFilter=new K(a,t),ct.push(a.CustomFilter))}r++},window.customFiltersInitInterval)}else e.each(function(e,i){if(e.CustomFilter&&e.CustomFilter.target.settings.noDestroy)return console.log("No Filter reload there because of noDestroy setting!"),!1;t.settings.hooks&&t.settings.hooks.beforeCreate&&"function"==typeof t.settings.hooks.beforeCreate&&t.settings.hooks.beforeCreate(t,e),(e.ancestor(".sqs-block-summary-v2")||e.ancestor(".sqs-block-gallery"))&&(e=e.ancestor(".sqs-block")),e.hasClass("custom-filter-container")||t.noNeedCreate||e.hasClass("ProductItem-relatedProducts")||e.hasClass("relatedProducts")||e.get("parentNode").hasClass("relatedProducts")||(t.index=i,e.CustomFilter=new K(e,t),ct.push(e.CustomFilter))})}else Y.one("body")&&Y.one("body").addClass("no-custom-filter-activated"),ut&&console.log("No Filter containers found",e)}else Y.one("body")&&Y.one("body").addClass("no-custom-filter-activated")}function X(t,e){return t=t.replace(/{{(\w+)}}/g,function(t,i){return e&&e.hasOwnProperty(i)?e[i]:"auto"}),t}function $(t,e,i){var a=document.createElement("link");a.href=t,a.rel="stylesheet",a.onload=function(){i&&i(null,{nodes:[this]})},e=e||document.getElementsByTagName("head")[0],e.appendChild(a)}function K(t,e){if(t){var a={container:".ProductList",items:".hentry",settings:{loadFastClick:!0,hidden:!1,noDestroy:!1,runOnDOMReady:!1,wrapFilterContainer:!1,placeFiltersTo:null,shuffle:!1,position:"top",align:"left",sticky:{enabled:!1,top:"6%"},noResultMessage:"",noResultOnStart:!1,customClasses:"",view:"dropdowns",showItemsCount:!0,itemsCount:{enabled:!0,text:"",positionOrder:1},showCheckboxes:!1,closeOptionsOnSelect:!0,closeOnOverScroll:!1,closeOnMouseOut:!1,accordionDropdowns:!1,keepDropdownsOpen:!1,keepDropdownsOpenOnInit:!1,handleImagesLoading:!0,stripHTMLComments:!1,deEscapeHTML:!0,urlQuery:!0,listCollection:{enabled:!0,container:null,getItemsHTMLOnly:!0,itemLinkSelector:"a"},reInitSSLayoutForNewItems:!1,requestAttrWithAjax:!0,waitForAjax:!1,collectionUrl:null,useLocalCache:!1,compatCatTagInQuery:!0,useSQSProxy:{enabled:!0,cacheTime:10,removeFields:"commentState,commentCount,fulfilledExternally,excerpt,variants,digitalGoods,salePriceCents,salePriceMoney,priceMoney,priceCents,isSubscribable,onSale,variantOptionOrdering,additionalFieldsForm,additionalFieldsFormId,authorId,internalImages,contentType,customAddButtonText,useCustomAddButtonText,unsaved,systemDataVariants,systemDataSourceType,pendingPushedServices,pushedServices,displayIndex"},useHistory:!1,initState:{},parentFilter:null,performanceMode:!1,optionsDescription:{container:null},topSection:{enabled:!1,align:"center",display:"flex",items:"Location|Home-Type|Search|Sort"},virtualFilter:{enabled:!1,realFilterPageUrl:"/all",goButton:{title:"Results"}},updateFilterOptions:{enabled:!0,nonExistOptions:{hide:!1,disable:!1,disableHard:!1,moveBottom:!1},showOptionsCounters:!1,optionsCounterWrap:"- ()"},colorSwatches:{enabled:!1,circles:!1,align:"center",size:{width:"32px",height:"32px"},tooltips:{enabled:!1,background:"#000",color:"#fff",position:"top",borderRadius:"2px",padding:"5px 10px",fontSize:"14px",fontFamily:"inherit"},backgrounds:{Black:"#000000",Red:"#B90116",Yellow:"#FFD35C",Pink:"#FDBFC7"},getAttr:"variant|Color"},pagination:{enabled:!1,pageSize:20,place:"bottom",scrollToTop:{duration:600},backgroundColor:"transparent",margin:"3% 0",padding:"0",align:"center",pagesRange:3,pagesAround:2,showPrevNext:{enabled:!1,hideItems:!1,next:"Next",prev:"Prev"},items:{style:"square",width:"32px",margin:"20px",borderWidth:"2px",backgroundColor:"#fff",activeBackgroundColor:"#555",color:"#000",activeColor:"#fff"},loadMoreButton:{enabled:!1,text:"Load more...",alignment:"center",size:"small",style:"primary",ignoreLZSSetings:!1}},mobilePanel:{enabled:!0,forceOnWidth:"500px",useAsDesktop:!1,triggerButtonName:"Filter",align:"left",closeButtonPosition:"bottom",closeButtonText:"",keepDropdownsOpen:null,closeOnSelect:!1,closeOnSearch:!1,closeOnOutsideClick:!1},advancedMap:{advancedMapContainer:null,activateMarkerInfoOnItemHover:!0,activateItemOnMarkerClick:!0,activateMarkerInfoOnItemClick:!1,desactivateMarkerOnItemMouseOut:!1,updateMapBound:!0,followMapBounds:!1,autocomplete:{enabled:!1,positionOrder:100,text:"Search Zip",minLength:3,customSearchFunc:!1,timeout:300,dimension:{enabled:!0,val:"",values:{}},radius:{enabled:!0,hidden:!1,val:100,step:1,max:200,min:10},circle:{strokeColor:"#65bedc",strokeWeight:1,strokeOpacity:1,fillColor:"#65bedc",fillOpacity:.4},options:{types:["(regions)"],componentRestrictions:{country:"usa"}}}},externalFilterLinks:{enabled:!1,hideFilters:!1,ignoreFilterName:!1,container:null,items:"a[href]"},simpleFilter:{anim:!0,layoutAnim:!1,respectSSAnimations:!1,show:{effect:"scale",transitionDuration:300,stagger:16,easing:"ease-in-out"},hide:{effect:"scale",transitionDuration:200,stagger:36,easing:"ease-in-out"}},isotope:{enabled:!1,transitionDuration:300,columnWidth:null,gutter:null,layoutMode:null,stamp:null},mixitup:{enabled:!1,transitionDuration:300},clearAllButton:{enabled:!1,show:!1,text:"Clear All",place:"before"},sort:{enabled:!0,title:"Sort",positionOrder:99,soldGoAfter:!1,items:[]},filter:{enabled:!0,useItemsClassesForData:!1,cacheOptions:!0,setCategoriesClasses:!0,setTagsClasses:!0,followNewProductsCategories:!0,useDataAttributes:!0,transliterateFunction:null,followCategoriesSorting:!0,category:{positionOrder:2,main:"categoriesDropdown",name:"Category",sort:"asc",getAttr:"categories",multiple:!0,strict:!0,hideDefaultLabelIfDirty:!1,hideValueLabel:!1,showAll:!1},tag:{positionOrder:3,main:"tagsDropdown",hideValueLabel:!1,name:"Tag",sort:"asc",getAttr:"tags",multiple:!0,strict:!0,hideDefaultLabelIfDirty:!1,showAll:!1},items:[]},search:{enabled:!0,positionOrder:100,text:"Search",minLength:1,submitOnEnter:!1,timeout:400,latinize:!0,avoidSmartyPunctuation:!0,regExpWordsDelimiter:null,highlightSearch:!1,searchFunc:"exst_text|body|categories|tags|excerpt",excludeRelatedSummaries:!0,customSearchFunc:!1},productsBadges:null,hooks:{beforeCreate:null,beforeInit:null,onInit:null,afterInit:null,htmlListFetched:null,htmlListJSONTransform:null,onStart:null,onDropdownsBuilt:null,afterRequest:null,beforeFilter:null,onFilter:null,afterFilter:null,onResize:null}}};if(this.target=G(a,e),this.container=t,this.target.settings.filter.transliterateFunction&&"function"==typeof this.target.settings.filter.transliterateFunction){var r=this,s=x;x=function(t){return t=s(r.target.settings.filter.transliterateFunction(t)||t),t}}this.slugify=x;r=this;if(window.location.search&&window.location.search.indexOf("=")>-1){var o=window.location.search.substring(1);try{var n=i(o);n["filter-timelog"]&&(this.target.settings.timelog=!0),n["filter-debug"]&&(ut=!0),n["filter-disable-images-loading"]&&(this.target.settings.handleImagesLoading=!1),n["filter-enable-pagination"]&&(this.target.settings.pagination.enabled=!0,this.target.settings.pagination.pageSize=parseInt(n["filter-enable-pagination"])),n["filter-enable-load-more"]&&(this.target.settings.pagination.enabled=!0,this.target.settings.pagination.pageSize=parseInt(n["filter-enable-load-more"]),this.target.settings.pagination.loadMoreButton.ignoreLZSSetings=!0,this.target.settings.pagination.loadMoreButton.enabled=!0)}catch(t){console.log(t)}}this.table_block=this.container.one("table.custom-table-block");var l=this.container._node&&this.container._node.dataset.controller&&this.container._node.dataset.controller.indexOf("Gallery")>-1;try{if(this.table_block)this.table_block.hasClass("custom-table-inited")?this._init():this.table_block._node.addEventListener("table-init",function(t){r._init()},!0);else if(l){var c=this.container.one('>div[class*="-wrapper"]');if(c&&(this.container._node.dataset.controller.indexOf("Strips")>-1||this.container._node.dataset.controller.indexOf("Masonry")>-1))if(c._node.className&&c._node.className.indexOf("--ready")>-1)setTimeout(function(){r._init()},60);else{var d=!1,g=new MutationObserver(function(t){t.forEach(function(t){if("class"==t.attributeName){var e=t.target.className&&t.target.className.indexOf("--ready")>-1;e&&!d&&(d=!0,setTimeout(function(){r._init()},60))}})});g.observe(c._node,{attributes:!0})}else setTimeout(function(){r._init()},60)}else this._init()}catch(t){console.log("Init Error",t)}}}function tt(t){}function et(t){t=t||window;var e=t.document.body;if(!t.SQSLayoutObserver&&e){var i=l(function(t){Y.Global.fire("SQSLayout:edit",{context:t})},2e3,!1);t.SQSLayoutObserver=new MutationObserver(function(e){e.forEach(function(e){e.type&&"attributes"==e.type&&"class"===e.attributeName&&e.target.className&&e.target.className.length&&(e.target.className.indexOf("sqs-layout-rendering")>-1||e.target.className.indexOf("sqs-editing")>-1)&&i(t)})}),t.SQSLayoutObserver.observe(e,{childList:!0,subtree:!0,attributes:!0})}}function it(){gt=gt||window.Y.one("body");try{window.customFilterSettings||(window.customFilterSettings={targets:[{container:".ProductList,.collection-type-products.view-list .main-content",items:".hentry",settings:{sort:{enabled:!0,items:[{name:"Price",order:"asc|desc"}]}}}]}),window.customFilterSettings&&(lt=Y.Global.on("advanced-maps:initialized",function(t){if(t){var e=t.parentNode&&t.parentNode.className&&t.parentNode.className.indexOf("map-block")>-1?t.parentNode.id:"";ct&&ct.length&&ct.forEach(function(i){var a=i.target.settings.advancedMap;if(e&&a&&a.advancedMapContainer){if(t._map_data&&(!i.coll_data||!i.coll_data.items||i.coll_data.items.length<t._map_data.length)&&(i.coll_data.items=t._map_data),t.classList.add("map-is-used-with-filter"),t._map_config&&t._markers&&t._markers[0]&&t._markers[0].outsideItem&&!i.items.size()?(i.target.items=".outside-marker-item",i.target.settings.performanceMode=!0,i.container.one('.custom-maps-outside-markers-info[data-position="relative"]')||(a.activateMarkerInfoOnItemHover=!1),i.items=i.container.all(".outside-marker-item"),i.items.size()&&i.items.addClass("custom-filter-grid-item"),i.itemsParent=i.items.item(0)&&i.items.item(0).get("parentNode"),i.itemsParent&&i.itemsParent.addClass("custom-filter-grid"),i.container.addClass("cf-request-finished"),i._addItemsAttributes(),i._buildDropdowns(),i._checkInitState(),i._sortGrid(!0)):(i._addItemsAttributes(),i._buildDropdowns(),i._checkInitState(),i._sortGrid(!0)),i.target.settings.noResultMessage&&i.container.get("parentNode").one(".cf-no-results-wrapper"),a.autocomplete&&a.autocomplete.enabled&&i.mapAutocompleteContainer&&i._initMapAutoComplete(),a.followMapBounds&&t.__map){a.updateMapBound=!1;var r=l(function(e){i.needBoundsChange||i._followMapBounds(t),i.needBoundsChange=!1},100,!1);t.__map.addListener("bounds_changed",r)}i.target.settings.hooks&&i.target.settings.hooks.onMapInit&&"function"==typeof i.target.settings.hooks.onMapInit&&i.target.settings.hooks.onMapInit(i)}})}}),window.customFilterSettings.targets&&window.customFilterSettings.targets.length&&(ut&&console.log("find targets"),window.customFilterSettings.targets.forEach(function(t){t.settings?t.settings.runOnDOMReady?(ut&&console.log("Waiting DOM Ready"),Y.once("domready",function(){ut&&console.log("DOM Ready"),setTimeout(function(){J(t),ct&&ct.length&&ct.forEach(function(t){t._registerChildFilters()})},t.settings.runDelay||60)})):t.settings.runDelay?setTimeout(function(){J(t),ct&&ct.length&&ct.forEach(function(t){t._registerChildFilters()})},t.settings.runDelay):J(t):(console.log("No Settings"),document.body&&document.body.removeAttribute&&document.body.removeAttribute("data-cf-filter-not-active"))}),w()),window.addEventListener("resize",U,!1),window.addEventListener("scroll",R,!1)),Y.fire("custom-filter:check-child-filters")}catch(t){console.warn(t)}}function at(){console.log("Run Universal Filter"),document.body&&document.body.setAttribute&&(document.body.setAttribute("data-cf-filter-not-active",!0),window.customFilterSettings&&window.customFilterSettings.enableDefaultCategoriesNav&&document.body.setAttribute("data-enable-default-categories-nav",!0)),it(),et(window),window._scrollBarWidth=window.innerWidth&&document.body&&document.body.offsetWidth?window.innerWidth-document.body.offsetWidth:0,ct&&ct.length&&ct.forEach(function(t){t._registerChildFilters()})}function rt(){window.CustomSQSFilter=K;var t=function(){window.Y&&(window.addEventListener("mercury:load",at),window.addEventListener("mercury:unload",V),at())};!window.Y||"interactive"!==document.readyState&&"complete"!==document.readyState?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),setTimeout(function(){ut&&console.log("before Filter",window.Y,document.readyState),t()},16)},!1):t()}var st,ot,nt,lt,ct=[],dt=window.Static&&window.Static.SQUARESPACE_CONTEXT&&window.Static.SQUARESPACE_CONTEXT,gt=window.Y&&Y.one("body"),ut=!1,pt="undefined"!=typeof InstallTrigger;Element.prototype.f_matches||(Element.prototype.f_matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){var e=this.parentElement||this.parentNode;e||(e=document.createDocumentFragment(),e.appendChild(this));for(var i=e.querySelectorAll(t),a=i.length;--a>=0&&i.item(a)!==this;);return a>-1}),Object.size=function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i};var mt=function(){function t(t,e){if(!a[t]){a[t]={};for(var i=0;i<t.length;i++)a[t][t.charAt(i)]=i}return a[t][e]}var e=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={},r={compressToEncodedURIComponent:function(t){return null==t?"":r._compress(t,6,function(t){return i.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),r._decompress(e.length,32,function(a){return t(i,e.charAt(a))}))},compress:function(t){return r._compress(t,16,function(t){return e(t)})},_compress:function(t,e,i){if(null==t)return"";var a,r,s,o={},n={},l="",c="",d="",g=2,u=3,p=2,m=[],h=0,f=0;for(s=0;s<t.length;s+=1)if(l=t.charAt(s),Object.prototype.hasOwnProperty.call(o,l)||(o[l]=u++,n[l]=!0),c=d+l,Object.prototype.hasOwnProperty.call(o,c))d=c;else{if(Object.prototype.hasOwnProperty.call(n,d)){if(d.charCodeAt(0)<256){for(a=0;a<p;a++)h<<=1,f==e-1?(f=0,m.push(i(h)),h=0):f++;for(r=d.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r>>=1}else{for(r=1,a=0;a<p;a++)h=h<<1|r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r=0;for(r=d.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r>>=1}g--,0==g&&(g=Math.pow(2,p),p++),delete n[d]}else for(r=o[d],a=0;a<p;a++)h=h<<1|1&r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r>>=1;g--,0==g&&(g=Math.pow(2,p),p++),o[c]=u++,d=String(l)}if(""!==d){if(Object.prototype.hasOwnProperty.call(n,d)){if(d.charCodeAt(0)<256){for(a=0;a<p;a++)h<<=1,f==e-1?(f=0,m.push(i(h)),h=0):f++;for(r=d.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r>>=1}else{for(r=1,a=0;a<p;a++)h=h<<1|r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r=0;for(r=d.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r>>=1}g--,0==g&&(g=Math.pow(2,p),p++),delete n[d]}else for(r=o[d],a=0;a<p;a++)h=h<<1|1&r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r>>=1;g--,0==g&&(g=Math.pow(2,p),p++)}for(r=2,a=0;a<p;a++)h=h<<1|1&r,f==e-1?(f=0,m.push(i(h)),h=0):f++,r>>=1;for(;;){if(h<<=1,f==e-1){m.push(i(h));break}f++}return m.join("")},decompress:function(t){return null==t?"":""==t?null:r._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,i,a){var r,s,o,n,l,c,d,g=[],u=4,p=4,m=3,h="",f=[],v={val:a(0),position:i,index:1};for(r=0;r<3;r+=1)g[r]=r;for(o=0,l=Math.pow(2,2),c=1;c!=l;)n=v.val&v.position,v.position>>=1,0==v.position&&(v.position=i,v.val=a(v.index++)),o|=(n>0?1:0)*c,c<<=1;switch(o){case 0:for(o=0,l=Math.pow(2,8),c=1;c!=l;)n=v.val&v.position,v.position>>=1,0==v.position&&(v.position=i,v.val=a(v.index++)),o|=(n>0?1:0)*c,c<<=1;d=e(o);break;case 1:for(o=0,l=Math.pow(2,16),c=1;c!=l;)n=v.val&v.position,v.position>>=1,0==v.position&&(v.position=i,v.val=a(v.index++)),o|=(n>0?1:0)*c,c<<=1;d=e(o);break;case 2:return""}for(g[3]=d,s=d,f.push(d);;){if(v.index>t)return"";for(o=0,l=Math.pow(2,m),c=1;c!=l;)n=v.val&v.position,v.position>>=1,0==v.position&&(v.position=i,v.val=a(v.index++)),o|=(n>0?1:0)*c,c<<=1;switch(d=o){case 0:for(o=0,l=Math.pow(2,8),c=1;c!=l;)n=v.val&v.position,v.position>>=1,0==v.position&&(v.position=i,v.val=a(v.index++)),o|=(n>0?1:0)*c,c<<=1;g[p++]=e(o),d=p-1,u--;break;case 1:for(o=0,l=Math.pow(2,16),c=1;c!=l;)n=v.val&v.position,v.position>>=1,0==v.position&&(v.position=i,v.val=a(v.index++)),o|=(n>0?1:0)*c,c<<=1;g[p++]=e(o),d=p-1,u--;break;case 2:return f.join("")}if(0==u&&(u=Math.pow(2,m),m++),g[d])h=g[d];else{if(d!==p)return null;h=s+s.charAt(0)}f.push(h),g[p++]=s+h.charAt(0),u--,s=h,0==u&&(u=Math.pow(2,m),m++)}}};return r}(),ht={},ft="ÀÁÄÂÈÉËÊÌÍÏÎÒÓÖÔÙÚÜÛàáäâèéëêìíïîòóöôùúüûÑñÇç·®©",vt="AAAAEEEEIIIIOOOOUUUUaaaaeeeeiiiioooouuuunncc-rc",bt="ãàáäâẽèéëêìíïîõòóöôùúüûñç·®©",yt="aaaaaeeeeeiiiiooooouuuunc-rc";const wt=["ου","ΟΥ","Ού","ού","αυ","ΑΥ","Αύ","αύ","ευ","ΕΥ","Εύ","εύ","α","Α","ά","Ά","β","Β","γ","Γ","δ","Δ","ε","Ε","έ","Έ","ζ","Ζ","η","Η","ή","Ή","θ","Θ","ι","Ι","ί","Ί","ϊ","ΐ","Ϊ","κ","Κ","λ","Λ","μ","Μ","ν","Ν","ξ","Ξ","ο","Ο","ό","Ό","π","Π","ρ","Ρ","σ","Σ","ς","τ","Τ","υ","Υ","ύ","Ύ","ϋ","ΰ","Ϋ","φ","Φ","χ","Χ","ψ","Ψ","ω","Ω","ώ","Ώ"],_t=["ou","ou","ou","ou","au","au","au","au","eu","eu","eu","eu","a","a","a","a","b","b","g","g","d","d","e","e","e","e","z","z","h","h","h","h","th","th","i","i","i","i","i","i","i","k","k","l","l","m","m","n","n","ks","ks","o","o","o","o","p","p","r","r","s","s","s","t","t","y","y","y","y","y","y","y","f","f","x","x","ps","ps","o","o","o","o"];window.prevWindowWidth=window.innerWidth,K.prototype={addVirtualItems:function(t,e,i){e&&e.length&&(this.coll_data.items=e),i&&i.nestedCategories&&(this.coll_data.nestedCategories=i.nestedCategories,this.regenerateAllowedStructure(this.coll_data.nestedCategories)),t&&t.addClass("custom-filter-grid-item");var a=this;if(a.target.settings.hooks&&a.target.settings.hooks.onAddVirtualItems)try{"function"==typeof a.target.settings.hooks.onAddVirtualItems&&a.target.settings.hooks.onAddVirtualItems(a,e,i)}catch(t){console.error(t)}this.virtual_list&&this.virtual_list.size()?this.virtual_list=this.virtual_list.concat(t):t&&t.size()&&this.existedItems&&this.existedItems.size()&&this.existedItems.item(0).getAttribute("id")!=t.item(0).getAttribute("id")&&!this.existedItems.item(0).hasClass("summary-item")?this.virtual_list=this.existedItems.concat(t):t&&t.size()?this.virtual_list=t:this.virtual_list=this.container.all(this.target.items),a.requestComplete=!0,a.virtual_active=!0,a._addItemsAttributes(!1,a.virtual_list),a._buildDropdowns(),a._checkInitState(),a.customFiltersWrapper&&(!a.customFiltersWrapper.one(".archive-group-name-link.active")||a.customFiltersWrapper.one(".archive-group-name-link.active")&&a.customFiltersWrapper.one(".archive-group-name-link.active").getAttribute("data-filter-val")),a._sortGrid(!0),a.container.addClass("cf-request-finished")},regenerateAllowedStructure:function(t){if(t){var e=this,i="",a={},r=tagsSlugs={},s=t.categoryTree||t.categories||[],o=t.tree||{};if(t.categories)s.forEach(function(t){var i=t.displayName,s=t.id;a[i]={},o[s]={displayName:i},r[i]={shortSlug:t.shortSlug},"ROOT"!==t.type&&t.orderedItemIds&&(e.categoriesSorting||(e.categoriesSorting={}),e.categoriesSorting[t.displayName]=t.orderedItemIds),t.children&&t.children.length&&t.children.forEach(function(t){var e=t.displayName,n=t.id;a[i][e]=[],o[n]={displayName:e,parentCategoryId:s},r[e]={shortSlug:t.shortSlug},t.children&&t.children.length&&t.children.forEach(function(t){var s=t.displayName,l=t.id;a[i][e].push(s),o[l]={displayName:s,parentCategoryId:n},r[s]={shortSlug:t.shortSlug}})})});else{if(!s.length)for(var n in o)o.hasOwnProperty(n)&&(s.push(o[n]),o[n].type&&"ROOT"==o[n].type&&(i=n));s&&s.length&&(s.forEach(function(t){"ROOT"==t.type&&(i=t.id),"ROOT"!==t.type&&t.orderedItemIds&&(e.categoriesSorting||(e.categoriesSorting={}),e.categoriesSorting[t.displayName]=t.orderedItemIds)}),s.forEach(function(t){t.parentCategoryId==i&&(a[t.displayName]={},r[t.displayName]=t)}),s.forEach(function(t){if(t.parentCategoryId!==i){var e=o[t.parentCategoryId]&&o[t.parentCategoryId].displayName,r=!(!o[t.parentCategoryId]||!o[t.parentCategoryId].parentCategoryId||o[t.parentCategoryId].parentCategoryId===i)&&o[t.parentCategoryId].parentCategoryId;e&&t.displayName&&a[e]&&(a[e][t.displayName]=[]),r&&o[r]&&o[r].displayName&&o[r]&&a[o[r].displayName]&&a[o[r].displayName][e].push(t.displayName)}}))}for(var l in e.getFilterAttrObj)if(e.getFilterAttrObj.hasOwnProperty(l)&&"categories"==e.getFilterAttrObj[l].attr){e.getFilterAttrObj[l].optionsStructure=a;var c=y(a);e.getFilterAttrObj[l].allowedOptions=c,e.getFilterAttrObj[l].categoriesSlugs=r,e.getFilterAttrObj[l].sort="asAllowed";var d={};if(c.length)for(var g=0,u=c.length;g<u;g++)d[c[g]]=g;e.getFilterAttrObj[l].allowedHash=d}if(e.filtersOptionsCached=!1,t.categoriesHash=o,e.categoriesHash=o,e._buildDropdowns(),e._checkInitState(),e.target.settings&&e.target.settings.filter&&e.target.settings.filter.cacheOptions){var p=e.u_id+"_"+x(e.customIndexUrl||e.collectionUrl)+"_categoriesStructure",m=parseFloat(e.target.settings.filter.cacheOptions)||10;q(a,p,!0,m)}}},addItems:function(t){var e=this;if(e.target.settings.timelog&&console.time("addItems"),this.items=this.items&&this.items.size()?this.items.concat(t):t&&t.size()?t:this.container.all(this.target.items),!this.itemsParent&&this.items.size()&&(this.itemsParent=this.items.item(0).get("parentNode"),this.itemsParent&&this.itemsParent.addClass("custom-filter-grid")),Y.fire("custom-filter-items-added",this.container),this.container.fire&&this.container.fire("custom-filter:items-added",{customFilter:e}),e.filterAnim=!1,e.waitingForNewItems,e.waitingForNewItems=!1,this.isotope){var i=this.isotope.options.transitionDuration;if(this.isotope.once("layoutComplete",function(e){setTimeout(function(){t.each(function(t){t.all("img").each(function(t){t.fire("refresh")})})},i)}),t&&t.size()){e.isotope_item_width?e.isotope_item_width:this.target.settings.isotope.columnWidth?this.target.settings.isotope.columnWidth:this.config?this.config.columnWidth:t.item(0).get("outerWidth");t.each(function(t){t.setStyles({width:"100%",top:null,left:null,visibility:"visible",float:"left"})}),e.isotope.reloadItems(),e.isotope.layout(),e._sortGrid()}}else this.mixitup?(this.mixitup.forceRefresh(),e._sortGrid()):this.itemsParent._node.__masonry?(this.itemsParent._node.__masonry.reloadItems(),this.itemsParent._node.__masonry.layout(),e._sortGrid()):e._sortGrid(!0);this.target.settings.advancedMap&&this.target.settings.advancedMap.activateMarkerInfoOnItemClick&&this.advancedMap&&Y.SQS.Gallery.Manager&&!this.container.one(".custom-filter-grid").hasClass("outside-container")&&Y.SQS.Gallery.Manager.unlightboxify(this.items),e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("addItems")},loadImages:function(t){if(!this.target.settings.handleImagesLoading)return!1;if(this.config&&"autocolumns"==this.config.design&&window.__initializeLazySummaries)return console.log("Do not affect on images loading, Lazy Summaries work on this"),!1;var e=this;t=t||this.items;var i=t&&t.size&&t.size();!this.requestComplete&&t&&t._nodes&&!this.gallery&&(i=6);e.container.hasClass("isotope-filter-used");var a=function(t,i){t.ancestor(".ProductList-item")&&t.ancestor(".ProductList-item").addClass("image-is-loaded"),t.get("parentNode").hasClass("image-wrapper")&&t.get("offsetHeight")<20&&t.setStyle("position","absolute"),i.setAttribute("data-show",!0),i.setAttribute("data-loaded",!0),t.getAttribute("srcset")&&"0"==t.getAttribute("sizes")?t.setAttribute("sizes",e._images_sizes):e._images_sizes||(e._images_sizes=t.getAttribute("sizes"))};if(t&&t.size){var r=0;t.each(function(t,s){if(!t.hasClass("element-hidden")&&t._node.parentNode&&t._node.isConnected){if(r>i)return!1;t.all("img").each(function(i){var r=i.get("parentNode");if(r&&r.hasClass("info-marker-image"))return!1;var s="none";r&&(r.hasClass("content-fill")||i.ancestor(".Index-gallery-item-image")||i.ancestor(".index-gallery")||i.ancestor(".product-image")||i.ancestor(".blog-item")||i.ancestor(".ProductList-innerImageWrapper")||i.ancestor(".grid-image")||i._node.className&&i._node.className.indexOf("cover")>-1?s="fill":(r.hasClass("content-fit")||i._node.className&&i._node.className.indexOf("contain")>-1)&&(s="fit")),i._node&&"none"==i._node.style.display&&i._node.isConnected&&!i.hasClass("grid-image-hover")&&(!i.hasClass("grid-item-image")||i.hasClass("grid-item-image")&&!i.hasClass("grid-item-additional-image"))&&(e.items,i.ancestor(".item-filter-loaded")&&(i._node.style.display="block")),i._node&&"none"==i._node.style.display&&i._node.isConnected&&i.hasClass("grid-image-hover")&&i.ancestor(".custom-filter-grid-item")&&i.ancestor(".custom-filter-grid-item")._node.addEventListener("mouseover",function(){i._node.style.display="block"},{once:!0}),i._node&&i._node.style.display,!i._node||0!=i._node.style.width&&"0px"!=i._node.style.width||i._node.classList&&(!i._node.classList||i._node.classList.contains("grid-item-additional-image")||i._node.classList.contains("grid-image-hover"))||(i._node.style.cssText=""),e.config&&e.config.imageAspectRatio&&"auto"!==(e.config.imageAspectRatio+"").toLowerCase()&&"autocolumns"!==e.config.design&&(!r||r._node.style.paddingBottom||r.hasClass("sqs-video-overlay")||r.hasClass("summary-thumbnail-container")||r.hasClass("sqs-gallery-image-container")||r.setStyles({paddingBottom:100/parseFloat(e.config.imageAspectRatio)+"%",height:0,overflow:"hidden"}));var o=i.ancestor(".sqs-video-wrapper");if(o)o.videoloader?(o.videoloader.fire("refresh"),o.videoloader._loaded&&o.setStyles({opacity:1})):(o.plug(Y.Squarespace.VideoLoader),o.videoloader.fire("refresh"),o.videoloader._loaded&&o.setStyles({opacity:1}));else if(i.hasClass("loaded")||(i._node.addEventListener("load",function(){this.classList.add("loaded"),i.fire("refresh"),a(i,t)},!1),i.width()&&i.hasAttribute("src")&&(i.addClass("loaded"),a(i,t))),i.loader)i.width()?i.fire("refresh"):i.loader.load();else{if(i.ancestor(".BlogList-item-image-link")&&dt&&dt.tweakJSON){var n="stacked"===dt.tweakJSON["tweak-blog-list-style"].toLowerCase(),l="auto"===dt.tweakJSON["tweak-blog-list-item-image-aspect-ratio-stacked"].toLowerCase();if(n&&l){var c=i._node;c.style.position=null,c.style.top=null,c.style.right=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,s=null}else s="fill"}i._no_loader||(i._no_loader=1),i._no_loader++;var d=!0;i.ancestor(".sqs-video-overlay")&&(s="fit"),i.hasClass("ProductList-image--alt")&&!Y.one(".tweak-product-list-item-hover-behavior-show-alternate-image")&&(d=!1,i.addClass("no-need-to-load")),a(i,t);try{i._node.loading&&"lazy"==i._node.loading||(window.ImageLoader.loadLazy?(window.ImageLoader.loadLazy(i._node,{mode:s,load:d,useAdvancedPositioning:!!i.ancestor(".grid-image")||!!i.ancestor(".image-wrapper")}),i._node.parentElement.classList.add("cf-img-parent","img-lazy-loading-used")):(window.ImageLoader.load(i._node,{mode:s,load:d,useAdvancedPositioning:!!i.ancestor(".grid-image")||!!i.ancestor(".image-wrapper")}),i._node.parentElement.classList.add("cf-img-parent","img-regular-loading-used"))),i._no_loader}catch(t){}}if(i.hasClass("loaded")&&i.getAttribute("src")&&0==i._node.style.opacity&&i._node.className&&-1==i._node.className.indexOf("--alt")&&-1==i._node.className.indexOf("image-hover")&&(i.hasClass("grid-item-image")||(i._node.style.opacity=1),a(i,t)),e.target.settings.performanceMode){var g=i.getAttribute("data-src"),u=i.getAttribute("src");g&&!u&&(i._node.addEventListener("load",function(){this.classList.add("loaded"),a(i,t)},!1),i.setStyles({position:"absolute",height:"100%",objectFit:"cover"}).setAttribute("src",g))}}),r++}})}},_buildPagination:function(t){var e=this,i=e.target.settings.pagination,a=t.size()/i.pageSize;if(this.paginationClicked,e.itemsCount&&e.itemsCount.one(".items-count").setAttribute("data-pagination",""),e.virtualGoButton&&e.virtualGoButton.setAttribute("data-pagination",""),i.enabled){var r=i.showPrevNext&&i.showPrevNext.enabled,s=r&&i.showPrevNext.hideItems,n=e.container.get("parentNode");if(n.one(".pagination-block")&&!n.one(".pagination-block").hasClass("cf-pagination-block")&&(n.one(".pagination-block").remove(),Y.all('style[id*="paginationStylesPlugin"]').remove()),a>1){if(this.container.removeClass("cf-no-pagination-items"),this.container.addClass("cf-pagination-items-exist"),n.one(".pagination-block"))e.pagination&&e.pagination.empty();else{var l='.pagination-block .before-next:not(.active):not(.around),.pagination-block .last-around:not(.active){margin-right: 4px!important}.pagination-block .around-first.around,.pagination-block .pagination-item.before-prev:not(.active):not(.around){margin-left: 4px!important}.pagination-block .pagination-item.show-dot{margin:0 1px!important;pointer-events:none!important}.pagination-block .pagination-item.show-dot:not(.active) a{border:none!important;width:auto!important;background-color:transparent!important}.pagination-block.hidePageNumbers .page-number,.pagination-block[data-page-number="1"] .arrow.prev,.pagination-block[data-page-number="last"] .arrow.next{display:none}.pagination-block:not(.showArrows) .arrow{display:none}.pagination-block:not(.showArrows) .page-number-last{margin:0!important}.pagination-block-plugin.loadMore-used .pagination-item{display:none}.pagination-block-plugin{margin:3% 0;clear:both;box-sizing:border-box;display:inline-block;width:100%}.pagination-item a{border:none;display:block;white-space:nowrap;text-align:center;padding:0;margin:0;border-width:2px;border-style: solid;transition:all .1s linear;-webkit-transition:all .1s linear}.pagination-block-plugin.style-circle .pagination-item a{border-radius:50%}.pagination-block-plugin.style-pillow .pagination-item a{border-radius:4px}.pagination-block-plugin .pagination-item:last-child{margin:0!important}.pagination-block-plugin .pagination-item{display:inline-block;margin-right:16px;overflow:hidden;vertical-align:middle}',c=".pagination-block.pagination-block-custom-filter-{{guid}} {margin:{{margin}};padding:{{padding}};background-color:{{backgroundColor}};text-align:{{align}}}",d=".pagination-block.pagination-block-custom-filter-{{guid}} .pagination-item{cursor:pointer;padding-bottom:5px;margin-right:{{margin}}}.pagination-block.pagination-block-custom-filter-{{guid}} .pagination-item a{border-width:{{borderWidth}};border-color:{{color}};height:{{width}};width:{{width}};line-height:{{lineHeight}};background-color:{{backgroundColor}};color:{{color}}}body .pagination-block.pagination-block-custom-filter-{{guid}} .pagination-item.active a,body .pagination-block.pagination-block-custom-filter-{{guid}} .pagination-item:hover a{background-color:{{activeBackgroundColor}};color:{{activeColor}};border-color:{{activeBackgroundColor}}}";i.guid=e.target.index,this.pagination=Y.Node.create('<nav class="pagination-block cf-pagination-block pagination-block-custom-filter-'+i.guid+' pagination-block-plugin clear"></nav>'),i.items&&(i.items.guid=i.guid,i.items.style&&this.pagination.addClass("style-"+i.items.style));try{i.items.lineHeight=i.items.lineHeight||parseFloat(i.items.width),i.items.lineHeight?i.items.lineHeight+=-1==(i.items.lineHeight+"").indexOf("px")?"px":"":i.items.lineHeight=i.items.width}catch(t){i.items.lineHeight=i.items.width}var u=X(c,i)+X(d,i.items);o(u,"paginationStylesPlugin-"+i.guid,e.container._node),o(l,"paginationStylesPlugin",document.body);var p=this.container.one(".sqs-gallery-container");p&&p.ancestor(".custom-filter-grid-item")&&(p=null),p&&p.addClass("clear");var m=i.container?e.container.one(i.container):e.table_block&&e.table_block.get("parentNode")||p||e.container.one(".custom-filter-grid")||e.container;if(!m)return console.log("Can not append pagination block"),t;m._node&&m._node.parentElement.createTBody&&(m=m.get("parentElement")),i.place&&"top"===i.place.trim()?m.insert(this.pagination,"before"):i.place&&"inside"===i.place.trim()?m.append(this.pagination):m.insert(this.pagination,"after")}r&&e.pagination&&e.pagination.addClass("showArrows"),s&&e.pagination&&e.pagination.addClass("hidePageNumbers");var h=!1;i.pagesRange&&a/i.pagesRange>=3&&(h=!0);t.size();var f=r&&i.showPrevNext.prev?i.showPrevNext.prev:"Prev";this.pagination&&this.pagination.append('<div class="pagination-item arrow prev"><a style="border-radius:0;width:auto;padding:0 5px" data-index="prev">'+g(f)+"</a></div>");for(var v=this.pagination_num,b="",y=1;y<a+1;y++){var w="",_="",C="",S="",x=1===y?" page-number-first":y>a?" page-number-last":"";if((v==y||!v&&1===y)&&(w=" active"),(y<v&&y>=v-i.pagesAround||y>v&&y<=v+i.pagesAround)&&v>=i.pagesRange&&(C=" around",b&&(C+=" around-first"),y==v+i.pagesAround&&y>i.pagesRange&&y<a-i.pagesRange&&(C+=" last-around")),h){S=y===i.pagesRange?" before-next":y===parseInt(a+2-i.pagesRange)?" before-prev":"";var k=y>i.pagesRange&&y<a-i.pagesRange+1;!k||C||w?b=!1:(_=" show-dot",b=!0)}var F=_&&!w?".":y;e.pagination&&e.pagination.append('<div class="pagination-item page-number pagination-item-'+y+w+_+S+C+x+'"><a data-index="'+y+'">'+F+"</a></div>")}var O=r&&i.showPrevNext.next?i.showPrevNext.next:"Next";if(e.pagination&&e.pagination.append('<div class="pagination-item arrow next"><a style="border-radius:0;width:auto;padding:0 5px" data-index="next">'+g(O)+"</a></div>"),i.loadMoreButton&&i.loadMoreButton.enabled&&(e.pagination&&e.pagination.addClass("loadMore-used"),!this.container.one(".pagination-loadMore-button"))){var A='<div class="sqs-block-button sqs-block pagination-loadMore-button"><div class="sqs-block-button-container sqs-block-button-container--{{alignment}}" data-alignment="{{alignment}}"><button class="sqs-block-button-element--{{size}} sqs-block-button-element sqs-button-element--{{style}} pagination-loadMore">{{text}}</button></div></div>';this.loadMoreButton=Y.Node.create(X(A,i.loadMoreButton)),this.pagination&&this.pagination.insert(this.loadMoreButton,"after"),e.pagination.hide()}}else this.container.addClass("cf-no-pagination-items"),this.container.removeClass("cf-pagination-items-exist"),e.pagination_num=1,e.pagination&&e.pagination.remove(),e.pagination=null;if(this.pagination_num&&(this.pagination||this.loadMoreButton)){if(this.pagination){this.pagination.setAttribute("data-page-number",this.pagination_num),this.pagination.all(".active").removeClass("active");var P=this.pagination.one(".pagination-item-"+this.pagination_num);P&&P.addClass("active")}var I=t.size(),L=(this.pagination_num-1)*i.pageSize,q=i.pageSize+L>t.size()?t.size():i.pageSize+L,T=I-q;t.size()>i.pageSize&&(t.each(function(t,i){(i<L||i>=q)&&e.hidden.push(t)}),i.loadMoreButton&&i.loadMoreButton.enabled?t._nodes=t._nodes.slice(0,q):t._nodes=t._nodes.slice(L,q),this.loadMoreButton&&(L=0),e.itemsCount&&e.itemsCount.one(".items-count").setAttribute("data-pagination","("+(L+1)+" - "+q+")"),e.virtualGoButton&&e.virtualGoButton.setAttribute("data-pagination","("+(L+1)+" - "+q+")"),T<1&&this.pagination&&this.pagination.setAttribute("data-page-number","last")),this.loadMoreButton&&(T<1?this.loadMoreButton.hide(!0):this.loadMoreButton.show(!0),e.pagination&&e.pagination.hide(),this.loadMoreButton&&this.loadMoreButton.one(".sqs-block-button-element").setAttribute("data-size",T))}}return this.paginationClicked=!1,t},_doSidebarWidth:function(){if((this.container&&this.container._node.className.indexOf("ProductList")>-1||this.itemsParent&&this.itemsParent._node.className.indexOf("ProductList")>-1)&&(Y.one("body").addClass("tweak-product-list-filter-display-hide").removeClass("tweak-product-list-filter-display-left-side").removeClass("tweak-product-list-filter-display-right-side").removeClass("tweak-product-list-filter-display-top"),window.getComputedStyle&&this.items.item(0))){var t=window.getComputedStyle(this.items.item(0)._node).marginRight,e=window.innerWidth>700&&this.customFiltersWrapper&&window.getComputedStyle(this.customFiltersWrapper._node).width?parseFloat(window.getComputedStyle(this.customFiltersWrapper._node).width)-20:280;if(t){var i=e-parseFloat(t)+.1;o("@media only screen and (min-width: 701px){body .custom-filter-position-right .ProductList-grid.custom-filter-grid,body .custom-filter-position-left .ProductList-grid.custom-filter-grid{max-width: calc(100% - "+i+"px)}}","grid-width-"+this.target.index,this.container._node)}}},_init:function(){var e=this;if(Y.one('link[rel="stylesheet"][href*="custom-filter.min.css"]')||(console.log("Need to load Filter stylesheet"),$("https://assets.squarewebsites.org/custom-filter/custom-filter.min.css",null,function(){console.log("Filter stylesheet loaded"),e._sortGrid()})),t()&&this.target.settings.loadFastClick)if(window.FastClick||document.querySelector("#fastclick-script")||window.loading_fastclick)try{window.loading_fastclick||window.FastClickFromFilter||(window.FastClickFromFilter=FastClick.attach(document.body),console.log("Fastclick ACTIVATED"))}catch(t){console.log(t)}else window.loading_fastclick=!0,u("https://assets.squarewebsites.org/custom-filter/fastclick.min.js","fastclick-script",null,function(){console.log("Fastclick loaded");try{window.FastClickFromFilter=FastClick.attach(document.body),console.log("Fastclick ACTIVATED")}catch(t){console.log(t)}});if(Y.one("body")&&Y.one("body").removeClass("no-custom-filter-activated"),Y.one("body").addClass("cf-filter-used-on-page").removeAttribute("data-cf-filter-not-active"),this.target.settings.simpleFilter&&this.target.settings.simpleFilter.persistent&&!this.target.settings.itemsParent){var i=this.container.get("children");this.container.prepend('<div class="cf-persist-container"></div>'),this.container.one(".cf-persist-container").append(i),this.itemsParent=this.container.one(".cf-persist-container")}this.container.hasClass("summary-v2-block")&&this.container.getAttribute("data-block-json")&&(this.container.LazySummariesData=JSON.parse(this.container.getAttribute("data-block-json")),this.container.LazySummariesData&&this.container.LazySummariesData.enableLazy);var r=this.container.getAttribute("id");if(r&&"productList"==r&&(this.container.get("parentNode").hasClass("container-content")||this.container.get("parentNode").hasClass("main-content")||"main-content"==this.container.get("parentNode").getAttribute("data-content-field")||"page"==this.container.get("parentNode").getAttribute("id"))&&(this.container=this.container.get("parentNode")),this.config=!!this.container.getAttribute("data-block-json")&&JSON.parse(this.container.getAttribute("data-block-json")),(this.container.hasClass("hfeed")&&this.container.hasClass("article-list")||this.container.hasClass("list-grid")&&this.container.get("parentNode").hasClass("products-flex-container")&&!this.target.settings.wrapFilterContainer||this.container.getAttribute("data-controller")&&this.container.getAttribute("data-controller").indexOf("Blog")>-1&&"top"==e.target.settings.position)&&(this.container=this.container.get("parentNode")),1==this.target.settings.wrapFilterContainer&&(this.container.wrap('<div class="cf-filter-wrapper"></div>'),this.container=this.container.get("parentNode")),window.location.search&&window.location.search.length>3&&this.container.addClass("cf-location-query-found"),this.container.get("parentNode")){if(this.container.get("parentNode").addClass("custom-filter-parent-node"),this.target.settings.customClasses&&(this.target.settings.customClasses+"").indexOf("follow-original-z-index")>-1&&this.container.get("parentNode").addClass("follow-original-z-index"),this.container.get("parentNode").hasClass("fe-block")){var s=this.container.ancestor(".fluid-engine");s&&s.addClass("fe-custom-filter-inside")}(!0===this.target.settings.sticky||this.target.settings.sticky&&this.target.settings.sticky.enabled)&&this.container.get("parentNode").addClass("cf-sticky-position-parent-node")}if(this.items=this.target.items&&this.container.one(this.target.items)?this.container.all(this.target.items):new Y.NodeList,this.existedItems=this.target.items&&this.container.one(this.target.items)?this.container.all(this.target.items):new Y.NodeList,(this.container.hasClass("BlogList")||this.container.hasClass("sqs-blog-list"))&&(this.container=this.container.get("parentNode")),this.target.settings.HTMLifySelectors){var n=this.container.all(this.target.settings.HTMLifySelectors+":not([data-htmlified])");n&&n.size()&&n.each(function(t){t.set("innerHTML",t.get("textContent")),t.setAttribute("data-htmlified",!0)})}if(this.scrollEl=this.target.settings.scrollElement?Y.one(this.target.settings.scrollElement):Y.one(document.scrollingElement)||Y.one(Y.UA&&Y.UA.gecko||Y.UA&&Y.UA.ie||navigator.userAgent.match(/Trident.*rv.11\./)?"html":"body"),this.first_sort_run=!1,this.target.settings.virtualFilter&&this.target.settings.virtualFilter.enabled&&(this.target.settings.simpleFilter.anim=!1,this.target.settings.simpleFilter.persistent=!0,this.target.settings.noScrollToResults=!0,this.virtualFilter=!0,this.target.settings.useHistory=!1),this.target.settings.hooks&&this.target.settings.hooks.beforeInit&&"function"==typeof this.target.settings.hooks.beforeInit&&this.target.settings.hooks.beforeInit(this),this.container.get("parentNode")&&this.container.get("parentNode").hasClass("custom-filter-container"))console.log("Hey, seems Filter initialized in Parent Node");else{Y.one("#categoryNav")&&Y.one("#categoryNav").hide(),this.target.settings.useSQSProxy&&this.target.settings.useSQSProxy.removeFields&&this.target.settings.useSQSProxy.excerptFieldNeeded&&(this.target.settings.useSQSProxy.removeFields=this.target.settings.useSQSProxy.removeFields.replace(/excerpt/g,"")),this.target.settings.productsBadges&&(this.target.settings.productsBadges.map?this.target.settings.productsBadges=this.target.settings.productsBadges.map(function(t){return t.trim()}):"string"==typeof this.target.settings.productsBadges?this.target.settings.productsBadges=this.target.settings.productsBadges.split(",").map(function(t){return t.trim()}):this.target.settings.productsBadges=null);var g=this.target.settings.advancedMap;if(g&&g.advancedMapContainer){var f=Y.one(g.advancedMapContainer);f&&(f.setAttribute("data-filter","request="+(this.target.settings.useSQSProxy&&this.target.settings.useSQSProxy.enabled)),this.advancedMap=f.one(".custom-map-block"),this.advancedMap&&this.advancedMap._node&&this.advancedMap._node._map_data&&this.advancedMap._node._map_data.length&&(this.coll_data||(this.coll_data={}),this.coll_data.items=this.advancedMap._node._map_data,Y.Global.fire("advanced-maps:initialized",this.advancedMap),console.log("Fired initialized Map Event")))}var _=["custom-filter-container","custom-filter-new-ver"];e.filterAnim=!1,this.target.settings.itemsGridOverflowVisible&&_.push("cf-grid-overflow-visible"),this.target.settings.requestAttrWithAjax&&this.container.addClass("cf-ajax-request"),this.target.settings.customClasses&&this.target.settings.customClasses.split(" ").forEach(function(t){t=x(t.trim()),_.push(t)}),this.target.settings.useLocalCache&&(this.target.settings.useSessionCache=!0),this.sortObj={index:"[data-index] parseInt",index_desc:"[data-index] parseInt",categories_sort:function(t,i){var a=i&&i.id||t.getAttribute("data-item-id")||t.getAttribute("data-set-id");return e.categoriesSortArray&&e.categoriesSortArray.length&&e.categoriesSortArray.indexOf(a)>-1&&(a=e.categoriesSortArray.indexOf(a)),a}},this.config&&this.config.sortSummaryItems&&"no-sort"!==this.config.sortSummaryItems&&(this.sortObj={index:"[data-index] parseInt",index_desc:"[data-index] parseInt",categories_sort:function(t,i){var a=i&&i.id||t.getAttribute("data-item-id")||t.getAttribute("data-set-id");return e.categoriesSortArray&&e.categoriesSortArray.length&&e.categoriesSortArray.indexOf(a)>-1&&(a=e.categoriesSortArray.indexOf(a)),a},lzs_alph:function(t,e){var i=t.querySelector("a[data-title]")||t.querySelector(".summary-title-link"),a=i&&i.dataset.title?i.dataset.title:i&&i.className&&i.className.indexOf("summary-title-link")>-1&&i.textContent.trim()?i&&i.textContent:t&&t._LZSData&&t._LZSData.title?t._LZSData.title:"";return a.toLowerCase().replace(/\r?\n|\r/g,"").replace(/ /g,"")},"lzs_alph-desc":function(t,e){var i=t.querySelector("a[data-title]")||t.querySelector(".summary-title-link"),a=i&&i.dataset.title?i.dataset.title:i&&i.className&&i.className.indexOf("summary-title-link")>-1&&i.textContent.trim()?i&&i.textContent:t&&t._LZSData&&t._LZSData.title?t._LZSData.title:"";return a.toLowerCase().replace(/\r?\n|\r/g,"").replace(/ /g,"")},"lzs_price-asc":function(t,e){var i=t.querySelector(".sqs-money-native"),a=i?parseInt(i.innerText.replace(/\D/g,"")):t.getAttribute("data-price")?parseInt(t.getAttribute("data-price")):0;return a},"lzs_price-desc":function(t,e){var i=t.querySelector(".sqs-money-native"),a=i?parseInt(i.innerText.replace(/\D/g,"")):t.getAttribute("data-price")?parseInt(t.getAttribute("data-price")):0;return a},"lzs_date-asc":function(t,e){var i=t.querySelector(".summary-metadata-item--date"),a=i&&i.getAttribute("datetime")?parseInt(i.getAttribute("datetime").replace(/\D/g,"")):t._LZSData&&t._LZSData.startDate?t._LZSData.startDate:t._LZSData&&t._LZSData.publishOn?t._LZSData.publishOn:t._LZSData&&t._LZSData.addedOn?t._LZSData.addedOn:0;return a},"lzs_date-desc":function(t,e){var i=t.querySelector(".summary-metadata-item--date"),a=i&&i.getAttribute("datetime")?parseInt(i.getAttribute("datetime").replace(/\D/g,"")):t._LZSData&&t._LZSData.startDate?t._LZSData.startDate:t._LZSData&&t._LZSData.publishOn?t._LZSData.publishOn:t._LZSData&&t._LZSData.addedOn?t._LZSData.addedOn:0;return a},lzs_random:"[data-index] parseFloat","lzs_likes-asc":"[data-like-count] parseInt","lzs_likes-desc":"[data-like-count] parseInt"}),this.sort_param="index",this.config&&this.config.sortSummaryItems&&(this.sort_param="lzs_"+this.config.sortSummaryItems,this.sort_defined="lzs_"+this.config.sortSummaryItems,"random"==this.config.sortSummaryItems&&(this.target.settings.shuffle=!0,this.sort_param="index")),this.items.size()&&(this.items.each(function(t,i){!t.hasAttribute("data-start-index")&&t.setAttribute("data-start-index",i),e.target.settings.simpleFilter.layoutAnim}),this.items.addClass("custom-filter-grid-item"),this.itemsParent||(this.itemsParent=this.items.item(0).get("parentNode")),this.target.settings.shuffle&&setTimeout(function(){e._addItemsAttributes(!0)},0)),this.container.LazySummariesData&&this.container.LazySummariesData.enableLazy&&!this.container.LazySummariesData.loadAllOrPag&&(this.target.settings.pagination.enabled=!0,this.target.settings.pagination.pageSize=this.container.LazySummariesData.pageSize||this.target.settings.pagination.pageSize,this.target.settings.pagination.loadMoreButton&&!this.target.settings.pagination.loadMoreButton.ignoreLZSSetings&&(this.target.settings.pagination.loadMoreButton.enabled=!0,this.target.settings.pagination.loadMoreButton.text=this.container.LazySummariesData.loadMoreText||this.target.settings.pagination.loadMoreButton.text));var C=!0;if(this.container.hasClass("summary-v2-block")&&this.container.one(".summary-item-list")&&(this.container.one(">.sqs-block-content").addClass("custom-filter-grid"),this.itemsParent=this.container.one(".summary-item-list"),C=!1),this.container.hasClass("blog-list")&&(this.container=this.container.get("parentNode"),this.itemsParent=this.container.one(".blog-list")),this.target.settings.itemsParent&&(this.itemsParent=this.container.one(this.target.settings.itemsParent)),this.itemsParent||(this.itemsParent=this.container.one(".list-grid")||this.container.one(".collection-content-wrapper[data-controller]")||this.container.one(this.target.container)||this.container),this.itemsParent&&C&&this.itemsParent.addClass("custom-filter-grid"),this.target.settings.stripHTMLComments&&e.itemsParent&&e.itemsParent._node&&setTimeout(function(){c(e.itemsParent._node)},0),this.sqs_query_factor=this.itemsParent&&(this.itemsParent.hasClass("ProductList-grid")||this.itemsParent.hasClass("ProductList-grid")||this.itemsParent.hasClass("BlogList")||this.itemsParent.hasClass("sqs-blog-list")||this.itemsParent.hasClass("blog-list"))&&(window.location.href.indexOf("category=")>-1||window.location.href.indexOf("/category/")>-1||window.location.href.indexOf("tag=")>-1||window.location.href.indexOf("/tag/")>-1),this.sqs_query_factor?Y.one("body").addClass("cf-sqs-query-in-url"):Y.one("body").removeClass("cf-sqs-query-in-url"),this._initFilterPosition(),this.target.settings.optionsDescription&&this.target.settings.optionsDescription.container&&(this.optionsDescriptionContainer=Y.one(this.target.settings.optionsDescription.container),this.optionsDescriptionContainer&&(_.push("cf-options-description-used"),this._initDescriptionContainer())),this.currentCats=[],this.currentTags=[],this.collectionUrl=this.target.settings.collectionUrl&&(this.target.settings.collectionUrl+"").trim().indexOf("/")>-1?(this.target.settings.collectionUrl+"").trim():null,this.getFilterAttrObj={},this.filterParams={},this.items_prices=[],this.pagination_num=1,this.target.settings.performanceMode&&_.push("performance-mode-used"),this.config&&!this.target.settings.collectionUrl){this.collectionUrl=this.config.collectionUrl||this.config.mapCollection&&this.config.mapCollection[0]&&this.config.mapCollection[0].urlId&&"/"+this.config.mapCollection[0].urlId,this.config.collectionFilter&&(this.config.collectionFilter.tag||this.config.collectionFilter.category)&&(this.config.filter=this.config.collectionFilter);var S=this.container.one(".summary-title-link")||this.container.one(".summary-thumbnail-container")&&this.container.one(".summary-thumbnail-container")._node.pathname&&this.container.one(".summary-thumbnail-container");if(!this.collectionUrl)if(S){var F=S._node.pathname.split("/");F.length<=6?this.collectionUrl="/"+F[1]:F.length>6&&(this.collectionUrl="/"+F[1]+"/"+F[2])}else this.collectionUrl=location.pathname;this.config.filter&&(this.config.filter.tag||this.config.filter.category)&&(this.collectionUrl+=this.config.filter.category?"?category="+this.config.filter.category.trim().replace(/ /g,"+").replace(/%20/g,"+").replace(/&/g,"%26"):"?",this.collectionUrl+=this.config.filter.tag?(this.collectionUrl.indexOf("?")>-1&&this.collectionUrl.indexOf("category=")>-1?"&":"")+"tag="+this.config.filter.tag.trim().replace(/ /g,"+").replace(/%20/g,"+").replace(/%20/g,"+").replace(/&/g,"%26"):"")}var O=this.container.one(".sqs-block-product .product-title");if(O&&!this.target.settings.collectionUrl){F=O._node.pathname.split("/");F.length<=6?this.collectionUrl="/"+F[1]:F.length>6&&(this.collectionUrl="/"+F[1]+"/"+F[2])}this.collectionUrl=this.collectionUrl?this.collectionUrl:location.pathname;var A=this.target.settings.hidden?"display:none":"",P=this.target.settings.mobilePanel.closeButtonText||"";if(this.customFiltersWrapper=Y.Node.create('<div class="customFiltersWrapper clearfix clear" style="'+A+'"><div class="customFiltersContainer"><div style="display:none!important" class="sqs-block reset-first-sqs-block hidden" hidden="true"><span hidden="true"></span></div></div><button class="mobile-panel-close" style="opacity:0" data-text="'+P+'" data-has-text="'+!!P+'"></button><div style="display:none!important" class="sqs-block reset-last-sqs-block hidden" hidden="true"><span hidden="true"></span></div></div>'),this.customFilters=this.customFiltersWrapper.one(".customFiltersContainer"),(this.target.settings.sticky&&this.target.settings.sticky.enabled||!0===this.target.settings.sticky)&&(_.push("cf-sticky-position"),this.target.settings.sticky.top&&this.customFiltersWrapper.setStyle("top",this.target.settings.sticky.top)),this.searchRegex="",this.filter_selectors="",this.container.fire&&this.container.fire("custom-filter:filter-before-init",{customFilter:e}),Y.fire("custom-filter:filter-before-init",{customFilter:e}),e.target.settings.hooks&&e.target.settings.hooks.onInit)try{"function"==typeof e.target.settings.hooks.onInit&&e.target.settings.hooks.onInit(e)}catch(t){console.error(t)}if(e.target.settings.hooks&&e.target.settings.hooks.onResize&&(e.resizeFunc=function(){try{"function"==typeof e.target.settings.hooks.onResize&&e.target.settings.hooks.onResize(e)}catch(t){console.error(t)}},window.addEventListener("resize",e.resizeFunc,!0)),this.u_id="custom-filter-uid-"+this.target.index,this.target.settings.showItemsCount){var q=parseInt(this.target.settings.itemsCount.positionOrder),T=this.target.settings.itemsCount.text?' data-items-text="'+this.target.settings.itemsCount.text+'"':"";this.itemsCount=Y.Node.create('<div class="items items-count-wrapper sqs-block" data-pos-order="'+q+'"><div class="sqs-block-content"><div class="items-count-inner"'+T+'><span class="items-count">'+this.items.size()+"</span></div></div></div>"),this.customFilters.append(this.itemsCount)}this.target.settings.openDropdownsOnHover&&_.push("open-dropdowns-on-hover");var M=this.target.settings.view||"dropdowns";_.push("custom-filter-view-"+M),this.target.settings.showCheckboxes&&("right"==this.target.settings.showCheckboxes?_.push("cf-show-checkboxes-right"):_.push("cf-show-checkboxes"));var z=this.target.settings.colorSwatches;if(z&&z.enabled){var U=z.tooltips,R=z.size&&z.size.width||"32px",V=z.size&&z.size.height||"32px",H=z.circles?"50%":"0";if(e.container._node.style.setProperty("--color-swatches-width",R),e.container._node.style.setProperty("--color-swatches-height",V),e.container._node.style.setProperty("--color-swatches-border-radius",H),e.container._node.style.setProperty("--color-swatches-align",z.align||"center"),U&&U.enabled){var J=U.background||"#000",X=U.color||"#fff",K=U.padding||"5px",tt=U.position||"top";_.push("cf-color-swatches-position--"+tt),e.container._node.style.setProperty("--color-swatches-tooltips-font-size",U.fontSize||"14px"),e.container._node.style.setProperty("--color-swatches-tooltips-font-family",U.fontFamily||"inherit"),e.container._node.style.setProperty("--color-swatches-tooltips-back",J),e.container._node.style.setProperty("--color-swatches-tooltips-color",X),e.container._node.style.setProperty("--color-swatches-tooltips-border-radius",U.borderRadius||"0px"),e.container._node.style.setProperty("--color-swatches-tooltips-padding",K)}}var et=this.target.settings.filter;if(e.SQSProxy={},e.SQSProxy.bodyFieldNeeded=e.target.settings&&e.target.settings.useSQSProxy&&e.target.settings.useSQSProxy.bodyFieldNeeded||!1,et.enabled){var it=function(t){var e=!1;return et.items&&et.items.length&&et.items.forEach(function(i){!i.getAttr||i.getAttr!=t||i.allowedOptions&&(!i.allowedOptions||i.allowedOptions.length)||i.allowedPrefSuf||(e=!0)}),e};if(et.outsideOptions&&et.outsideOptions.enabled){var at=et.outsideOptions.style?x(et.outsideOptions.style+"").trim():"buttons",rt=et.outsideOptions.align||"left";e.outsideOptionsContainer=Y.Node.create('<div class="sqs-block cf-outside-options-container cf-outside-options-style-'+at+" cf-outside-options-align-"+rt+'"><div class="sqs-block-content"><ul class="cf-outside-options-nav"></ul></div></div>'),e.outsideOptionsNav=e.outsideOptionsContainer.one(".cf-outside-options-nav");var st=et.outsideOptions.insertTo+""&&Y.one(et.outsideOptions.insertTo+"")||e.customFilters;st.append(e.outsideOptionsContainer),e.outsideOptionsContainer.delegate("click",function(t){t.halt();var i=t.currentTarget.get("parentNode").one("a").getAttribute("href");if(i){var a=e.customFiltersWrapper.one('a[href="'+i+'"]'),r=!1;e.topSection&&(r=e.topSection.one('.filterDropdown a[href="'+i+'"]')),a&&a.removeClass("active"),r&&r.removeClass("active"),e._sortGrid()}},".reset-button, a")}if((et.category||et.tag)&&(et.items||(et.items=[]),et.tag&&!0===et.tag&&!it("tags")&&(et.tag={name:"Tag",hidden:!0,main:"tagsDropdown",getAttr:"tags"}),et.category&&!0===et.category&&!it("categories")&&(et.category={name:"Category",hidden:!0,main:"categoryDropdown",getAttr:"categories"}),et.tag&&et.tag.name&&(et.tag.main&&"object"==typeof et.tag||(et.tag={}),et.tag.main="tagsDropdown",et.tag.name||(et.tag.name="Tags"),et.tag.subName="tag",et.items[0]&&"tagsDropdown"===et.items[0].main||et.items.unshift(et.tag)),et.category&&et.category.name&&(et.category.main&&"object"==typeof et.category||(et.category={}),et.category.main="categoriesDropdown",et.category.subName="category",et.category.name||(et.category.name="Categories"),et.items[0]&&"categoriesDropdown"===et.items[0].main||et.items.unshift(et.category))),et&&et.items&&et.items.length){var ot=et.hidden?" hidden":"";et.items.forEach(function(t,i){if(t.type&&"description"==t.type&&(t.text||t.border)){var a=Y.Node.create('<div class="sqs-block cf-filter-description cf-filter-description-'+i+'"><div class="sqs-block-content"><div class="cf-filter-description-wrapper"><span class="cf-filter-description-text">'+t.text+"</span></div></div></div>");e.customFilters.append(a)}if(t.name&&(!t.hasOwnProperty("enabled")||!1!==t.enabled)){var r=t.name.trim(),s=parseInt(t.positionOrder)||4+i,o=t.subName?x(t.subName):x(r);e.filterParams[o]||(e.filterParams[o]=[]);var n=t.main||"name-"+x(r,!0),l=t.defined&&x(t.defined+"")||!1,c=t.getAttr?t.getAttr:"",d=!!t.ignoreFilter,g=!!t.noFilterOnClick,u=c&&"string"==typeof c?' data-get-attr="'+c+'" ':"",f=!!t.ignoreNonExistOptions;f=f?'data-ignore-non-exist-options="true"':"";var v=t.variantOption||!1;if("string"==typeof c&&"tags"!==c&&"categories"!==c&&-1==c.indexOf("variant|")&&(e.SQSProxy.bodyFieldNeeded=!0),c&&(c+"").indexOf("variant|")>-1&&(v=c.split("|")[1],c=Z),c&&"quantity"==(c+"").trim()){var b=t.quantityOptions&&2==t.quantityOptions.split("|").length&&t.quantityOptions.split("|")||["In Stock","Out of Stock"];c=function(t,e){var i=Q(e),a="";return a="string"==typeof i?"":i&&i>0?b[0]:b[1],a}}var w=t.allOption&&e.target.settings.filter.transliterateFunction?x(t.allOption,!0):t.allOption||"All",_=t.options&&t.options.toLowerCase?t.options.split(","):t.options||[];_=_.map(function(t){return t.trim()});var C=t.allowedOptions||[],S=[];if(C.length){"string"==typeof C&&(C=C.split(","));for(var k=0;k<C.length;k++)C[k]=(C[k]+"").trim();S=C}var F=t.optionsStructure;if(!F&&e.target.settings.filter.cacheOptions&&"categories"==c){var O=e.u_id+"_"+x(e.customIndexUrl||e.collectionUrl)+"_categoriesStructure";F=L(O)}F&&"object"==typeof F&&!F.forEach&&(C=F),"object"!=typeof C||C.forEach||(F=C,C=y(C),t.sort="asAllowed");var A=t.visibleOptions||[],P="",I="";if(A.length){"string"==typeof A&&(A=A.split(","));for(var q=0;q<A.length;q++)A[q]=(A[q]+"").trim();A.length&&(P=' data-visible-options="set"')}var T=t.notVisibleOptions||[];if(T.length){"string"==typeof T&&(T=T.split(","));for(var N=0;N<T.length;N++)T[N]=(T[N]+"").trim();T.length&&(I=' data-not-visible-options="set"')}var M=t.rootOptions||[];if(M.length){"string"==typeof M&&(M=M.split(","));for(var D=0;D<M.length;D++)M[D]=(M[D]+"").trim();for(var E=M.length-1;E>=0;E--)C&&C.length&&-1===C.indexOf(M[E])&&C.unshift(M[E]),-1===_.indexOf(M[E])&&_.unshift(M[E])}var z=t.notAllowedOptions||!1;if(z.length){"string"==typeof z&&(z=z.split(","));for(var B=0;B<z.length;B++)z[B]=(z[B]+"").trim()}var W=t.allowedPrefSuf||"",j=null,U=null;if(S.length&&t.sort&&"asAllowed"===t.sort){j=U={};for(var R=0,V=S.length;R<V;R++)j[S[R]]=R,U[S[R]]=R}var G=t.notAllowedPrefSuf||"",H=t.parentCategory&&"string"==typeof t.parentCategory&&t.parentCategory.trim()||!1,J=' data-parent-category-used="'+H+'"',X=t.hidden||ot?" hidden":"",$=t.hideDefaultLabelIfDirty?" hide-def-label":"",K=t.hideValueLabel?" hide-val-label":"",tt=t.hideValueLabelIfEmpty?" hide-val-label-empty":"",et=!t.logic||"and"!==t.logic.trim()&&"or"!==t.logic.trim()?"and":t.logic.trim(),it=!t.multipleLogic||"and"!==t.multipleLogic.trim()&&"or"!==t.multipleLogic.trim()?"or":t.multipleLogic.trim(),at=t.children||"",rt=!!t.checkChildren||!1,st=t.defaultAttrs||"",nt=!t.hasOwnProperty("strict")||!!t.strict,lt=!!t.multiple,ct=t.hideTitle||t.type&&"input"==t.type&&!t.hasOwnProperty("hideTitle")?" hidden":"",dt=t.hasOwnProperty("allLabel")&&' data-all-label="'+t.allLabel+'"'||' data-all-label=": '+w+'"',gt=!(!t.optionsLabels||"object"!=typeof t.optionsLabels)&&t.optionsLabels,ut=t.initText?'data-init-text="'+t.initText+'"':"",pt=x(r)+"-target-"+e.target.index+"-"+(new Date).getTime(),mt="",ht=t.type||"dropdown",ft=t.style&&(t.style+"").trim()?"cf-filter-item-style-"+x(t.style):"",vt=t.resetOthers?'data-reset-others="'+t.resetOthers+'"':"",bt=!!t.outsideFilterValues,yt=t.closedSubOptions?" closed-sub-options":"",wt=t.openDropdown?' data-open-dropdown="'+t.openDropdown+'"':"",_t=t.openDropdownOnInit?' data-open-dropdown-on-init="'+t.openDropdownOnInit+'"':"",Ct=bt?" outside-values-visible":"",St=t.rootOptionOpen?'data-root-option-open="'+t.rootOptionOpen+'"':"",xt=(t.placeholder,!(!t.optionsReplace||"object"!=typeof t.optionsReplace)&&t.optionsReplace),kt=c&&"categories"==c&&t.useAsRegularNested?' data-use-as-regular-nested="true"':"";if("dropdown"==ht&&t.quickSearch&&t.quickSearch.enabled&&!0===t.quickSearch.enabled){var Ft=t.quickSearch.placeholder||"";mt='<li class="quick-options-search"><input type="text" placeholder="'+Ft+'" /><span class="reset-button qos-reset-button icn-cancel"></span></li>'}var Ot="";"dropdown"==ht&&e.target.settings.view&&e.target.settings.view.indexOf("dropdown")>-1&&t.listHeight&&(Ot="max-height:"+t.listHeight);var At="";if("dropdown"==ht)At='<div class="archive-block-wrapper archive-block-setting-layout-dropdown archive-block-setting-text-alignment-left archive-block-setting-multicolumns '+yt+'"><input class="archive-dropdown-toggle-checkbox" id="dropdown-filter-'+pt+'" type="checkbox"><label class="archive-dropdown-toggle-label '+ct+'" for="dropdown-filter-'+pt+'"><span class="archive-dropdown-toggle-title '+ct+'"'+ut+'><span class="defaultLabel"><span>'+r+'</span></span><span class="filterValues" '+dt+'></span><span class="reset-button icn-cancel"></span></span><span class="icn-down-open"></span></label><div class="outsideFilterValues"></div><ul class="archive-group-list" style="'+Ot+'">'+mt+"</ul></div>";else if("buttons"==ht)At='<div class="buttons-wrapper '+yt+'"><ul class="archive-group-list"></ul></div>';else if("input"==ht){t.min=t.min||0,t.max=t.max||100,t.step=t.step||10,t.tooltips=t.showTooltips?' data-tooltips="true"':"";var Pt=t.showInputs?"":" hide-inputs",It=t.inputsDisabled?" inputs-disabled":"",Lt=t.showLabel?"":" hide-label",Tt=t.tolerance,Nt=(t.tolerance_factor||"both").trim(),Mt=t.parse&&"number"==t.parse?'type="number"':'type="text"';t.min&&" data-min="+parseFloat(t.min),t.max&&" data-max="+parseFloat(t.max),t.step&&" data-step="+parseFloat(t.step);var Dt=t.inputsDisabled?1:20;t.dimension=t.dimension||"";var Et=t.dimension+""?' data-dimension="'+t.dimension+'"':"",zt=t.dimensionPosition||"before",Bt="";t.filterFunction||(t.filterFunction=function(e,i,a,r,s){var o=e.getAttribute("data-input-value-"+i);if("and"==(s.getFilterAttrObj[i].logic+"").toLowerCase()&&!r)return!1;var n,l,c=s.getFilterAttrObj[i]&&s.getFilterAttrObj[i].tolerance||0;t.parse&&-1==o.indexOf("||")&&("number"==t.parse?(o=(o+"").length&&parseFloat(o),a=parseFloat(a),n="both"==Nt||"negative"==Nt?a-c:a,l="both"==Nt||"positive"==Nt?a+c:a):t.parse);var d=!1;if(o&&"string"==typeof o&&o.split("||").length>=2&&(d=[],o.split("||").forEach(function(t){t&&-1==d.indexOf(t)&&d.push(t)}),d=d.sort(function(t,e){return t-e})),d){d.length;var g=!1;return d.forEach(function(t){g||(g=t>=n&&l>=t)}),g}return!!o&&(o>=n&&l>=o)}),At='<div class="input-text-wrapper"><label class="archive-dropdown-toggle-label input-label" for="input-filter-'+pt+'"><span class="archive-dropdown-toggle-title '+ct+'"'+ut+'><span class="defaultLabel"><span>'+r+'</span></span></span><input style="width: 100%" '+Mt+' placeholder="'+r+'" class="custom-search-input" id="input-filter-'+pt+'" type="text"><span class="reset-button icn-cancel"></span></label></div>'}else if("range-inputs"==ht){e.rangesInputs||(e.rangesInputs=[]);t.min=t.min||0,t.max=t.max||100,t.step=t.step||10,t.tooltips=t.showTooltips?' data-tooltips="true"':"";Pt=t.showInputs?"":" hide-inputs",It=t.inputsDisabled?" inputs-disabled":"",Lt=t.showLabel?"":" hide-label";var Wt=t.inputType||"text",jt=t.pattern&&t.pattern.length?' pattern="'+t.pattern.trim()+'"':"",Yt=t.clearText?'data-text="'+t.clearText.trim()+'"':"",Ut=t.fieldsSeparator?'<span class="fields-separator">'+("string"==typeof t.fieldsSeparator?t.fieldsSeparator.trim():"")+"</span>":"";t.min&&" data-min="+parseFloat(t.min),t.max&&" data-max="+parseFloat(t.max),t.step&&" data-step="+parseFloat(t.step);Dt=t.inputsDisabled?1:20;t.dimension=t.dimension||"";Et=t.dimension+""?' data-dimension="'+t.dimension+'"':"",zt=t.dimensionPosition||"before",Bt="";t.filterFunction||(t.filterFunction=function(t,e,i,a){e=e||"data-range-value-"+o;var r=t.getAttribute(e),s=!1;if(r&&r.split(",").length>=2&&(s=[],r.split(",").forEach(function(t){t=t&&parseFloat(t),t&&-1==s.indexOf(t)&&s.push(t)}),s=s.sort(function(t,e){return t-e})),s){s.length;var n=!1;return s.forEach(function(t){n||(n=t>=i&&a>=t)}),n}return!r||(r=parseFloat(r),r>=i&&a>=r)});var Rt=t.minPlaceholder?'placeholder="'+t.minPlaceholder+'"':"",Vt=t.maxPlaceholder?'placeholder="'+t.maxPlaceholder+'"':"";At='<div class="range-inputs-wrapper'+Pt+Lt+It+'">'+Bt+'<div class="filter-block-label archive-dropdown-toggle-label">'+r+'</div><div class="range-inputs" '+t.tooltips+Et+'><div class="inputs-wrapper"><span '+Et+' class="min-range"><input '+Rt+' type="'+Wt+'" data-type="'+Wt+'"   step="'+t.step+'" min="'+t.min+'" max="'+t.max+'" auto-width="'+Dt+'" '+jt+' type="text" class="range-input range-input-min" /></span>'+Ut+"<span "+Et+' class="max-range"><input type="'+Wt+'" data-type="'+Wt+'"  '+Vt+' step="'+t.step+'" min="'+t.min+'" max="'+t.max+'" auto-width="'+Dt+'" '+jt+' type="text" class="range-input range-input-max" /></span><span class="reset-button icn-cancel" '+Yt+"></span></div></div></div>"}else if("range-slider"==ht){e.rangesSliders||(e.rangesSliders=[]);var Gt="";t.min=t.min||0,t.max=t.max||100,t.step=t.step||10,t.tooltips=t.showTooltips?' data-tooltips="true"':"";Pt=t.showInputs?"":" hide-inputs",It=t.inputsDisabled?" inputs-disabled":"",Lt=t.showLabel?"":" hide-label";var Zt=t.hideSlider?" hide-slider":"",Ht=t.labelClickable?" label-clickable":"",Qt=!t.connect||"string"!=typeof t.connect||"upper"!=t.connect.trim()&&"lower"!=t.connect.trim()?"":' data-slider-connect="'+t.connect.trim()+'" ';t.min&&(Gt+=" data-min="+parseFloat(t.min)),t.max&&(Gt+=" data-max="+parseFloat(t.max)),t.step&&(Gt+=" data-step="+parseFloat(t.step));Dt=t.inputsDisabled?1:20;t.dimension=t.dimension||"";Et=t.dimension+""?' data-dimension="'+t.dimension+'"':"",zt=t.dimensionPosition||"before",Bt="";Et&&t.tooltips&&(Bt="<style>.custom-filter-uid-"+e.target.index+" ."+n+" .noUi-tooltip:"+zt+'{content:"'+t.dimension+'"}</style>'),t.filterFunction||(t.filterFunction=function(t,e,i,a){var r=t.getAttribute(e),s=!1;if(r&&r.split(",").length>=2&&(s=[],r.split(",").forEach(function(t){t=t&&parseFloat(t),t&&-1==s.indexOf(t)&&s.push(t)}),s=s.sort(function(t,e){return t-e})),s){s.length;var o=!1;return s.forEach(function(t){o=!(!o&&t)||t>=i&&a>=t}),o}return!(r+"")||(r=parseFloat(r),!r||r>=i&&a>=r)}),At='<div class="range-slider-wrapper'+Ht+Zt+Pt+Lt+It+'"'+Qt+">"+Bt+'<div class="filter-block-label archive-dropdown-toggle-label">'+r+'</div><div class="range-slider-and-inputs-wrapper"><div class="range-slider" '+Gt+t.tooltips+Et+'></div><div class="inputs-wrapper"><span '+Et+' class="min-range"><input auto-width="'+Dt+'" type="text"  class="range-input range-input-min" /></span><span '+Et+' class="max-range"><input auto-width="'+Dt+'" type="text" class="range-input range-input-max" /></span></div></div></div>'}var Jt=t.colorSwatches||"",Xt="",$t="";Jt&&Jt.enabled&&(Jt=' data-color-swatches="true"',Xt=t.colorSwatches.showColorNames?" show-color-names":"",$t=t.colorSwatches.tooltips&&t.colorSwatches.tooltips.enabled?" show-color-tooltips":"");var Kt=t.icons||"";Kt&&Kt.enabled&&(Kt=' data-icon-options="true"');var te=t.hideResetButton?" hide-reset-button ":"",ee=t.ignoreCatTagQuery?' data-ignore-cat-tag-query="true"':"",ie=d?' data-ignore-filter="true"':"",ae=Y.Node.create("<div "+f+' data-filter-style="'+ft+'" class="sqs-block archive-block sqs-block-archive filterDropdown '+n+" filter-type-"+ht+" "+X+$+K+tt+te+Ct+Xt+$t+kt+'" '+St+ee+vt+wt+_t+Jt+Kt+ie+' data-no-filter-on-click="'+g+'" data-quick-search="'+!!mt+'" data-pos-order="'+s+'" data-filter-type="'+ht+'" data-all-option="'+w+'" data-multiple-logic="'+it+'" data-logic="'+et+'" data-children="'+at+'" data-check-children="'+rt+'" data-defined="'+l+'" data-multiple="'+lt+'" data-strict="'+nt+'" '+J+' data-filter="'+o+'"'+P+I+u+'><div class="sqs-block-content">'+At+"</div></div>");if(Jt=t.colorSwatches,Jt&&Jt.enabled){var re=Jt.tooltips,se=Jt.size&&Jt.size.width||"32px",oe=Jt.size&&Jt.size.height||"32px",ne=Jt.circles?"50%":"0";if(ae._node.style.setProperty("--color-swatches-width",se),ae._node.style.setProperty("--color-swatches-height",oe),ae._node.style.setProperty("--color-swatches-border-radius",ne),ae._node.style.setProperty("--color-swatches-align",Jt.align||"center"),re&&re.enabled){var le=re.background||"#000",ce=re.color||"#fff",de=re.padding||"5px",ge=re.position||"top";ae.addClass("cf-color-swatches-position--"+ge),ae._node.style.setProperty("--color-swatches-tooltips-font-size",re.fontSize||"14px"),ae._node.style.setProperty("--color-swatches-tooltips-font-family",re.fontFamily||"inherit"),ae._node.style.setProperty("--color-swatches-tooltips-back",le),ae._node.style.setProperty("--color-swatches-tooltips-color",ce),ae._node.style.setProperty("--color-swatches-tooltips-border-radius",re.borderRadius||"0px"),ae._node.style.setProperty("--color-swatches-tooltips-padding",de)}}var ue=t.icons;if(ue&&ue.enabled){var pe=ue.size&&ue.size.width||"32px",me=ue.size&&ue.size.height||"32px",he=ue.circles?"50%":"0",fe=ue.display||"inline-block";ue.hideText&&ae.addClass("cf-options-hide-text"),ae._node.style.setProperty("--icon-options-width",pe),ae._node.style.setProperty("--icon-options-height",me),ae._node.style.setProperty("--icon-options-border-radius",he),ae._node.style.setProperty("--icon-options-display",fe),ae._node.style.setProperty("--icon-options-margin",ue.margin||"0 5px");var ve=ue.position||"left";ve="right"==ve?"left":"left"==ve?"right":ve,ae._node.style.setProperty("--icon-options-position",ue.position||"left"),ae._node.style.setProperty("--icon-options-bg-position",ve)}var be=t.showAll,ye=!!(t.optionsDelimiter||"string"==typeof t.optionsDelimiter&&t.optionsDelimiter.length)&&t.optionsDelimiter;if(be&&-1===_.indexOf(w)&&-1==ht.indexOf("slider")&&-1==ht.indexOf("input")&&(t.allOptionLast?_.push(w):_.unshift(w)),e.getFilterAttrObj[o])console.warn(o+" - method already exists in getFilterAttrObj");else if(e.getFilterAttrObj[o]={attr:c,ignoreCatTagQuery:!!t.ignoreCatTagQuery,followCategoriesLinks:!!t.followCategoriesLinks,name:t.name,slugified_name:o,showAll:be,colorSwatches:t.colorSwatches,iconOptions:ue,optionsDelimiter:ye,variantOption:v,type:ht,logic:et,regExp:!(!t.regExp||!t.regExp.trim())&&t.regExp.trim(),updateMinMax:!t.hasOwnProperty("updateMinMax")||t.updateMinMax,tolerance:Tt,optionsStructure:F,lowercase:!!t.lowercase,uppercase:!!t.uppercase,capitalcase:!!t.capitalcase,capitalcaseF:!!t.capitalcaseF,multiple:lt,multipleLogic:it,allOption:w,optionsLabels:gt,allOptionLast:t.allOptionLast,firstOption:t.firstOption,notAllowedOptions:z,ignoreNotAllowedForChildrenCats:!!t.ignoreNotAllowedForChildrenCats,ignoreAllowedForChildrenCats:!!t.ignoreAllowedForChildrenCats,allowedOptions:C,allowedOptionsOriginal:S,parentCategory:H,visibleOptions:A,notVisibleOptions:T,allowedPrefSuf:W,notAllowedPrefSuf:G,allowedHash:j,allowedHashOriginal:U,rootOptions:M,defaultAttrs:st,currentOptions:_,container:ae,disableOptionsUpdate:!!t.disableOptionsUpdate,filterFunction:t.filterFunction,quickSearch:!!mt,outsideFilterValues:bt,format:t.format,noFilterOnClick:g,sort:t.sort||"asc",ignoreFilter:d,optionsReplace:xt,optimizeSubcategoriesLogic:!t.hasOwnProperty("optimizeSubcategoriesLogic")||t.optimizeSubcategoriesLogic,forceSort:t.forceSort},"input"==ht);else if("range-inputs"==ht){var we=ae.one(".range-input-min")._node,_e=ae.one(".range-input-max")._node,Ce=[we,_e],Se=ae.getAttribute("data-filter"),xe=!1;t.format&&"string"==typeof t.format?(t.format=t.format.trim(),"0,0"==t.format&&(xe={to:function(t){return t=Number((t+"").split(",").join("")),t.toLocaleString("en-US",{minimumFractionDigits:0})},from:function(t){return Number((t+"").split(",").join(""))}})):t.format&&"object"==typeof t.format&&t.format.to&&t.format.from&&(xe=t.format),Ce.forEach(function(i,a){i.addEventListener("change",function(t){var i=t.target,a=xe&&xe.from&&i.temp_val?xe.from(i.temp_val):i.temp_val&&Number(i.temp_val)||i.value||0,r=i.classList.contains("range-input-min"),s=xe&&xe.from&&we.value?xe.from(we.value):Number(we.value)||"",o=xe&&xe.from&&_e.value?xe.from(_e.value):Number(_e.value)||"",n=Number(i.step)||1;console.log("Change Event Fire","isMin",r,"minVal",s,"maxVal",o,"target.value",i.value,"value",a,a<=s,a>=o),!r&&s&&a&&a<=s&&n?(console.log("Max should be higher than min"),a=s+n):r&&o&&a&&a>=o&&n&&(console.log("Min should be lower than max"),a=o-n),i.value=xe&&xe.to?xe.to(a):a,console.log("input change",i.value,i.temp_val,xe,xe.to(a),a,_e.value,we.value),_e.value&&0!=_e.value||we.value&&0!=we.value?ae.addClass("dirty"):ae.removeClass("dirty"),e._sortGrid()}),t.regExp&&i.addEventListener("input",function(e){var i=e.target;console.log("INPUT",i.value);try{i.value=i.value.replace(new RegExp(t.regExp,"g"),"")}catch(e){console.log(e)}},!1),i.addEventListener("focus",function(t){t.target.parentNode.classList.add("focused")}),i.addEventListener("blur",function(t){t.target.parentNode.classList.remove("focused")}),"text-number"==i.dataset.type&&i.addEventListener("keyup",function(t){var e=t.target,a=Number(e.min),r=Number(e.max),s=xe&&xe.from&&e.value?xe.from(e.value):Number(e.value)||"",o=(e.classList.contains("range-input-min"),xe&&xe.from&&we.value?xe.from(we.value):Number(we.value)||0),n=xe&&xe.from&&_e.value?xe.from(_e.value):Number(_e.value)||0,l=Number(e.step)||1;console.log("input keyup",s,e.value,l,a,r,o,n,t.which);var c=s;switch(t.which){case 13:e.temp_val=e.value;break;case 38:console.log(s,s+l,r,qt+l<=r),c=s+l<=r?s+l:r,e.temp_val=c,i.dispatchEvent(new Event("change",{bubbles:!0}));break;case 40:c=s-l>a?s-l:a,e.temp_val=c,i.dispatchEvent(new Event("change",{bubbles:!0}));break;default:e.temp_val=e.value}})}),inputsRange={},inputsRange.filterFunction=function(t){var i=xe&&xe.from&&we.value?xe.from(we.value):we.value&&Number(we.value)||we.value||"",a=xe&&xe.from&&_e.value?xe.from(_e.value):_e.value&&Number(_e.value)||_e.value||_e.max||"";if(i||a){var r="data-range-value-"+Se;"price"==c&&(r="data-prices");var s=e.getFilterAttrObj[Se].filterFunction(t,r,i,a);return s}return!0},inputsRange.filterValue=o,inputsRange.name=r,e.rangesInputs.push(inputsRange)}else if("range-slider"==ht){var ke=ae.one(".range-slider")&&ae.one(".range-slider")._node;we=ae.one(".range-input-min")._node,_e=ae.one(".range-input-max")._node,Ce=[we,_e],Se=ae.getAttribute("data-filter");if(window.noUiSlider&&ke){var Fe=parseFloat(ke.dataset.min||0),Oe=parseFloat(ke.dataset.max||50),Ae=parseFloat(ke.dataset.step||10);Fe==Oe&&(Oe=Fe+Ae);var Pe={to:function(e){if("price"==c&&!t.format||t.format&&"price"==t.format)return p(e);if(t.format){if("function"==typeof t.format)return t.format(e);if("string"==typeof t.format){if(t.format.indexOf("nFormatter")>-1){var i=t.format.split("|")[1]||2;return h(e,i)}if(t.format.indexOf("fixed")>-1){i=t.format.split("|")[1]||0;return e.toFixed(i)}}return e.toFixed()}return e.toFixed()},from:function(e){return"string"==typeof t.format&&t.format.indexOf("nFormatter")>-1?m(e):Number((e+"").replace(/\,/g,""))}};"object"==typeof t.format&&t.format.to&&t.format.from&&"function"==typeof t.format.to&&"function"==typeof t.format.from&&(Pe=t.format),noUiSlider.create(ke,{animate:!0,animationDuration:300,tooltips:!(!t.tooltips||!t.connect)||(t.tooltips?[!0,!0]:[!1,!1]),start:t.connect&&"lower"==t.connect?Fe:t.connect&&"upper"==t.connect?Oe:[Fe,Oe],step:Ae,connect:t.connect||!0,range:{min:Fe,max:Oe},format:Pe}),ke.noUiSlider.on("update",function(t,e){Ce[e].value=t[e];var i=this.options.range,a=Y.one(ke).ancestor(".filterDropdown"),r=ke.noUiSlider.options.format.from(t[0]),s=ke.noUiSlider.options.format.from(t[1]);r!=i.min||s!=i.max?a&&a.addClass("dirty"):a&&a.removeClass("dirty"),Ce[e].parentNode.setAttribute("data-value",t[e]),Ce[e].setWidth&&Ce[e].setWidth()}),ke.noUiSlider.on("set",function(t,i,a){this.options.range.min==a[0]&&this.options.range.max==a[1]||(e.filterAnim=!0),Y.fire("custom-filter:filter-filtering",{customFilter:e}),e.container.fire&&e.container.fire("custom-filter:filter-filtering",{customFilter:e,param:ae.getAttribute("data-filter-val")}),e.advancedMap&&(e.needBoundsChange=!0),e._sortGrid()}),Ce.forEach(function(t,e){t.addEventListener("change",function(){ke.noUiSlider.setHandle(e,this.value,!0)}),t.addEventListener("keydown",function(t){var i,a=ke.noUiSlider.get(),r=Number(a[e].replace(/\,/g,"")),s=ke.noUiSlider.steps(),o=s[e];switch(t.which){case 13:ke.noUiSlider.setHandle(e,this.value,!0);break;case 38:i=o[1],!1===i&&(i=1),null!==i&&ke.noUiSlider.setHandle(e,r+i,!0);break;case 40:i=o[0],!1===i&&(i=1),null!==i&&ke.noUiSlider.setHandle(e,r-i,!0)}})}),ke.filterFunction=function(t){var i=ke.noUiSlider.get();if("object"!=typeof i&&i.length&&(i=[i,ke.noUiSlider.options.range.max]),"object"==typeof i){var a=Pe.from?Pe.from(i[0]):parseFloat((i[0]+"").replace(/\,/g,"")),r=Pe.from?Pe.from(i[1]):parseFloat((i[1]+"").replace(/\,/g,"")),s="data-range-value-"+Se;"price"==c&&(s="data-prices");var o=e.getFilterAttrObj[Se].filterFunction(t,s,a,r);return o}return!1},ke.filterValue=o,ke.name=r,e.rangesSliders.push(ke)}}e.customFilters.append(ae)}})}if(e.categoryFilter=e.customFilters.one(".categoriesDropdown"),e.tagFilter=e.customFilters.one(".tagsDropdown"),e.target.settings.filter.cacheOptions){var nt=e.u_id+"_"+x(e.customIndexUrl||e.collectionUrl)+"_filter_options_"+location.pathname;e.filterCachedOptions=L(nt)}}e._addItemsAttributes(!0),e._buildDropdowns();var lt=this.target.settings.sort;if(lt&&lt.enabled&&lt.items&&lt.items.length){var ct="sort-target-"+e.target.index+"-"+(new Date).getTime(),dt=lt.initText?'data-init-text="'+lt.initText+'"':"",gt=lt.hidden?" hidden":"",ut=parseInt(lt.positionOrder),pt=lt.hideDefaultLabelIfDirty?" hide-def-label":"",ht=lt.defined||"",ft=lt.hasOwnProperty("allLabel")&&' data-all-label="'+lt.allLabel+'"'||"",vt=lt.hideValueLabel?" hide-val-label":"",bt=lt.hideResetButton?" hide-reset-button ":"";this.sortContainer=Y.Node.create('<div class="sqs-block archive-block sqs-block-archive sortDropdown '+gt+pt+vt+bt+'" data-defined="'+ht+'" data-pos-order="'+ut+'"><div class="sqs-block-content"><div class="archive-block-wrapper archive-block-setting-layout-dropdown archive-block-setting-text-alignment-left archive-block-setting-multicolumns"><input class="archive-dropdown-toggle-checkbox" id="dropdown-sort-'+ct+'" type="checkbox"><label class="archive-dropdown-toggle-label" for="dropdown-sort-'+ct+'"><span class="archive-dropdown-toggle-title"'+dt+'><span class="defaultLabel"><span>'+lt.title+'</span></span><span class="sortValues" '+ft+'></span><span class="reset-button icn-cancel"></span></span><span class="icn-down-open"></span></label><ul class="archive-group-list"></ul></div></div></div>'),lt.items.forEach(function(t){var i=t.name?t.name.trim():"Set name here",a=t.order?t.order.split("|"):t.order||["asc"],r=t.hidden?" hidden":"",s=!t.hasOwnProperty("showOrder")||t.showOrder,o="price"===x(i)?" parseFloat":"",n=t.orderTexts?t.orderTexts.split("|"):[],l=n.length?"hide-pseudo":"",c=t.hideName?"":i;a&&a.length&&a.forEach(function(a,d){if(e.sortObj[x(i)+"_"+a])console.warn(x(i)+"_"+a+" - method already exists in sortObj");else{e.sortObj[x(i)+"_"+a]=t.sort||"[data-"+x(i)+"]"+o;var g=s?"_"+a:"_"+a+" hide-order",u=n[d]||"";e.sortContainer.one("ul").append('<li class="archive-group '+x(i)+g+r+'"><a aria-label="'+i+'" href="?sort='+x(i)+"_"+a+'" data-sort="'+x(i)+"_"+a+'" class="archive-group-name-link '+l+'" data-hide-name="'+!c+'">'+c+'<span class="'+x(i)+"-"+a+'">'+u+"</span></a>")}})}),this.customFilters.append(e.sortContainer)}var yt=this.target.settings.search;if(yt&&yt.enabled){var wt="string"==typeof yt.text&&yt.text.length?yt.text:"Search",_t=(ut=parseInt(yt.positionOrder),yt.resetOthers?'data-reset-others="'+yt.resetOthers+'"':"");this.searchMinLength=yt.minLength;var Ct=yt.submitOnEnter?'data-submit-on-enter="true"':"";this.searchContainer=Y.Node.create('<div class="sqs-block custom-items-search" '+_t+'  data-pos-order="'+ut+'"><div class="sqs-block-content"><div data-preview="false" class="search-wrap sqs-search-ui-button-wrapper color-dark"><span class="search-icon icn-search"></span><input '+Ct+' minlength="'+yt.minLength+'" class="search-input" placeholder="'+wt+'" type="text"/><span class="reset-button icn-cancel"></span></div></div></div>');var St=!!yt.latinize;if(this.searchResetsAll=!!yt.resetsAll,this.customFilters.append(this.searchContainer),this.searchContainer.one(".search-icon").on("click",function(t){t.halt(),e.target.settings.closeOptionsOnSelect&&e._closeOptionsOnSelect(e.customFiltersWrapper),e.searchContainer.toggleClass("active"),e.searchContainer.hasClass("active")&&e.searchContainer.one(".search-input")._node.focus()}),yt.searchFunc&&"function"==typeof yt.searchFunc)this.searchFunction=yt.searchFunc,yt.searchFunc.toString&&yt.searchFunc.toString().indexOf("body")>-1&&(e.SQSProxy.bodyFieldNeeded=!0),yt.searchFunc.toString&&yt.searchFunc.toString().indexOf("excerpt")>-1&&(e.SQSProxy.excerptFieldNeeded=!0,e.target.settings.useSQSProxy.removeFields&&(e.target.settings.useSQSProxy.removeFields=e.target.settings.useSQSProxy.removeFields.replace(/excerpt/g,"")));else if(yt.searchFunc&&"string"==typeof yt.searchFunc){var xt=!1;yt.searchFunc.indexOf("exst_text")>-1&&(yt.searchFunc=yt.searchFunc.replace(/exst_text/g,""),xt=!0),this.searchAttr=yt.searchFunc.replace(/ /g,"").split("|"),this.searchAttr.indexOf("body")>-1&&(e.SQSProxy.bodyFieldNeeded=!0),this.searchAttr.indexOf("excerpt")>-1&&(e.SQSProxy.excerptFieldNeeded=!0,e.target.settings.useSQSProxy.removeFields&&(e.target.settings.useSQSProxy.removeFields=e.target.settings.useSQSProxy.removeFields.replace(/excerpt/g,""))),this.searchFunction=function(t){var i="";return t=t._node?t._node:t,i=xt?t.textContent&&t.textContent.replace(/\r?\n|\r/g," ").trim():"",t._item_data&&e.searchAttr.length&&e.searchAttr.forEach(function(e){var a="";if(a=e.indexOf(".")>-1?b(e,t._item_data):t._item_data[e],a){var r=a+"";if("object"==typeof a&&(r=JSON.stringify(a)),"body"==e||"excerpt"==e){t._item_data.__body__;const i=v(r);var s=null;if("body"==e&&yt.excludeRelatedSummaries&&t._item_data&&t._item_data.collectionId){s=t._item_data.collectionId;try{var o=i.querySelectorAll('.summary-v2-block[data-block-json*="'+s+'"]');if(o&&o.length)for(let t=0;t<o.length;t++)o[t].parentNode.removeChild(o[t])}catch(t){console.error(t)}}r=i.innerText.replace(/\n+/g,"\n").trim()||""}i+=r}}),i=i.trim(),St&&i&&(i=k(i)),i.replace(/\n /g,"")}}null!==yt.regExpWordsDelimiter&&(e.regExpWordsDelimiter=yt.regExpWordsDelimiter),this.target.settings.view&&"modern"==this.target.settings.view&&e.searchContainer.one(".sqs-block-content").prepend(e.searchContainer.one(".search-icon"))}if(g&&g.advancedMapContainer&&g.autocomplete.enabled){wt=g.autocomplete.text.trim()||"Search Map",ut=parseInt(g.autocomplete.positionOrder);this.searchMinLength=g.autocomplete.minLength,this.mapAutocompleteContainer=Y.Node.create('<div class="sqs-block custom-items-search map-autocomplete-search" data-pos-order="'+ut+'"><div class="sqs-block-content"></span><div data-preview="false" class="search-wrap sqs-search-ui-button-wrapper color-dark"><span class="search-icon icn-search"></span><input minlength="'+g.autocomplete.minLength+'" class="search-input" placeholder="'+wt+'" type="text"/><span class="reset-button icn-cancel"></span></div></div></div>');this.mapAutocompleteContainer.one(".search-wrap");this.target.settings.view&&"modern"==this.target.settings.view&&e.mapAutocompleteContainer.one(".sqs-block-content").prepend(e.mapAutocompleteContainer.one(".search-icon"));var kt=function(){var t=g.autocomplete.dimension.val||1e4,i=g.autocomplete.radius.val?g.autocomplete.radius.val*t:1e5;e.advancedMap&&e.advancedMap._node&&e.advancedMap._node.radiusCircle&&i!==e.advancedMap._node.radiusCircle.getRadius()&&(e.mapPlaceFound=!0,e.advancedMap._node.radiusCircle.setRadius(i),e._followMapBounds())},Ft=Y.Node.create('<div class="sqs-block map-autocomplete-dimension-radius" data-pos-order="'+ut+'"><div class="sqs-block-content"></div></div>'),Ot=!1;if(g.autocomplete.radius&&g.autocomplete.radius.enabled){var At=g.autocomplete.radius.hidden?" hidden":"",Pt=g.autocomplete.radius.step||1,It=g.autocomplete.radius.max||100,Lt=g.autocomplete.radius.min||1,qt=g.autocomplete.radius.val||It,Tt=Y.Node.create('<div class="map-autocomplete-radius"><span class="radius-control quantity-input'+At+'"><input auto-width type="number" step="'+Pt+'" min="'+Lt+'" max="'+It+'" value="'+qt+'" /><div class="quantity-nav"><div class="quantity-button quantity-up" data-val="up">+</div><div class="quantity-button quantity-down" data-val="down">-</div></div></span></div>');Tt.one("input").on("change",function(t){var e=t.currentTarget.get("value");g.autocomplete.radius.val=parseFloat(e),kt()}),Ot=!0,Ft.one(".sqs-block-content").append(Tt)}if(g.autocomplete.dimension&&g.autocomplete.dimension.enabled){var Nt=g.autocomplete.dimension.hidden?" hidden":"",Mt="",Dt=g.autocomplete.dimension.values,Et=(qt=g.autocomplete.dimension.val,0);if(Dt)for(var zt in Dt)if(Dt.hasOwnProperty(zt)){var Bt=Dt[zt];Et++;var Wt=qt&&zt==qt?" selected":"";Mt+='<option value="'+Bt+'"'+Wt+">"+zt+"</option>",Wt&&(g.autocomplete.dimension.val=Bt)}var jt=Y.Node.create('<div class="map-autocomplete-dimension cf-selectbox"><span class="dimension-control'+Nt+'" data-count="'+Et+'"><select>'+Mt+'</select><span class="icn-down-open"></span></span></div>');jt.one("select").on("change",function(t){var e=t.currentTarget.get("value");g.autocomplete.dimension.val=parseFloat(e),kt()}),Ot=!0,Ft.one(".sqs-block-content").append(jt)}this.customFilters.append(this.mapAutocompleteContainer),Ot&&this.customFilters.append(Ft),this.mapAutocompleteContainer.one(".search-icon").on("click",function(t){t.halt(),e.mapAutocompleteContainer.toggleClass("active"),e.mapAutocompleteContainer.hasClass("active")&&e.mapAutocompleteContainer.one(".search-input")._node.focus()});var Yt=l(function(t){e.mapAutocompleteContainer.addClass("searching"),t.newVal=t.newVal?t.newVal:!!t.target&&t.target.value,t.newVal&&t.newVal.trim()||e.mapAutocompleteContainer.removeClass("searching"),t.newVal?e.mapAutocompleteContainer.addClass("dirty"):e.mapAutocompleteContainer.removeClass("dirty")},g.autocomplete.timeout,!1);this.mapAutocompleteContainer.one(".search-input").on("valuechange",function(t){Yt(t)}),this.mapAutocompleteContainer.delegate("click",function(t){t.halt(),e.filterAnim=!0,e.mapAutocompleteContainer.one(".search-input").set("value",""),e.mapAutocompleteContainer.removeClass("dirty"),e.advancedMap&&e.advancedMap._node&&e.advancedMap._node.radiusCircle&&(e.advancedMap._node.radiusCircle.setMap(null),e.advancedMap._node.radiusCircle=null),e.firstMapBoundRun=!1,e.needBoundsChange=!0,e._sortGrid(!0)},".reset-button")}this.target.settings.useSQSProxy&&this.target.settings.useSQSProxy.enabled&&(!this.target.settings.useSQSProxy.removeFields||this.target.settings.useSQSProxy.removeFields&&-1==this.target.settings.useSQSProxy.removeFields.indexOf("body"))&&(e.SQSProxy.bodyFieldNeeded||(this.target.settings.useSQSProxy.removeFields+=",body"));var Ut=e.customFiltersWrapper.all(".sqs-block-archive .archive-group-list");Ut&&Ut.each(function(t,e){t.setStyle("zIndex",1100-e)}),this._checkExternalLinks(),this.target.settings.useHistory&&(_.push("cf-using-history"),e.blockPushState=!0,this.popstateListener=function(t){e.blockPushState=!0,e._checkInitState(!0)},window.addEventListener("popstate",this.popstateListener));var Rt=function(t){t.halt(),e.customFiltersWrapper.all(".archive-group-name-link.active").removeClass("active"),e.topSection&&e.topSection.all(".archive-group-name-link.active").removeClass("active"),e.rangesSliders&&e.rangesSliders.forEach(function(t){if(t.noUiSlider){var e=t.noUiSlider.options.range;t.noUiSlider.set([e.min,e.max])}}),e.searchContainer&&e.searchContainer.one(".search-input")&&(e.searchContainer.one(".search-input").set("value",""),e.searchContainer.removeClass("dirty"),e.debounce_search({newVal:"",reset:!0})),e.filterAnim=!0,e._sortGrid()};this.customFiltersWrapper.delegate("click",Rt,".clearAllBtn"),this.container.get("parentNode").delegate("click",function(t){t.halt(),t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget);var i=t.currentTarget.getAttribute("data-index");if("prev"==i?i=e.pagination_num>1?e.pagination_num-1:1:"next"==i&&(i=e.pagination_num+1),i){var a=function(){e.filterAnim=!0,e.paginationClicked=!0,e.pagination_num=parseInt(i),e.pag_num_query=e.pagination_num,e._sortGrid()};if("bottom"==e.target.settings.pagination.place&&e.target.settings.pagination.scrollToTop&&e.target.settings.pagination.scrollToTop.duration){var r=e.container.getY()-160,s=window.pageYOffset||document.documentElement.scrollTop,o=e.target.settings.pagination.scrollToTop.duration/1e3;Math.abs(s-r)>300?e.scrollEl.anim({},{to:{scroll:[0,r]},duration:o,easing:Y.Easing.easeBoth}).run().on("end",function(){a()}):a()}else a()}},".pagination-item a"),this.container.get("parentNode").delegate("click",function(t){t.halt(),t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget);var i=!(!e.pagination||!e.pagination.one(".pagination-item.active a"))&&e.pagination.one(".pagination-item.active a").getAttribute("data-index");if(i){var a=function(){e.filterAnim=!1,e.paginationClicked=!0,e.loadMoreButtonClicked=!0,e.pagination_num=parseInt(i)+1,e.pag_num_query=e.pagination_num,e._sortGrid()};e.pagination.one('.pagination-item a[data-index="'+(parseInt(i)+1)+'"]')?a():console.log("No next page",i)}else console.log("Can not find pagination num")},".pagination-loadMore");var Vt=function(t){t.preventDefault(),t.stopImmediatePropagation(),t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget);var i=t.currentTarget.get("parentNode"),a=i&&i.one(".archive-dropdown-toggle-checkbox");if(a){var r=a.get("checked");a.set("checked",!r)}i.addClass("clicked"),e.target.settings.accordionDropdowns&&(e.customFiltersWrapper.all(".archive-block-wrapper:not(.clicked) .archive-dropdown-toggle-checkbox").set("checked",!1),e.topSection&&e.topSection.all(".archive-block-wrapper:not(.clicked) .archive-dropdown-toggle-checkbox").set("checked",!1)),t.currentTarget.get("parentNode").removeClass("clicked"),i.hasClass("label-clickable")&&i.toggleClass("active")};this.customFiltersWrapper.delegate("click",Vt,".archive-dropdown-toggle-label");var Gt=function(t){t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget),t.currentTarget.addClass("clicked"),e.target.settings.closeOptionsOnSelect&&e._closeOptionsOnSelect(e.customFiltersWrapper),e.topSection&&e.target.settings.closeOptionsOnSelect&&e._closeOptionsOnSelect(e.topSection),e.searchContainer&&e.searchContainer.removeClass("active"),t.currentTarget.removeClass("clicked")};if(this.customFiltersWrapper.delegate("click",Gt,".archive-block-wrapper"),this.target.settings.closeOnMouseOut&&e.customFiltersWrapper.delegate("hover",function(t){t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget),t.currentTarget.addClass("hovered")},function(t){t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget),t.currentTarget.removeClass("hovered"),t.currentTarget.one(".archive-dropdown-toggle-checkbox")&&t.currentTarget.one(".archive-dropdown-toggle-checkbox").set("checked",!1)},".archive-block"),this.container.config&&this.container.config.ajaxData?(this.coll_data=this.container.config.ajaxData,this.target.settings.requestAttrWithAjax=!1,e._start()):this.coll_data&&this.coll_data.collection&&this.coll_data.collection.id&&e._start(),this.container.LazySummariesData&&this.container.LazySummariesData.enableLazy&&window.__initializeLazySummaries&&(this.target.settings.requestAttrWithAjax=!1),_.push(this.u_id),this.target.settings.mobilePanel&&this.target.settings.mobilePanel.enabled){this.target.settings.mobilePanel.useAsDesktop||_.push("use-mobile-panel"),this.target.settings.mobilePanel.align&&_.push("cf-mobile-panel-align-"+this.target.settings.mobilePanel.align),this.target.settings.mobilePanel.useNavStyle&&_.push("cf-mobile-menu-nav");var Zt=this.target.settings.mobilePanel.closeButtonPosition;Zt||(Zt="bottom"),_.push("cf-mobile-panel-close-position-"+Zt),!0===this.target.settings.mobilePanel.keepDropdownsOpen?_.push("mobile-panel-dropdowns-opened"):!1===this.target.settings.mobilePanel.keepDropdownsOpen&&_.push("mobile-panel-dropdowns-closed")}this.target.settings.keepDropdownsOpen&&_.push("keep-dropdowns-open");var Ht=this.target.settings.keepDropdownsOpenOnInit;if(Ht&&_.push("keep-dropdowns-open-on-init"),this.target.settings.pagination&&this.target.settings.pagination.enabled&&_.push("cf-pagination-enabled"),this.target.settings.pagination&&this.target.settings.pagination.enabled&&this.target.settings.pagination.loadMoreButton&&this.target.settings.pagination.loadMoreButton.enabled&&(_.push("cf-loadMoreButton-enabled"),this.pagination_num=1),(this.itemsParent&&this.itemsParent._node&&this.itemsParent._node.className.indexOf("-masonry-")>-1||this.itemsParent&&this.itemsParent._node&&this.itemsParent._node.className.indexOf("-strip-")>-1)&&(this.target.settings.simpleFilter.anim=!1),!this.target.settings.simpleFilter.anim||this.target.settings.isotope&&this.target.settings.isotope.enabled||this.target.settings.mixitup&&this.target.settings.mixitup.enabled)_.push("no-used-css-animation");else{if(this.target.settings.simpleFilter.layoutAnim)_.push("using-layout-animation"),this.target.settings.simpleFilter.persistent=!0;else{_.push("used-css-animation"),_.push("show-animation-"+this.target.settings.simpleFilter.show.effect),_.push("hide-animation-"+this.target.settings.simpleFilter.hide.effect);var Qt=this.target.settings.simpleFilter.show.easing,Jt="."+e.u_id+".used-css-animation  .custom-filter-grid-item{transition: opacity "+this.target.settings.simpleFilter.show.transitionDuration+"ms "+Qt+", transform "+this.target.settings.simpleFilter.show.transitionDuration+"ms "+Qt+"}";if(this.target.settings.simpleFilter.hide.transitionDuration){var Xt=this.target.settings.simpleFilter.hide.easing;Jt+="."+e.u_id+".used-css-animation .hiding .custom-filter-grid-item{transition: opacity "+this.target.settings.simpleFilter.hide.transitionDuration+"ms "+Xt+", transform "+this.target.settings.simpleFilter.hide.transitionDuration+"ms "+Xt+"}"}o(Jt,"stylesheet-"+(e.container.getAttribute("id")||e.container._node&&e.container._node._yuid),e.container._node)}this.target.settings.simpleFilter.persistent&&_.push("persistent-animation")}var $t=this.collectionUrl,Kt=(this.collectionUrl&&d(this.collectionUrl.trim()),this.container.ancestor("section.page-section")&&this.container.ancestor("section.page-section").one(".nested-category-tree-wrapper a.category-link.active")&&this.container.ancestor("section.page-section").all(".nested-category-tree-wrapper a.category-link.active"));if(Kt&&Kt.size()&&(Kt=Kt.item(Kt.size()-1)),Kt&&this.collectionUrl&&(this.collectionUrl=this.items&&this.items.item(0)&&this.items.item(0).one("a").getAttribute("href").split("/p/")[0].split("/v/")[0]||this.collectionUrl,$t=Kt.get("pathname"),d($t)!=d(this.collectionUrl))){this.products_category_page=Kt.get("textContent");var te=Kt.ancestor(".category-item");te&&(this.parent_products_category_page=te.one(".activeParent")&&te.one(".activeParent").get("innerText"))}if(this.products_category_page||this.list_category_page){var ee=decodeURIComponent(this.products_category_page.replace(/\+/g," ").replace(/\%/g,""));if(!e.getFilterAttrObj.category){var ie=e.customFiltersWrapper.all('.filterDropdown[data-get-attr="categories"] .archive-group-name-link[data-filter][data-filter-val="'+x(ee)+'"]');ie.size()||e.customFiltersWrapper&&!e.customFiltersWrapper.one(".name-Additional-Category-Query")&&(e.customFilters.prepend('<div class="sqs-block hidden archive-block sqs-block-archive filterDropdown name-Additional-Category-Query filter-type-dropdown hide-def-label" data-quick-search="false" data-pos-order="1" data-filter-type="dropdown" data-all-option="All" data-multiple-logic="or" data-logic="and" data-defined="false" data-multiple="false" data-strict="true" data-filter="category" data-get-attr="categories"><div class="sqs-block-content"><div class="archive-block-wrapper archive-block-setting-layout-dropdown archive-block-setting-text-alignment-left archive-block-setting-multicolumns"><input class="archive-dropdown-toggle-checkbox" id="dropdown-Additional-Category-Query" type="checkbox"><label class="archive-dropdown-toggle-label" for="dropdown-Additional-Category-Query"><span class="archive-dropdown-toggle-title"><span class="defaultLabel"><span>Category Query</span></span><span class="filterValues" data-all-label=": All"></span><span class="reset-button icn-cancel"></span></span><span class="icn-down-open"></span></label><div class="outsideFilterValues"></div><ul class="archive-group-list" style="z-index: 1100;"><li data-root-option="true" class="archive-group"><a href="'+x(ee)+'" data-filter-val="'+x(ee)+'" data-filter="category" class="archive-group-name-link">'+ee+"</a></li></ul></div></div></div>"),e.getFilterAttrObj.category={attr:"categories",name:"Additional Category Query",slugified_name:"category",showAll:!1,type:"dropdown",logic:"and",allowedOptionsOriginal:[],currentOptions:[]},console.log("category query option added"))}}var ae=this.customFilters.all(".sqs-block");ae._nodes.sort(function(t,e){t=parseInt(t.getAttribute("data-pos-order")),e=parseInt(e.getAttribute("data-pos-order"));return t-e}),e._initFiltering(),e._checkInitState(this.target.settings.waitForAjax),e.first_sort_run||e.target.settings.requestAttrWithAjax&&(!e.target.settings.requestAttrWithAjax||e.target.settings.waitForAjax)||e._sortGrid();var re=e.itemsParent&&e.itemsParent.hasAttribute("data-controller")?e.itemsParent:e.itemsParent&&e.itemsParent.get("parentNode").hasAttribute("data-controller")?e.itemsParent.get("parentNode"):e.itemsParent&&e.itemsParent.hasClass("collection-content-wrapper")?e.itemsParent:null;if(!e.target.settings.noFirstControllerClass&&e.itemsParent&&re&&re._node&&re._node.classList&&re._node.classList[0]){if("top"==e.target.settings.position){var se=e.customFiltersWrapper;e.target.settings.filtersFollowGridLayout&&(se=e.customFiltersWrapper.one(".customFiltersContainer"),_.push("cf-follow-grid-layout")),e.itemsParent&&e.itemsParent.hasAttribute("data-controller")&&e.itemsParent.getAttribute("data-controller").indexOf("UserItemsList")>-1?se.addClass(re._node.classList[1]).setAttribute("data-layout-width",re.getAttribute("data-layout-width")):se.addClass(re._node.classList[0]),se.addClass("controller-first-class-added")}"left"!=e.target.settings.position&&"right"!=e.target.settings.position||!e.target.settings.wrapFilterContainer||(e.container.addClass(re._node.classList[0]),e.container.addClass("controller-first-class-added"))}if(this.customFilters.insert(ae,null),this.target.settings.hidden&&e.customFiltersWrapper.setStyles({display:"none",visibility:"hidden"}),this.target.settings.updateFilterOptions&&(this.target.settings.updateFilterOptions.showOptionsCounters&&_.push("cf-show-options-counter"),this.target.settings.updateFilterOptions.enabled&&(this.target.settings.updateFilterOptions.nonExistOptions&&this.target.settings.updateFilterOptions.nonExistOptions.disable&&_.push("cf-non-exist-options-disable"),this.target.settings.updateFilterOptions.nonExistOptions&&this.target.settings.updateFilterOptions.nonExistOptions.disableHard&&_.push("cf-non-exist-options-disable-hard"),this.target.settings.updateFilterOptions.nonExistOptions&&this.target.settings.updateFilterOptions.nonExistOptions.hide&&_.push("cf-non-exist-options-hide"))),this.virtualFilter&&(this.customFilters.all(".archive-block").size()>0||this.customFiltersWrapper.one(".custom-items-search"))){var oe=this.target.settings.virtualFilter.goButton.title||"Search",ne=this.target.settings.virtualFilter.goButton.place||"after",le=this.target.settings.virtualFilter.goButton.show?"cf-virtual-go-btn-show":"",ce=this.target.settings.virtualFilter.realFilterPageUrl||this.target.settings.collectionUrl,de=this.target.settings.virtualFilter.goButton.positionOrder||10;this.virtualGoButton=Y.Node.create('<div data-pos-order="'+de+'" class="sqs-block virtualGoBtnContainer '+le+'"><div class="sqs-block-content"><div class="go-btn-block-wrapper"><a id="virtualGoButton-'+this.u_id+'" href="'+ce+'" class="virtualGoBtn">'+oe+"</a></div></div></div>");var ge=e.customFilters.one(".custom-items-search")||this.customFilters.one(".sortDropdown")||this.customFilters.one(".filterDropdown");if("before"==ne)ge&&e.customFilters.insert(e.virtualGoButton,ge);else if("after"==ne)ge=e.customFilters.one(".sqs-block-archive[data-pos-order]:not(.items)")?e.customFilters.all(".sqs-block-archive[data-pos-order]:not(.items)"):e.customFilters.all(".custom-items-search").size()?e.customFilters.all(".custom-items-search"):e.customFilters.all(".sqs-block-archive[data-pos-order]"),ge.size()&&ge.item(ge.size()-1).insert(e.virtualGoButton,"after"),console.log("Here",ge);else{var ue=Y.one(ne);ue?ne.prepend(e.virtualGoButton):ge&&e.customFilters.insert(e.virtualGoButton,ge)}this.virtualGoButton=this.virtualGoButton.one("a")}if(this.target.settings.clearAllButton&&this.target.settings.clearAllButton.enabled&&this.customFilters.all(".archive-block").size()>0){_.push("custom-filter-clear-all-enabled");var pe=this.target.settings.clearAllButton.text||"Clear All",me=this.target.settings.clearAllButton.place||"before",he=this.target.settings.clearAllButton.show?"cf-clr-btn-show":"",fe=this.target.settings.clearAllButton.positionOrder?' data-pos-order="'+this.target.settings.clearAllButton.positionOrder+'"':"";this.clearAllBtn=Y.Node.create('<div class="sqs-block clearAllBtnWrapper '+he+'" '+fe+'><div class="sqs-block-content"><a href="#clear_'+this.u_id+'" rel="nofollow" class="clearAllBtn">'+pe+"</a></div></div>");var ve=this.customFilters.one(".sqs-block[data-pos-order]")?this.customFilters.one(".sqs-block[data-pos-order]:not(.items)"):this.customFilters.one(".filterDropdown")||this.customFilters.one(".sortDropdown")||e.customFilters.one(".custom-items-search");if("before"==me)ve&&e.customFilters.insert(e.clearAllBtn,ve);else if("after"==me)ve=e.customFilters.one(".custom-items-search")?e.customFilters.all(".custom-items-search"):e.customFilters.all(".sortDropdown").size()?e.customFilters.all(".sortDropdown"):e.customFilters.all(".filterDropdown"),ve.size()&&ve.item(ve.size()-1).insert(e.clearAllBtn,"after");else{var be=Y.one(me);be?me.prepend(e.clearAllBtn):ve&&e.customFilters.insert(e.clearAllBtn,ve)}}if(this.target.settings.confirmButton&&this.target.settings.confirmButton.enabled){_.push("custom-filter-confirm-button-enabled");var ye=this.target.settings.confirmButton.text||"Results",we=this.target.settings.confirmButton.place||"before",_e=this.target.settings.confirmButton.show?"cf-confirm-btn-show":"";this.confirmButton=Y.Node.create('<div class="sqs-block confirmButtonWrapper '+_e+'"><div class="sqs-block-content"><div class="archive-block-wrapper"><a href="#confirm_'+this.u_id+'" rel="nofollow" class="cf-confirmButton">'+ye+"</a></div></div></div>");var Ce=this.customFilters.one(".sqs-block[data-pos-order]")?this.customFilters.one(".sqs-block[data-pos-order]:not(.items)"):e.customFilters.one(".clearAllBtnWrapper")?e.customFilters.one(".clearAllBtnWrapper"):this.customFilters.one(".custom-items-search")||this.customFilters.one(".filterDropdown")||this.customFilters.one(".sortDropdown");if("before"==we)Ce&&e.customFilters.insert(e.confirmButton,Ce);else if("after"==we)Ce=e.customFilters.one(".clearAllBtnWrapper")?e.customFilters.all(".clearAllBtnWrapper"):e.customFilters.one(".custom-items-search")?e.customFilters.all(".custom-items-search"):e.customFilters.all(".sortDropdown").size()?e.customFilters.all(".sortDropdown"):e.customFilters.all(".filterDropdown"),Ce&&Ce.size()&&Ce.item(Ce.size()-1).insert(e.confirmButton,"after");else{var Se=Y.one(we);Se?we.prepend(e.confirmButton):Ce&&e.customFilters.insert(e.confirmButton,Ce)}this.confirmButton.on("click",function(t){t.halt(),e.confirmButton.setAttribute("data-clicked",!0),e.mobilePanelClose&&e.mobilePanelClose(),e._sortGrid()})}if(this.target.settings.parentFilter&&Y.one(this.target.settings.parentFilter)&&(_.push("cf-child-filter"),this.parentFilter=Y.one(this.target.settings.parentFilter),this.parentFilter&&this.parentFilter._node&&(this.parentFilter._node.__childFilters=this.parentFilter._node.__childFilters||[],this.parentFilter._node.__childFilters.push(this),this.parentFilter.addClass("cf-parent-filter"))),this.itemsParent&&this.target.settings.noResultMessage&&(_.push("cf-custom-no-results-message"),this.itemsParent.hasClass("map-block")&&".outside-marker-item"==(this.target.items+"").trim()?this.itemsParent.one(".sqs-block-content")&&this.itemsParent.one(".sqs-block-content").insert('<div class="cf-no-results-wrapper">'+this.target.settings.noResultMessage+"</div>","before"):this.itemsParent.insert('<div class="cf-no-results-wrapper">'+this.target.settings.noResultMessage+"</div>","before"),this.noResultWrapper=this.container.one(".cf-no-results-wrapper")),_=_.toString().replace(/,/g," "),this.container.addClass(_),this.target.settings.placeFiltersTo){e.container._node&&(e.container._node.className=e.container._node.className.replace(/custom-filter-position-/g,"no-position-"));var xe=!1,ke="",Fe="append";if("string"==typeof this.target.settings.placeFiltersTo&&(ke=this.target.settings.placeFiltersTo.split("|"),2==ke.length&&(Fe=ke[1]||Fe),ke=ke[0]),"object"==typeof this.target.settings.placeFiltersTo&&this.target.settings.placeFiltersTo.desktop&&this.target.settings.placeFiltersTo.mobile||(xe=Y.one(ke)),xe){e.placedContainer=xe.addClass("cf-placed-filters").addClass(_).addClass(e.positionClasses)[Fe](this.customFiltersWrapper);var Oe=e.placedContainer.ancestor("#header");Oe&&_.indexOf("use-mobile-panel")>-1&&Oe.addClass("header-filter-placed")}else console.log("Sorry, place container is not found."),e.container.prepend(e.customFiltersWrapper)}else e.container.hasClass("sqs-block-gallery")&&e.container.one(".sqs-gallery-container")?e.container.one(".sqs-gallery-container").prepend(e.customFiltersWrapper):e.itemsParent&&e.itemsParent.get("id")&&"productList"==e.itemsParent.get("id")?e.itemsParent.insert(e.customFiltersWrapper,"before"):e.container.prepend(e.customFiltersWrapper);if(this._doSidebarWidth(),this.target.settings.mobilePanel&&this.target.settings.mobilePanel.enabled){if(this.target.settings.mobilePanel.title){var Ae=document.createElement("div");Ae.className="cf-mobile-panel-title",Ae.innerHTML=this.target.settings.mobilePanel.title,this.customFilters&&this.customFilters.prepend(Ae)}var Pe=this.target.settings.mobilePanel.useAsDesktop;Pe?(this.container.addClass("cf-mobile-panel-visible"),this.customFiltersWrapper&&this.customFiltersWrapper.prepend('<button class="mobile-filter-trigger">'+this.target.settings.mobilePanel.triggerButtonName+"</button>"),this.container.removeClass("preFlex").removeClass("flexIn").removeClass("preScale").removeClass("inScale")):this.container.prepend('<button class="mobile-filter-trigger">'+this.target.settings.mobilePanel.triggerButtonName+"</button>"),this.container.one(".mobile-filter-trigger").on("click",function(t){t.preventDefault(),e.container.removeClass("preFlex").removeClass("flexIn").removeClass("preScale").removeClass("inScale"),e.parentFilter&&e.parentFilter.CustomFilter&&e.parentFilter.CustomFilter.container&&e.parentFilter.CustomFilter.container.one(".mobile-filter-trigger")?e.parentFilter.CustomFilter.container.one(".mobile-filter-trigger").simulate("click"):(!e.customFiltersWrapper.hasClass("cf-mp-transitions")&&e.customFiltersWrapper.addClass("cf-mp-transitions"),e.container.toggleClass("mobile-panel-open"),e.container.hasClass("mobile-panel-open")?(e.placedContainer&&e.placedContainer.addClass("mobile-panel-open"),Pe||(Y.one("body").setStyles({marginRight:window._scrollBarWidth,overflow:"hidden"}),setTimeout(function(){Y.one("body").addClass("filter-scroll-lock")},20))):(e.placedContainer&&e.placedContainer.removeClass("mobile-panel-open"),Pe||(Y.one("body").setStyles({marginRight:"auto",overflow:"auto"}),window.setTimeout(function(){Y.one("body").removeClass("filter-scroll-lock")},320))))});var Ie=function(t){t&&t.preventDefault(),e.container.removeClass("mobile-panel-open"),e.placedContainer&&e.placedContainer.removeClass("mobile-panel-open"),Pe||(Y.one("body").setStyles({marginRight:"auto",overflow:"auto"}),window.setTimeout(function(){Y.one("body").removeClass("filter-scroll-lock")},320))};if(e.mobilePanelClose=Ie,this.customFiltersWrapper.delegate("click",Ie,".mobile-panel-close"),this.target.settings.mobilePanel.closeOnOutsideClick&&Y.one("body").on("click",function(t){!Y.one("body").hasClass("filter-scroll-lock")||t.target.ancestor(".customFiltersWrapper")||t.target.hasClass("customFiltersWrapper")||Ie(t)}),this.target.settings&&this.target.settings.mobilePanel&&this.target.settings.mobilePanel.enabled&&this.target.settings.mobilePanel.forceOnWidth){!Pe&&-1==(this.target.settings.mobilePanel.forceOnWidth+"").indexOf("px")&&-1==(this.target.settings.mobilePanel.forceOnWidth+"").indexOf("em")&&parseFloat(this.target.settings.mobilePanel.forceOnWidth)&&(this.target.settings.mobilePanel.forceOnWidth=this.target.settings.mobilePanel.forceOnWidth+"px");var Le="";this.target.settings.mobilePanel.useNavStyle&&(Le='.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav {margin-top:-4%}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .customFiltersContainer{padding-top:54px !important;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block{font-size:17px;line-height:1.2;margin-bottom:4%;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block[data-color-swatches="true"] .archive-group-list{overflow-y:auto !important;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block[data-color-swatches="true"] .archive-group-list li .archive-group-name-link{font-size:inherit !important;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-dropdown-toggle-label{height:auto;top:0;left:0;position:relative;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper,.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .range-slider-wrapper,.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .search-wrap{line-height:inherit;font-size:inherit;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper{width:100%;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper.archive-block-setting-layout-dropdown .archive-dropdown-toggle-title{width:96%;text-overflow:none;padding-right:16px;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper.archive-block-setting-layout-dropdown .archive-dropdown-toggle-title .defaultLabel{width:50%;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper.archive-block-setting-layout-dropdown .archive-dropdown-toggle-title .filterValues{width:50%;text-align:right;float:right;font-size:82%;line-height:inherit;vertical-align:middle;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper.archive-block-setting-layout-dropdown .archive-dropdown-toggle-title .filterValues:before{display:none;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper.archive-block-setting-layout-dropdown .archive-dropdown-toggle-title .reset-button{right:32px;display:none;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper.archive-block-setting-layout-dropdown .archive-dropdown-toggle-title .reset-button:before{font-family:inherit !important;content:"Clear";width:auto;text-transform:uppercase;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper.archive-block-setting-layout-dropdown .icn-down-open{display:inline-block !important;margin:0 auto;position:relative;cursor:pointer;width:24px;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper.archive-block-setting-layout-dropdown .icn-down-open:before{content:""!important;font-size:inherit;display:inline-block;line-height:0;width:0.4em;height:0.4em;border-top:1px solid currentColor;border-right:1px solid currentColor;vertical-align:middle;margin-top:-0.2em;transform:rotate(45deg);transform-origin:50% 50%;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper .archive-group-list{transition:transform .3s ease;display:block !important;z-index:2100 !important;width:100%;height:100%;margin:0 !important;max-height:none !important;position:fixed;transform:translateX(120%);top:0;padding:20% 10% 10% 10% !important;right:auto;background-color:#fff;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper .archive-group-list li{padding:0 !important;width:100%;overflow:hidden;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper .archive-group-list li a{margin:0 0 5vh 0;padding:0 !important;line-height:1.2;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav .customFiltersWrapper:not(.cf-top-section-filters) .sqs-block .archive-block-wrapper .archive-group-list li a .color-swatch_tooltip{opacity:1;display:inline-block;width:70vw;margin-left:22px;pointer-events:auto;position:relative;background:none;color:currentColor;font-size:14px;top:50%;transform:translateY(-50%) !important;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav.mobile-panel-open .customFiltersWrapper .sqs-block .archive-dropdown-toggle-checkbox:checked ~.archive-dropdown-toggle-label{position:fixed;animation:slideToFixed 1s 0.3s ease-out forwards;top:0;left:0;right:0;width:100%;z-index:2111;padding:5% 30px;border:none !important;overflow:visible;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav.mobile-panel-open .customFiltersWrapper .sqs-block .archive-dropdown-toggle-checkbox:checked ~.archive-dropdown-toggle-label .icn-down-open{margin:0;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav.mobile-panel-open .customFiltersWrapper .sqs-block .archive-dropdown-toggle-checkbox:checked ~.archive-dropdown-toggle-label .icn-down-open:before{transform:rotate(-135deg);}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav.mobile-panel-open .customFiltersWrapper .sqs-block .archive-dropdown-toggle-checkbox:checked ~.archive-dropdown-toggle-label .archive-dropdown-toggle-title{text-align:center;width:100%;display:block;padding:0;margin:0;position:absolute;left:0;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav.mobile-panel-open .customFiltersWrapper .sqs-block .archive-dropdown-toggle-checkbox:checked ~.archive-dropdown-toggle-label .archive-dropdown-toggle-title .filterValues{display:none;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav.mobile-panel-open .customFiltersWrapper .sqs-block .archive-dropdown-toggle-checkbox:checked ~.archive-dropdown-toggle-label .archive-dropdown-toggle-title .reset-button{display:block;}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.cf-mobile-menu-nav.mobile-panel-open .customFiltersWrapper .sqs-block .archive-dropdown-toggle-checkbox:checked ~ul.archive-group-list{transform:translateX(0)}');var qe="{.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .cf-mobile-panel-title{display: block}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.mobile-panel-dropdowns-closed .sqs-block-archive .archive-block-setting-layout-dropdown .archive-dropdown-toggle-checkbox:not(:checked)~.archive-group-list{display:none!important}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.mobile-panel-dropdowns-closed .sqs-block-archive .archive-block-setting-layout-dropdown .archive-dropdown-toggle-checkbox:checked~.archive-dropdown-toggle-label .icn-down-open:before{content:'\\e802'!important}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.mobile-panel-dropdowns-opened .sqs-block-archive .archive-block-setting-layout-dropdown .archive-dropdown-toggle-label .icn-down-open:before{content:'\\e801'!important}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-dropdowns.mobile-panel-dropdowns-opened .sqs-block-archive .archive-block-setting-layout-dropdown .archive-group-list{display:block!important}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .customFiltersWrapper:not(.cf-top-section-filters){position:fixed;bottom:0;top: auto!important;margin:0;background-color:var(--siteBackgroundColor, #fff);border:2px solid #000;max-width:80%;max-width:80vw;min-width:0;width:100%;height:80%;visibility:visible!important;min-height:76%!important;float:none!important;min-height:300px;overflow:hidden;z-index:2147483649;will-change:transform;transition-property:transform}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .customFiltersWrapper:not(.cf-top-section-filters).cf-mp-transitions{transition-duration:.3s;transition-timing-function:ease-in-out;transition-delay:.3s}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .customFiltersWrapper:not(.cf-top-section-filters) .customFiltersContainer{width:100%;height:100%;padding:10px 5% 48px 5%;position:relative;align-items:start;-webkit-overflow-scrolling:touch;overflow-y:auto;overflow-x:hidden}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.mobile-panel-open .customFiltersWrapper:not(.cf-top-section-filters){transform:translate3d(0,0,0)!important;transition-delay:0s!important}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.mobile-panel-open .mobile-panel-close:after,.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.mobile-panel-open .mobile-panel-close:before{transition-delay:.2s}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.mobile-panel-open .mobile-panel-close:before{transform:rotate(45deg);-webkit-transform:rotate(45deg)}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.mobile-panel-open .mobile-panel-close:after{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-modern .sqs-block .archive-dropdown-toggle-label .archive-dropdown-toggle-title.dirty .filterValues,.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.custom-filter-view-modern .sqs-block .archive-dropdown-toggle-label .archive-dropdown-toggle-title.dirty .sortValues{display:inline-block}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .customFiltersWrapper:not(.cf-top-section-filters) .archive-block-wrapper ul.archive-group-list{position:relative;border:none;right:0;left:0;margin:0;max-width:100%}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .customFiltersWrapper:not(.cf-top-section-filters){left:0;transform:translateX(-110%)}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.cf-mobile-panel-align-right .mobile-filter-trigger{display:block;width:auto;clear:both;float:right;align-self:end}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.cf-mobile-panel-align-right .customFiltersWrapper:not(.cf-top-section-filters){right:0;left:auto;transform:translateX(110%)}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.cf-mobile-panel-align-center .mobile-filter-trigger{display:block;width:auto;clear:both;margin:0 auto;float:none}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z.cf-mobile-panel-align-center .customFiltersWrapper:not(.cf-top-section-filters){left:0;margin:0 10vw;transform:translateY(110%)}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .mobile-filter-trigger{display:inline-block}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .mobile-panel-close{display:block}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .custom-filter-grid{margin-top:30px;float:none}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .custom-filter-grid:not(#productList):not(.ProductList-grid):not(.uk-grid){max-width:100%!important;width:100%;margin:30px 0 0 0}.custom-filter-container.use-mobile-panel.custom-filter-uid-Z .custom-filter-grid:not(.collection-content-wrapper){padding:0}.custom-filter-container .customFiltersWrapper .sqs-block{clear:both;float:none;width:100%;margin:0;padding:10px 0;max-width:100%}.cf-mobile-panel-close-position-left .customFiltersWrapper:not(.cf-top-section-filters) .customFiltersContainer,.cf-mobile-panel-close-position-right .customFiltersWrapper:not(.cf-top-section-filters) .customFiltersContainer,.cf-mobile-panel-close-position-top  .customFiltersWrapper:not(.cf-top-section-filters) .customFiltersContainer{padding-top:20%!important}.custom-filter-container.custom-filter-view-dropdowns .customFiltersWrapper .sqs-block{max-width:100%!important}.cf-sort-left .sortDropdown,.cf-sort-right .sortDropdown{position:relative!important;padding:10px!important;top:auto!important;left:auto!important;right:auto!important}.custom-filter-container.custom-filter-view-modern .customFiltersWrapper .sqs-block{margin-bottom:8px;padding:0}.custom-filter-container.custom-filter-view-modern .customFiltersWrapper .sqs-block:last-child{margin:0}.custom-filter-container.custom-filter-view-modern .customFiltersWrapper .archive-block-wrapper{position:relative}.custom-filter-container.custom-filter-view-modern .customFiltersWrapper .archive-block-wrapper .archive-group-list{box-shadow:none;border:2px solid #000;z-index:10;max-width:110%;width:100%;max-height:300px;overflow-y:auto}.custom-filter-container.custom-filter-view-modern .customFiltersWrapper .sqs-block.custom-items-search{padding:1px 0;width:100%}.custom-filter-container.custom-filter-view-modern .customFiltersWrapper .sqs-block.custom-items-search .search-icon{display:none}.custom-filter-container.custom-filter-view-modern .customFiltersWrapper .sqs-block.custom-items-search .search-wrap{display:block;position:relative;max-width:100%;box-shadow:none;padding:0}.custom-filter-container.custom-filter-view-modern .customFiltersWrapper .sqs-block.custom-items-search .search-wrap .search-input{line-height:inherit;border:none}.custom-filter-container.custom-filter-view-modern .filterDropdown .archive-dropdown-toggle-label,.custom-filter-container.custom-filter-view-modern .sortDropdown .archive-dropdown-toggle-label{width:100%}.custom-filter-container.custom-filter-view-modern .filterDropdown .archive-dropdown-toggle-label .archive-dropdown-toggle-title,.custom-filter-container.custom-filter-view-modern .sortDropdown .archive-dropdown-toggle-label .archive-dropdown-toggle-title{width:93%}"+Le+"}";Pe||o("@media only screen and (max-width:"+this.target.settings.mobilePanel.forceOnWidth+")"+qe.replace(/-uid-Z/g,"-uid-"+e.target.index).replace(/-CFC/g,"custom-filter-container").replace(/-CF/g,"custom-filter"),"cf-mobilePanel-"+e.target.index,e.container._node)}this.container.one(".mobile-filter-trigger")&&this.itemsParent&&this.itemsParent.hasAttribute("data-controller")&&re._node.classList&&this.container.one(".mobile-filter-trigger").wrap('<div class="mobile-filter-trigger-wrapper '+re._node.classList[0]+'"></div>')}if(g&&(g.activateMarkerInfoOnItemHover&&this.container.delegate("hover",function(t){g.activateMarkerInfoOnItemHover&&(t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget),t.currentTarget._markerInst&&(g.panAndZoomToMarker&&!isNaN(g.panAndZoomToMarker)?t.currentTarget._markerInst.smoothPanAndZoom&&t.currentTarget._markerInst.smoothPanAndZoom(g.panAndZoomToMarker,!0):t.currentTarget._markerInst.openInfo&&t.currentTarget._markerInst.openInfo()))},function(t){e.advancedMap&&e.advancedMap._node&&e.advancedMap._node._map&&g.desactivateMarkerOnItemMouseOut&&e.advancedMap._node._closeInfo&&e.advancedMap._node._closeInfo()},".custom-filter-grid-item"),g.activateMarkerInfoOnItemClick&&this.container.delegate("click",function(t){e.advancedMap&&(t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget),t.currentTarget._markerInst&&(t.currentTarget.hasClass("marker-activated")||t.halt(),g.panAndZoomToMarker&&!isNaN(g.panAndZoomToMarker)?t.currentTarget._markerInst.smoothPanAndZoom&&t.currentTarget._markerInst.smoothPanAndZoom(g.panAndZoomToMarker,!0):t.currentTarget._markerInst.openInfo&&t.currentTarget._markerInst.openInfo()))},".custom-filter-grid-item")),this.customFiltersWrapper.all(".quantity-input").each(function(t){var e=t.one("input"),i=(t.one(".quantity-up"),t.one(".quantity-down"),parseFloat(e.getAttribute("step"))),a=parseFloat(e.getAttribute("min")),r=parseFloat(e.getAttribute("max")),s=function(t){var s=parseFloat(e.get("value")),o=0,n="up"==t?s>=r:s<=a;o="up"==t?n?s:s+i:n?s:s-i,e.set("value",o),e.simulate("change")};e.on("valuechange",function(t){var i=parseFloat(e.get("value"));i>r?(i=r,e.set("value",i)):i<a&&(i=a,e.set("value",i))}),t.delegate("click",function(t){t.preventDefault();var e=t.currentTarget.getAttribute("data-val");s(e)},".quantity-button")}),this.customFiltersWrapper.all("input[auto-width]").each(function(t){var e=Y.Node.create('<div class="auto-width-buffer" style="position:absolute;opacity:1;visibility:hidden;top:-999px;left:-999px;white-space:nowrap;font-size:inherit"></div>');t.buffer=e,t.get("parentNode").append(e);var i=t.getAttribute("auto-width")?parseFloat(t.getAttribute("auto-width")):22,a=function(t){t.buffer&&(t.buffer._node.innerHTML=t.get("value"),t.setStyles({width:t.buffer._node.clientWidth+i}))};t.on("update",function(t){a(t.currentTarget)}),t.on("valuechange",function(t){a(t.currentTarget)}),t.on("change",function(t){a(t.currentTarget)}),a(t),t._node.setWidth=function(){a(t)}}),this.target.settings.keepDropdownsOpen&&this.container.delegate("click",function(t){t.halt();var e=t.currentTarget.ancestor(".archive-block");e&&e.toggleClass("closed-archive")},".icn-down-open"),this.target.settings.topSection&&this.target.settings.topSection.enabled){var Te=this.target.settings.topSection.align||"right",Ne=this.container.one(".mobile-filter-trigger"),Me=(this.target.settings.topSection.display+"").trim()||"block",De='<div class="cf-top-section" style="width:100%;clear:both;display:'+Me+";justify-content: "+Te+';"><div class="customFiltersWrapper cf-top-section-filters"><div class="customFiltersContainer" style="justify-content: '+Te+';"></div></div></div>';Ne?Ne.insert(De,"after"):this.container.prepend(De),this.target.settings.topSection.hasOwnProperty("closeOptionsOnSelect")||(this.target.settings.topSection.closeOptionsOnSelect=this.target.settings.closeOptionsOnSelect),this.topSection=this.container.one(".cf-top-section"),this.target.settings.topSection.items&&(e.target.settings.topSection.itemsSelectors=[],this.target.settings.topSection.items.split("|").forEach(function(t){t=t.trim();var i="";if("Sort"==t){i=".sortDropdown";var a=e.customFiltersWrapper.one(i);a&&e.topSection.one(".customFiltersContainer").append(a)}else if("Search"==t){i=".custom-items-search";var r=e.customFiltersWrapper.one(i);r&&e.topSection.one(".customFiltersContainer").append(r)}else if("clearAllBtn"==t){i=".clearAllBtnWrapper";var s=e.customFiltersWrapper.one(i);s&&e.topSection.one(".customFiltersContainer").append(s)}else if("outsideOptions"==t)e.outsideOptionsContainer&&e.topSection.one(".customFiltersContainer").append(e.outsideOptionsContainer);else{i=".name-"+x(t,!0);var o=e.customFiltersWrapper.one(i);o&&e.topSection.one(".customFiltersContainer").append(o)}i&&e.target.settings.topSection.itemsSelectors.push(i)})),e.topSection&&(e.topSection.delegate("click",Vt,".archive-dropdown-toggle-label"),e.topSection.delegate("click",Gt,".archive-block-wrapper"),e.target.settings.closeOnMouseOut&&e.topSection.delegate("hover",function(t){t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget),t.currentTarget.addClass("hovered")},function(t){t.currentTarget=t.currentTarget._node?t.currentTarget:Y.one(t.currentTarget),t.currentTarget.removeClass("hovered").one(".archive-dropdown-toggle-checkbox").set("checked",!1)},".archive-block"),this.target.settings.topSection.insertBackWidth=this.target.settings.topSection.insertBackWidth||this.target.settings.mobilePanel.enabled&&this.target.settings.mobilePanel.forceOnWidth,this.target.settings.topSection.insertBackPoint&&this.target.settings.topSection.insertBackWidth&&(this.target.settings.topSection.insertBackPoint=this.target.settings.topSection.insertBackPoint.trim(),this.moveTopSectionBlocks=function(){var t=e.container.all(e.target.settings.topSection.itemsSelectors+"");if(t&&t.size()){var i=e.topSection.one(e.target.settings.topSection.itemsSelectors[0]),a="Search"==e.target.settings.topSection.insertBackPoint?".custom-items-search":"Sort"==e.target.settings.topSection.insertBackPoint?".sortDropdown":"clearAllBtn"==e.target.settings.topSection.insertBackPoint?".clearAllBtnWrapper":".name-"+x(e.target.settings.topSection.insertBackPoint,!0);window.innerWidth<=parseInt(e.target.settings.topSection.insertBackWidth)?i&&e.container.one(a).insert(t,"after"):i||e.container.one(".cf-top-section-filters .customFiltersContainer").append(t)}},window.addEventListener("resize",this.moveTopSectionBlocks,!1)))}this.topSection&&this.topSection.delegate("click",Rt,".clearAllBtn"),this.sectionParent=this.customFiltersWrapper.ancestor(".page-section"),this.sectionParent&&(this.sectionParent.addClass("cf-inside-section"),this.sectionsContainer=this.sectionParent.ancestor("#page"),this.sectionsContainer&&this.sectionsContainer.addClass("cf-page-sections-container")),this.all_filter_classes=_+" "+this.positionClasses;var Ee=!1,ze=!1;this.target.settings.listCollection&&this.target.settings.listCollection.enabled&&this.target.settings.listCollection.container&&(Ee=this.container._node&&this.container._node.f_matches(this.target.settings.listCollection.container)&&this.container||this.itemsParent&&this.itemsParent._node&&this.itemsParent._node.f_matches(this.target.settings.listCollection.container)||this.itemsParent&&this.itemsParent.one(this.target.settings.listCollection.container),ze=this.target.settings.listCollection.itemLinkSelector,this.listCollection=Ee);var Be=this.items.item(0)&&this.items.item(0).hasClass("post-type-store-item")||this.itemsParent&&(this.itemsParent.hasClass("ProductList-grid")||"productList"==this.itemsParent.getAttribute("id"))&&(window.location.href.indexOf("category=")>-1||window.location.href.indexOf("/category/")>-1||window.location.href.indexOf("tag=")>-1||window.location.href.indexOf("/tag/")>-1),We=Ee||this.itemsParent&&this.itemsParent.hasClass("eventlist")||this.container.hasClass("ProductList")&&this.container.one(".ProductList-pagination-nextPageLink")||this.itemsParent&&this.itemsParent.hasClass("productlist-container")&&Y.one(".productpager-list")||this.itemsParent&&(Be||this.itemsParent.hasClass("BlogList-inner")||this.itemsParent.hasClass("BlogList")||this.itemsParent.hasClass("sqs-blog-list")||this.itemsParent.hasClass("blog-list")||this.container.hasClass("blog-list")||this.container.hasClass("article-list")||this.itemsParent.hasClass("article-list")||this.itemsParent.hasClass("collection-content-wrapper")&&-1==this.itemsParent._node.className.indexOf("portfolio-"))||e.items&&e.items.size()&&e.items.item(0).hasClass("blog-item")||e.itemsParent&&e.itemsParent.hasClass("list-grid");if(Be&&this.sectionParent&&this.sectionParent.one(".nested-category-tree-wrapper"),We&&(Y.one(".BlogList-pagination")&&Y.one(".BlogList-pagination").hide(),Y.one(".BlogList-load")&&Y.one(".BlogList-load").hide(),Y.one(".blog-list-pagination")&&Y.one(".blog-list-pagination").hide(),Y.one(".productpager-list")&&Y.one(".productpager-list").hide(),Y.one(".ProductList-pagination")&&Y.one(".ProductList-pagination").hide(),this.target.settings.listCollection.paginationSelector),!this.target.settings.getData||"function"!=typeof this.target.settings.getData&&"object"!=typeof this.target.settings.getData)if(this.target.settings.customIndexUrl)this.requestComplete=!1,I(this.target.settings.customIndexUrl,e.target.settings.useSessionCache).then(function(t){if(t.collection?e.coll_data=t:e.coll_data.items=t,We){e.collectionUrl.indexOf("/category/")>-1&&(e.collectionUrl=e.collectionUrl.split("/category/")[0]),e.collectionUrl.indexOf("/tag/")>-1&&(e.collectionUrl=e.collectionUrl.split("/tag/")[0]);var i=function(t){if(e.existedItems=e.existedItems?e.existedItems:e.target.items&&e.container.one(e.target.items)?e.container.all(e.target.items):new Y.NodeList,t.html){var i=t.html;e.target.settings.timelog&&console.time("LZS Decompress"),0==i.indexOf("LZString")&&(i=mt.decompressFromEncodedURIComponent(i.replace("LZString",""))),i.indexOf("&gt;")>-1&&e.target.settings.deEscapeHTML&&(i=E(i)),e.target.settings.timelog&&console.timeEnd("LZS Decompress");var a=Y.Node.create(i),r=!1,s=[],o=[];if(e.existedItems.each(function(t){var e=t.getAttribute("id")||t.getAttribute("data-item-id")||t.getAttribute("data-slide-id"),i=ze&&t.one(ze)||t.one(".eventlist-title-link")||t.one(".BlogList-item-title")||t.one(".ProductList-item-link")||t.one('a[data-content-field="title"]')||t.one(".blog-title a")||t.one(".grid-title a");i&&(i=i.getAttribute("href").replace("#rel=sponsored","").replace("#rel=nofollow",""),i&&o.push(i)),e&&e.length&&-1==e.indexOf("yui_3_17_2")&&s.push(e)}),a&&a.one(e.target.items)){if(r=a.one(e.target.items)?a.all(e.target.items).addClass("item-filter-loaded").addClass("is-loaded"):new Y.NodeList,r.size())if(s.length)for(var n=r._nodes.length-1;n>=0;n--){var l=r._nodes[n],c=l.id||l.getAttribute("data-item-id")||l.getAttribute("data-slide-id");c&&c.length&&-1==c.indexOf("yui_3_17_2")&&s.indexOf(c)>-1&&r._nodes.splice(n,1)}else if(o.length)for(n=r._nodes.length-1;n>=0;n--){l=r._nodes[n];var d=ze&&l.querySelector(ze)||l.querySelector(".eventlist-title-link")||l.querySelector(".BlogList-item-title")||l.querySelector(".ProductList-item-link")||l.querySelector('a[data-content-field="title"]')||l.querySelector(".blog-title a")||l.querySelector(".grid-title a");d&&(d=d.getAttribute("href").replace("#rel=sponsored","").replace("#rel=nofollow",""),d&&o.indexOf(d)>-1&&r._nodes.splice(n,1))}else console.log("No way to filter new items.");e.requestComplete=!0,e.addVirtualItems(r,e.coll_data.items),r.size()&&e.addItems(r)}}e._start()};t.html?i(t):N(e.collectionUrl,e).then(function(t){i(t)})}else e._start()});else if(this.target.settings.requestAttrWithAjax){this.requestComplete=!1;var je=this.collectionUrl.trim().replace(/ /g,"").split("|"),Ye=window.location.pathname;je.forEach(function(t,e){t==Ye&&(je.splice(e,1),je.unshift(t))});var Ue=je.length&&je[1]&&je[1].trim(),Re=e.target.settings.multipleCollectionsFormat&&"json"==e.target.settings.multipleCollectionsFormat;if(Ue&&(We=!0,e.multipleCollectionsFetched=je),We){var Ve=function(t){if(e.target.settings.hooks&&e.target.settings.hooks.htmlListFetched)try{"function"==typeof e.target.settings.hooks.htmlListFetched&&e.target.settings.hooks.htmlListFetched(e,t)}catch(t){console.error(t)}if(e.target.settings.hooks&&e.target.settings.hooks.htmlListJSONTransform&&"function"==typeof e.target.settings.hooks.htmlListJSONTransform)try{t=e.target.settings.hooks.htmlListJSONTransform(e,t)||t}catch(t){console.error(t)}if(e.coll_data||(e.coll_data={collection:{},items:[]}),(!t.items||t.items&&0==t.items.length)&&(t.upcoming&&t.upcoming.length||t.past&&t.past.length)&&(t.items=t.upcoming.concat(t.past)),!Re&&t&&t.items&&t.items.length&&(!e.coll_data||!e.coll_data.items||t.items.length>=e.coll_data.items.length||Be)){if(e.coll_data=t,e.existedItems=e.existedItems?e.existedItems:e.target.items&&e.container.one(e.target.items)?e.container.all(e.target.items):new Y.NodeList,t.html){var i=t.html;e.target.settings.timelog&&console.time("LZS Decompress"),0==i.indexOf("LZString")&&(i=i.replace("LZString",""),i=mt.decompressFromEncodedURIComponent(i)),e.target.settings.timelog&&console.timeEnd("LZS Decompress"),i.indexOf("&gt;")>-1&&e.target.settings.deEscapeHTML&&(i=E(i));var a=Y.Node.create(i);a||(a=Y.Node.create("<div></div>"),a._node.innerHTML=i),a&&!a.one(e.target.items)&&(a=Y.Node.create("<div></div>").append(a));var r=!1,s=[],o=[];if(e.existedItems.each(function(t){var e=t.getAttribute("id")&&-1==t.getAttribute("id").indexOf("yui_3_17")&&t.getAttribute("id")||t.getAttribute("data-item-id")||t.getAttribute("data-slide-id")||t.getAttribute("data-set-id"),i=ze&&t.one(ze)||t.one(".eventlist-title-link")||t.one(".BlogList-item-title")||t.one(".productlist-item-link")||t.one(".ProductList-item-link")||t.one('a[data-content-field="title"]')||t.one(".blog-title a")||t.one(".grid-title a");i&&(i=i.getAttribute("href").replace("#rel=sponsored","").replace("#rel=nofollow",""),i&&o.push(i)),e&&-1==e.indexOf("yui_3_17")&&s.push(e)}),a&&a.one(e.target.items)){if(r=a.one(e.target.items)?a.all(e.target.items).addClass("item-filter-loaded").addClass("is-loaded"):new Y.NodeList,e.target.settings.hooks&&e.target.settings.hooks.htmlListTransform&&"function"==typeof e.target.settings.hooks.htmlListTransform)try{e.target.settings.hooks.htmlListTransform(e,a,r,t)}catch(t){console.error(t)}if(r.size())if(s.length)for(var n=r._nodes.length-1;n>=0;n--){var l=r._nodes[n],c=l.id&&-1==l.id.indexOf("yui_3_17")&&l.id||l.getAttribute("data-item-id")||l.getAttribute("data-slide-id")||l.getAttribute("data-set-id");c&&-1==c.indexOf("yui_3_17")&&s.indexOf(c)>-1&&r._nodes.splice(n,1)}else if(o.length)for(n=r._nodes.length-1;n>=0;n--){l=r._nodes[n];var d=ze&&l.querySelector(ze)||l.querySelector(".eventlist-title-link")||l.querySelector(".BlogList-item-title")||l.querySelector(".productlist-item-link")||l.querySelector(".ProductList-item-link")||l.querySelector('a[data-content-field="title"]')||l.querySelector(".blog-title a")||l.querySelector(".grid-title a");d&&(d=d.getAttribute("href").replace("#rel=sponsored","").replace("#rel=nofollow",""),d&&o.indexOf(d)>-1&&r._nodes.splice(n,1))}else console.log("No Way to filter new items");e.requestComplete=!0,e.addVirtualItems(r,t.items),r.size()&&e.addItems(r)}}}else e.coll_data=t;e._start()},Ge=e.target&&e.target.settings.useSQSProxy,Ze="page-context";if(Ue){var He=[],Qe=function(){Re?je.forEach(function(t){He.push(j(t,e))}):je.forEach(function(t){He.push(D(t,!1,e))}),Promise.all(He).then(function(t){var i={collection:{},html:"",items:[],past:[],upcoming:[]};t.forEach(function(t){if(e.target.settings.hooks&&e.target.settings.hooks.htmlListJSONCollectionTransform&&"function"==typeof e.target.settings.hooks.htmlListJSONCollectionTransform)try{t=e.target.settings.hooks.htmlListJSONCollectionTransform(e,t)||t}catch(t){console.error(t)}t.html&&(i.html+=t.html),i.items=i.items.concat(t.items),i.upcoming.concat(t.upcoming),i.past.concat(t.past)}),Ge&&Ge.enabled&&B(je+"",G({},i),Ze,e.target.settings.useSQSProxy,!1),Ve(i)})};if(Ge&&Ge.enabled){Re&&(Ze="json");var Je=je;(je+"").length>250&&(Je="/"+a((je+"").toLowerCase()));zt=window.location.hostname.replace(/\./g,"-")+"_"+Ze+"_"+(Je+"").replace(/\,/g,"-").replace(/\//g,"");var Xe=L(zt);W((je+"").toLowerCase(),Ze,Xe,Ge).then(function(t){var e=t.items&&t.items.length;!e||!Xe||!Xe.saved||Xe&&Xe.minutes&&Xe.minutes!=Ge.cacheTime||!Ge.cacheTime?Qe():Ve(t)}).catch(function(t){Qe()})}else Qe()}else this.collectionUrl.indexOf("/category/")>-1&&(this.collectionUrl=this.collectionUrl.split("/category/")[0]),this.collectionUrl.indexOf("/tag/")>-1&&(this.collectionUrl=this.collectionUrl.split("/tag/")[0]),D(this.collectionUrl,this.target.settings.customIndexUrl,this).then(function(t){t.html||console.log("No additional items found"),Ve(t)})}else{var $e=this.collectionUrl;this.config&&this.config.enableLazy&&window.__initializeLazySummaries?this.container&&this.container._node&&this.container._node.LazySummariesData&&this.container._node.LazySummariesData.existedItems&&this.container._node.LazySummariesData.__current&&this.addVirtualItems(this.container._node.LazySummariesData.__current,this.container._node.LazySummariesData.ajaxData,this.container._node.LazySummariesData.ajaxData):g&&g.advancedMapContainer&&Y.one(g.advancedMapContainer)&&window.___customInitMapBlocks?this.requestComplete=!0:j($e,this).then(function(t){e.coll_data=t,e._start()})}}else this.config&&this.config.enableLazy&&this.container&&this.container._node&&this.container._node.LazySummariesData&&this.container._node.LazySummariesData.existedItems&&this.container._node.LazySummariesData.__current&&(this.coll_data=this.container._node.LazySummariesData.ajaxData,this.addVirtualItems(this.container._node.LazySummariesData.__current,this.container._node.LazySummariesData.ajaxData,this.container._node.LazySummariesData.ajaxData)),this.requestComplete=!0,e.container.addClass("cf-request-finished");else{var Ke=this.target.settings.getData,ti=function(t){try{if(t){if("object"==typeof t)e.coll_data=t,e.coll_data.concat&&(e.coll_data={items:e.coll_data}),e._start();else if("string"==typeof t){var i=t,a=function(t){if(t)try{0==t.indexOf("LZString")?e.coll_data=JSON.parse(mt.decompressFromEncodedURIComponent(t.slice(8))):e.coll_data=JSON.parse(t),e.coll_data.concat&&(e.coll_data={items:e.coll_data}),e._start()}catch(t){console.warn("error : "+t),e._start()}else e._start()};if(i&&i.indexOf('id="collectionsIndex"')>-1){if(i.indexOf('<textarea id="collectionsIndex" class="hidden" style="display:none">')>-1)i=i.split('<textarea id="collectionsIndex" class="hidden" style="display:none">')[1].split("</textarea>")[0];else{var r=document.createElement("div");r.innerHTML=i;var s=r.querySelector("#collectionsIndex");i=s.value||s.querySelector(".sqs-block-content")&&s.querySelector(".sqs-block-content").innerText||""}a(i)}else a(i)}console.log("Runned getData")}else console.log("Empty data to from getData function")}catch(t){console.log(t)}};Ke.then?Ke.then(function(t){ti(t)}):ti(Ke())}var ei=this.customFiltersWrapper.one(".reset-last-sqs-block");if(ei&&this.customFilters.append(ei),Ht&&this._keepDropdownsOpenOnInit(Ht),this.items&&this.items.size()&&this.items.item(0)._node.style.width&&w(),this.container.fire("custom-filter-init",this.container),this.container.fire&&this.container.fire("custom-filter:filter-init",{customFilter:e}),Y.fire("custom-filter:filter-init",{customFilter:e}),this.moveTopSectionBlocks&&this.moveTopSectionBlocks(),this.container.removeClass("preFlex").removeClass("flexIn").removeClass("preScale").removeClass("inScale"),e.target.settings.hooks&&e.target.settings.hooks.afterInit)try{"function"==typeof e.target.settings.hooks.afterInit&&e.target.settings.hooks.afterInit(e)}catch(t){console.error(t)}}},_closeOptionsOnSelect:function(t){let e=this.target.settings.closeOptionsOnSelect,i=function(){t&&t.all(".archive-block-wrapper:not(.clicked):not(.closed-sub-options) .archive-dropdown-toggle-checkbox").set("checked",!1)};if(e.indexOf&&e.indexOf("px")>-1){let t=e.indexOf("<")>-1?"<":e.indexOf(">")>-1&&">";const a=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);try{const r=parseInt(e.replace(/\D/g,""));r?t&&"<"==t?a<=r&&i():a>=r&&i():console.log("No parsed width",r)}catch(t){console.log("No parsed width",t)}}else i()},_keepDropdownsOpenOnInit:function(t){var e=this;let i=function(){e.customFiltersWrapper.all(".archive-dropdown-toggle-checkbox").set("checked",!0)};if(t.indexOf&&t.indexOf("px")>-1){let e=t.indexOf("<")>-1?"<":t.indexOf(">")>-1&&">";const a=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);try{const r=parseInt(t.replace(/\D/g,""));r?e&&"<"==e?a<=r&&i():a>=r&&i():console.log("No parsed width",r)}catch(t){console.log(t)}}else i()},_checkExternalLinks:function(){var t=this;if(this.target.settings.externalFilterLinks&&this.target.settings.externalFilterLinks.enabled&&this.target.settings.externalFilterLinks.items){var e=this.target.settings.externalFilterLinks.container&&Y.one(this.target.settings.externalFilterLinks.container)?Y.one(this.target.settings.externalFilterLinks.container):Y.one("body");e&&e.addClass("external-cf-filter-links-container"),this.target.settings.externalFilterLinks.hideFilters?this.container.addClass("cf-hide-filter-panel"):this.container.removeClass("cf-hide-filter-panel"),this.externalClicksListener&&(this.externalClicksListener.detach(),this.externalClicksListener=null),this.externalFilterLinks=e.all(this.target.settings.externalFilterLinks.items),this.externalFilterLinks.size()&&this.externalFilterLinks.each(function(e){var i=e.get("pathname"),a=i.indexOf("/category/")>-1&&decodeURIComponent(i.split("/category/")[1].replace(/\+/g," "))||e.hasClass("category-link")&&e.getAttribute("href")&&e.getAttribute("href").replace(t.collectionUrl,""),r=i.indexOf("/tag/")>-1&&decodeURIComponent(i.split("/tag/")[1].replace(/\+/g," ")),s=e.get("search");if(s&&s.indexOf("=")>-1){s=s.substring(1);var o=[];try{var n=JSON.parse('{"'+s.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e.replace(/\+/g," "))});for(var l in n)n[l]&&o.push(decodeURIComponent(n[l]));e.setAttribute("data-slug-filter",x(o+"")),e.addClass("external-cf-filter-link")}catch(t){console.log("failed to parse external link: "+s,t)}}else(a||r)&&(e.setAttribute("data-slug-filter",x(a||r)),e.setAttribute("data-filter",a?"category":r?"tag":""),e.setAttribute("data-filter-val",x(a||r)),e.addClass("external-cf-filter-link"))}),this.externalClicksListener||(this.externalClicksListener=e.delegate("click",function(e){e.currentTarget.hasClass("external-cf-filter-link")&&(e.preventDefault(),e.stopImmediatePropagation()),t._extLinksClick(e.currentTarget)},this.target.settings.externalFilterLinks.items))}},_updateFilterData:function(t){},_buildVirtualItems:function(){var t=this,e=this.coll_data&&this.coll_data.items;e&&e.length&&(this.container.append('<div class="vitual-filter-grid custom-filter-grid"></div>'),this.itemsParent=this.container.one(".vitual-filter-grid"),e.forEach(function(e,i){var a=Y.Node.create('<div class="virtual-filter-item custom-filter-grid-item" data-id="'+(e.id||i)+'"></div>');a._node._virtualData=e,t.items.push(a)}))},_start:function(){var t=this;if(t.virtualFilter&&t._buildVirtualItems(),t.target.settings.hooks&&t.target.settings.hooks.onStart)try{"function"==typeof t.target.settings.hooks.onStart&&t.target.settings.hooks.onStart(t)}catch(t){console.error(t)}if(t.requestComplete=!0,t._addItemsAttributes(),t._buildDropdowns(),t._checkInitState(this.target.settings.waitForAjax),t.coll_data&&t.coll_data.collection&&t.coll_data.collection.typeName&&t.coll_data.collection.typeName.indexOf("product")>-1&&t.target.settings.sort&&t.target.settings.sort.enabled&&null==t.target.settings.sort.soldGoAfter&&(t.target.settings.sort.soldGoAfter=!0),t._sortGrid(),t.container.addClass("cf-request-finished"),t.target.settings.hooks&&t.target.settings.hooks.afterRequest)try{"function"==typeof t.target.settings.hooks.afterRequest&&t.target.settings.hooks.afterRequest(t)}catch(t){console.error(t)}this._doSidebarWidth()},_extLinksClick:function(t){var e=this,i=t.getAttribute("data-filter-val")||t.get("search")||!1,a=t.getAttribute("data-filter"),r=i&&0===i.indexOf("?")&&i.indexOf("=")>-1,s=[];if(console.log("target",t,i),i)if(r){if(i=i.substring(1),i&&i.indexOf("=")>-1)try{var o=JSON.parse('{"'+i.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e.replace(/\+/g," "))});for(var n in o)o[n]&&s.push(decodeURIComponent(o[n])+"|"+n)}catch(t){console.log(t)}}else i&&a&&s.push(i+"|"+a);if(e.target.settings.hooks&&e.target.settings.hooks.onExternalLinkClicked)try{"function"==typeof e.target.settings.hooks.onExternalLinkClicked&&e.target.settings.hooks.onExternalLinkClicked(e,t)}catch(t){console.error(t)}s.length&&s.forEach(function(t){t=t.split("|");var i=t[1]&&!e.target.settings.externalFilterLinks.ignoreFilterName?'[data-filter="'+t[1]+'"]':"[data-filter]",a=!!t[0]&&'[data-filter-val="'+x(t[0])+'"]';if(a){var r=e.customFiltersWrapper.all(".archive-group-name-link"+i+a);if(r.size()){e.pagination_num=1,r.each(function(t){var i=t.ancestor("div[data-filter-type]"),a=i.getAttribute("data-filter");i&&a&&e.filtersClickFunctions[a]?e.filtersClickFunctions[a]({currentTarget:t}):t._node.click()});var s=document.querySelector(".burger--active");s&&setTimeout(function(){s.click()},300)}else console.log("Not found "+i+"---"+a)}})},_initDescriptionContainer:function(){if(this.optionsDescriptionContainer){this.optionsDescriptionContainer.addClass("cf-descr-activated");this.optionsDescriptionContainer.all("h3").each(function(t){var e=x(t._node.innerText),i=S(t._node,"h3"),a=Y.Node.create('<div class="cf-option-descr '+e+'"></div>');a&&i.length&&(a.prepend(i),t.insert(a,"after"))}),this.optionsDescriptionContainer.addClass("cf-descr-initialized").removeClass("hidden")}},_showOptionsDescriptions:function(){for(var t in this.optionsDescriptionContainer.all(".cf-option-descr").removeClass("active"),this.currentFilterValues)if(this.currentFilterValues.hasOwnProperty(t)&&0!==t.indexOf("__")&&this.currentFilterValues[t].sel){var e=this.optionsDescriptionContainer.one(this.currentFilterValues[t].sel);e&&e.addClass("active")}},_initFilterPosition:function(){var t=this.target.settings.position||"top",e=this.target.settings.align||"center";this.positionClasses="custom-filter-position-"+t+" custom-filter-align-"+e,this.container.addClass("custom-filter-position-"+t).addClass("custom-filter-align-"+e).addClass("clear clearfix")},_buildFilterSelectors:function(){var t=this;t.needRunFilterFunctions=!1,t.filter_selectors="";var e=[],i={};for(var a in t.filterParams)if(t.filterParams.hasOwnProperty(a)&&t.filterParams[a]&&t.filterParams[a].length){var r="",s=(t.filterParams[a].length,t.getFilterAttrObj[a].ignoreFilter),o=t.getFilterAttrObj[a].optimizeSubcategoriesLogic;s||(t.filterParams[a].forEach(function(e,i){var a=!!e.parentCategory&&e.nestedSel,s=e.multipleLogic;if(e.optionLevel=e.parentCategory?e.optionLevel-1:e.optionLevel,e.optionLevel&&e.optionLevel>1&&e.nestedSel&&o?e.multipleLogic="and":e.multipleLogic=s,r=e.multipleLogic&&"or"===e.multipleLogic?(r&&e.optionLevel<2?r+e.nestedSel+",":r+e.nestedSel)+e.selectors:r+e.selectors,e.filterFunction&&"function"==typeof e.filterFunction&&(r="*-*",t.needRunFilterFunctions=!0),a){var n=new RegExp(a,"gi");r=r.replace(n,"")}}),i[a]={selectors:r,logic:t.filterParams[a][0].logic})}if(this.container._node&&this.container._node.__childFilters&&this.container._node.__childFilters.length)for(var n=this.container._node.__childFilters,l=n.length-1;l>=0;l--)t._checkChildFilterForOptions(n[l]);for(var a in i)if(i.hasOwnProperty(a)&&i[a]&&i[a].logic){var c=i[a];r=c.selectors;var d=!(!t.filter_selectors||!t.filter_selectors.length)&&t.filter_selectors.split(","),g=[];d?"and"===c.logic?(d.forEach(function(t){t&&r.split(",").forEach(function(e){e&&"*-*"!==e?g.push(t+e):"*-*"==e&&g.push(t)})}),t.filter_selectors=g.join()):t.filter_selectors+=","+r:t.filter_selectors=r}return t.filter_selectors=t.filter_selectors.replace(/,+/g,","),Y.fire&&Y.fire("custom-filter:currentFilters",{customFilter:t,currentFilters:e}),t.filter_selectors&&t.filter_selectors.length&&","===t.filter_selectors[t.filter_selectors.length-1]&&(t.filter_selectors=t.filter_selectors.substring(0,t.filter_selectors.length-1)),t.filter_selectors},_sortNodes:function(t){var e=this,i=!1,a=!1,r=!1,s=!1,o=!1,n=!1,l=e.sortObj[e.sort_param]||e.sortObj.index,c=!1;if(!l)return t;"function"!=typeof l?(i=l.indexOf("parseInt")>-1,n="featured"==l,a=l.indexOf("parseFloat")>-1,r=l.indexOf("parseDate")>-1,o=l.indexOf("getAttr")>-1,s=l.indexOf("]")>-1):c=!0,i&&(l=l.split("parseInt")[0]),a&&(l=l.split("parseFloat")[0]),r&&(l=l.split("parseDate")[0]),o&&(l=l.split("getAttr")[0]);var d=e.sort_param.indexOf("desc")>-1,g=[];e.sort_param.indexOf("price_")>-1&&!i&&!a&&(a=!0);t._nodes.slice(0);var u=attrSelector=!1;c||(u=l.trim(),attrSelector=(o||s)&&l.replace(/\w\[(.*?)\]/g,"$1").trim(),l=l.replace(/ /g,"").replace(/\[/g,"").replace(/\]/g,"").trim());var p=0;if(t._nodes.sort(function(t,m){var h="";if(p++,e.sort_param in e.sortObj)if(c)t=e.sortObj[e.sort_param](t,t._item_data,e.sort_param),m=e.sortObj[e.sort_param](m,m._item_data,e.sort_param),h=isNaN(t)||isNaN(m)?t<m?-1:t>m?1:-1:t-m;else if(l){"data-publish-on"===l&&t.dataset.startDate&&m.dataset.startDate&&(l="data-start-date",attrSelector=u="[data-start-date]");var f=t._item_data&&l.indexOf(".")>0?b(l,t._item_data):t._item_data&&t._item_data[l],v=m._item_data&&l.indexOf(".")>0?b(l,m._item_data):m._item_data&&m._item_data[l];if(n){var y=t._item_data&&t._item_data.starred||t.classList&&t.classList.contains("featured")?2:0,w=m._item_data&&m._item_data.starred||m.classList&&m.classList.contains("featured")?2:0;h=y-w}else(f&&v||(s||o)&&m.querySelector(u)&&t.querySelector(u)||!s&&t.querySelector(l)&&m.querySelector(l)||s&&t.getAttribute(l)&&m.getAttribute(l)||m.querySelector(u)&&t.querySelector(u))&&(f&&v?(t=(f+"").trim(),m=(v+"").trim()):s&&m.getAttribute(l)&&t.getAttribute(l)?(t=t.getAttribute(l).toLowerCase().replace(/ /g,""),m=m.getAttribute(l).toLowerCase().replace(/ /g,"")):s&&m.querySelector(u)&&t.querySelector(u)?(t=t.querySelector(u).getAttribute(attrSelector)&&t.querySelector(u).getAttribute(attrSelector).toLowerCase().replace(/\r?\n|\r/g,"").replace(/ /g,""),m=m.querySelector(u).getAttribute(attrSelector)&&m.querySelector(u).getAttribute(attrSelector).toLowerCase().replace(/\r?\n|\r/g,"").replace(/ /g,"")):m.querySelector(l)&&t.querySelector(l)?(t=t.querySelector(l).textContent.toLowerCase().replace(/\r?\n|\r/g,"").replace(/ /g,""),m=m.querySelector(l).textContent.toLowerCase().replace(/\r?\n|\r/g,"").replace(/ /g,"")):m.querySelector(u)&&t.querySelector(u)&&(t=t.querySelector(u).textContent.toLowerCase().replace(/\r?\n|\r/g,"").replace(/ /g,""),m=m.querySelector(u).textContent.toLowerCase().replace(/\r?\n|\r/g,"").replace(/ /g,"")),i?(t=parseInt((t+"").replace(/\D/g,""))||0,m=parseInt((m+"").replace(/\D/g,""))||0,h=t-m):a?(t=parseFloat((t+"").replace(/[^\d.-]/g,"")),m=parseFloat((m+"").replace(/[^\d.-]/g,"")),h=t-m):r?(t=new Date(t).getTime(),m=new Date(m).getTime(),isNaN(t)&&(t=1),isNaN(m)&&(m=1),h=t-m):h=C(t,m))}return 0===h&&t&&(t._node||t.nodeName)&&(h=d?parseInt(m.getAttribute("data-index"))-parseInt(t.getAttribute("data-index")):parseInt(t.getAttribute("data-index"))-parseInt(m.getAttribute("data-index"))),0===h&&g.push(h),h}),g.length,t._nodes.length,d&&t._nodes.reverse(),e.target.settings.sort&&e.target.settings.sort.soldGoAfter){p=t.size();t._nodes.forEach(function(t,e){var i=t.querySelector(".sold-out")||t.classList.contains("sold-out");t.dataset.tempSort=i?p+e:e}),t._nodes.sort(function(t,e){return parseInt(t.dataset.tempSort)-parseInt(e.dataset.tempSort)})}return e.target.settings.sort&&e.target.settings.sort.customFunction&&"function"==typeof e.target.settings.sort.customFunction&&(t=e.target.settings.sort.customFunction(t,e,d)||t),t},_updateFilterOptions:function(t){var e=this;this.target.settings.updateFilterOptions&&(this.target.settings.updateFilterOptions.enabled||this.target.settings.updateFilterOptions.showOptionsCounters)&&this.filtersDropdowns&&this.filtersDropdowns.size()&&this.filtersDropdowns.each(function(t){var i=t.all(".archive-group-name-link"),a=t.getAttribute("data-ignore-non-exist-options");i.each(function(t){var i=t.getAttribute("data-filter")+"-"+t.getAttribute("data-filter-val");if(e.filterSelectors[i]){var r=e.filterSelectors[i];if(r){var s=r.length;if(s?t.removeClass("not-in-filter-view"):t.addClass("not-in-filter-view"),t.getAttribute("data-items-count")&&!s&&a)return;if(!t.hasAttribute("data-items-count")||t.getAttribute("data-items-count")!=s){var o=e.target.settings.updateFilterOptions.optionsCounterWrap,n=o?o.slice(0,-1)+s+o.slice(-1):s;t.setAttribute("data-items-count",n),t.setAttribute("data-count",s)}}}})})},_checkChildOptionsToHide:function(t,e,i,a,r){if(!i.hasClass("filter-hidden")){var s=this,o=i.getAttribute("data-filter").trim();i.all(".archive-group-name-link[data-filter]").each(function(i){var r=i.getAttribute("data-filter-val").trim(),n=s.itemsParent.one(e+"."+o+"-"+r);n?(i.get("parentNode").show().removeClass("hidden-by-parent"),a&&i.get("parentNode").addClass("showed-by-parent"),t.checkedChildren[o].push(r)):(a?!i.get("parentNode").hasClass("showed-by-parent")&&i.get("parentNode").hide().addClass("hidden-by-parent"):i.get("parentNode").hide().addClass("hidden-by-parent"),t.checkedChildren[o]&&t.checkedChildren[o].indexOf(r)>-1&&t.checkedChildren[o].splice(t.checkedChildren[o].indexOf(r),1))})}},_addMarkersInstancesToItems:function(){var t=this,e=this.target.settings.advancedMap;if(e&&e.advancedMapContainer&&(this.advancedMap=Y.one(e.advancedMapContainer+" .custom-map-block"),this.advancedMap&&this.advancedMap._node&&this.advancedMap._node._markersObj&&(this.container.addClass("cf-map-found"),e.activateItemOnMarkerClick&&(t.advancedMap._node._activatingFilterItems=!0),this.items.each(function(e){var i=!(!e._node._item_data||!e._node._item_data.id)&&e._node._item_data.id;i&&t.advancedMap._node._markersObj&&t.advancedMap._node._markersObj["marker-"+i]&&(t.advancedMap._node._markersObj["marker-"+i].outsideItem&&!t.advancedMap._node._markersObj["marker-"+i].outsideItemFromFilter&&(t.advancedMap._node._markersObj["marker-"+i].origOutsideItem=t.advancedMap._node._markersObj["marker-"+i].outsideItem),t.advancedMap._node._markersObj["marker-"+i].outsideItem=e,t.advancedMap._node._markersObj["marker-"+i].outsideItemFromFilter=!0,e._markerInst=t.advancedMap._node._markersObj["marker-"+i],e._node._markerInst=t.advancedMap._node._markersObj["marker-"+i])}),e.activateMarkerInfoOnItemClick&&Y.SQS.Gallery.Manager&&!this.container.one(".custom-filter-grid").hasClass("outside-container"))))try{Y.SQS.Gallery.Manager.unlightboxify(this.items)}catch(t){console.log(t)}},_filterAdvancedMapMarkers:function(){var t=this,e=null,i=30,a=this.target.settings.advancedMap;window.google&&window.google.maps&&(a.updateMapBound||a.followMapBounds&&t.needBoundsChange)&&(e=new google.maps.LatLngBounds);var r=!1,s=[],o=function(t){t.hasClass("element-showed")&&t._markerInst?(t._markerInst.getVisible()||t._markerInst.setVisible(!0),e&&(e.extend(t._markerInst.getPosition()),r=!0),s.push(t._markerInst)):(t.hasClass("element-hidden")||t._node.style.display.indexOf("none")>-1||0==t.width()||0==t.height())&&t._markerInst&&t._markerInst.getVisible()&&t._markerInst.setVisible(!1)};if(this.advancedMap&&this.advancedMap._node&&this.advancedMap._node._markersObj){for(var n in t.advancedMap._node._markersObj)if(t.advancedMap._node._markersObj.hasOwnProperty(n)){var l=t.advancedMap._node._markersObj[n],c=l.outsideItem;c?o(c):t.filter_selectors?l.setVisible(!1):l.setVisible(!0)}}else this.items.each(function(t,e){t._markerInst&&o(t)});this.advancedMap&&this.advancedMap._node&&this.advancedMap._node._markerCluster&&(this.advancedMap._node._markerCluster.clearMarkers(),this.advancedMap._node._markerCluster.addMarkers(s)),e&&r&&this.advancedMap&&this.advancedMap._node&&(this.advancedMap._node.__map||this.advancedMap._node.radiusCircle)&&(this.advancedMap._node.radiusCircle&&(e=this.advancedMap._node.radiusCircle.getBounds(),i=2),this.advancedMap._node._mapBound=e,t.needBoundsChange=!0,t.advancedMap._node.__map.fitBounds(e,i),t.advancedMap._node.__map.panToBounds(e))},_sortGrid:function(t){var e=this;if(e.target.settings.timelog&&console.time("Sort Grid PROCESS"),e.target.settings.timelog&&console.time("Sort Grid:beforeFilter"),e.currentFilterValues={},e.container.addClass("cf-sorting-grid-running"),e.target.settings.hooks&&e.target.settings.hooks.beforeFilter)try{"function"==typeof e.target.settings.hooks.beforeFilter&&e.target.settings.hooks.beforeFilter(e)}catch(t){console.error(t)}if((e.itemsParent&&e.itemsParent.hasClass("sqs-gallery")||e.itemsParent&&e.itemsParent.getData("gallery"))&&(e.gallery=e.itemsParent.getData("gallery"),e.autocolumns_there&&e.gallery&&!e.container.hasClass("performance-mode-used")&&e.gallery.refresh()),this.advancedMap&&this.items.size()&&!this.items.item(this.items.size()-1)._markerInst&&this._addItemsAttributes(),this.prev_selectors||(this.prev_selectors={}),e.target.settings.timelog&&console.time("Sort Grid:runFilter dropdowns"),this.filtersDropdowns&&this.filtersDropdowns.size()){var i=e.outsideOptionsNav&&new Y.NodeList;this.filtersDropdowns.each(function(t){var a=!!t.getAttribute("data-strict")&&"true"===t.getAttribute("data-strict"),r=!!t.getAttribute("data-multiple")&&"true"===t.getAttribute("data-multiple"),s=t.getAttribute("data-multiple-logic")||"or",o=t.getAttribute("data-logic")||"or",n=t.getAttribute("data-filter").trim(),l="true"==t.getAttribute("data-ignore-filter");e.filterParams[n]=[];var c=t.one(".archive-dropdown-toggle-title")||t.one(".filter-block-label"),d=t.one(".archive-dropdown-toggle-title .filterValues"),g=t.one(".outsideFilterValues"),u=(!!t.getAttribute("data-children")&&t.getAttribute("data-children").split(","),!!t.getAttribute("data-check-children")&&t.getAttribute("data-check-children"),"false"!==t.getAttribute("data-defined")&&t.getAttribute("data-defined"));(!e.searchResetsAll||e.searchResetsAll&&!e.searchContainer.hasClass("dirty"))&&(u&&!t.one(".active")&&t.one('[data-filter-val="'+u+'"]')?t.one('.archive-group-name-link[data-filter-val="'+u+'"]')&&t.one('.archive-group-name-link[data-filter-val="'+u+'"]').addClass("active"):u&&"true"==u&&!t.one(".active")&&t.one('[data-filter-val="all"]')?t.one('.archive-group-name-link[data-filter-val="all"]')&&t.one('.archive-group-name-link[data-filter-val="all"]').addClass("active"):u&&"true"==u&&!t.one(".active")&&t.one(".archive-group-name-link")&&t.one(".archive-group-name-link").addClass("active"));t.all(".archive-group-name-link[data-filter]");if(t.hasClass("filter-type-range-slider")||t.hasClass("filter-type-range-inputs"))t.hasClass("filter-type-range-slider")||t.hasClass("filter-type-range-inputs");else if(t.one(".archive-group-name-link.active")||t.one(".custom-search-input.active")){var p="";if(!t.hasClass("filter-hidden")){var m=t.all(".archive-group:not(.hidden-by-parent) .archive-group-name-link.active, .custom-search-input.active");m.each(function(t,c){if(i){var d=t.get("parentNode").cloneNode(!0);d&&(d.one(".nested-options")&&d.one(".nested-options").remove(),d.append('<span class="reset-button icn-cancel"></span>'),i.push(d))}var g=t.getAttribute("data-filter-val").trim(),u=(t.get("textContent")||t.get("innerText")).replace(/\r?\n|\r/g,"").trim()||t.hasClass("custom-search-input")&&g;if(!e.currentFilterValues["__"+n+"-values"]||e.currentFilterValues["__"+n+"-values"]&&-1==e.currentFilterValues["__"+n+"-values"].indexOf(u)){p+='<span class="filter-value">'+(t.one(".color-swatch_name")?t.one(".color-swatch_name").get("innerHTML"):t.get("innerHTML"))+"</span>",m.size()>1&&c<m.size()-1&&(p+='<span class="divider">, </span>');var h=t.getAttribute("data-parent-cat"),f=t.getAttribute("data-option-level")||1;f=parseInt(f);var v={};v.ignoreFilter=e.getFilterAttrObj&&e.getFilterAttrObj[n].ignoreFilter||!1,v.value=g,v.attr=e.getFilterAttrObj?e.getFilterAttrObj[n].attr:"",v.filterFunction=!!e.getFilterAttrObj&&e.getFilterAttrObj[n].filterFunction,v.textValue=u,v.param=n,v.multiple=r,v.multipleLogic=s,v.logic=o,v.nested=h,v.nestedSel=h?"."+n+"-"+x(h):"",v.optionLevel=f,v.parentCategory=e.getFilterAttrObj[n].parentCategory,v.ignoreFilter=l;var b=a?"."+n+"-"+g:'[class*="'+n+"-"+g+'"]';v.sel=b,v.selectors=b,e.filterParams[n].push(v),e.currentFilterValues[n]=v,e.currentFilterValues["__"+n+"-values"]||(e.currentFilterValues["__"+n+"-values"]=[]),e.currentFilterValues["__"+n+"-values"].push(u)}}),p&&p.length&&'<span class="divider">, </span>'==p.slice(-31)&&(p=p.slice(0,-31)),d&&d.set("innerHTML",p),g&&g.set("innerHTML",p),c&&c.addClass("dirty"),t.addClass("dirty")}}else d&&d.set("innerHTML",""),g&&g.set("innerHTML",""),c&&c.removeClass("dirty"),t.removeClass("dirty")}),i&&(e.outsideOptionsNav.empty(),e.outsideOptionsNav.append(i))}if(e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid:runFilter dropdowns"),e.target.settings.timelog&&console.time("Sort Grid:runSorters"),this.sortContainer){var a=this.sortContainer.one(".archive-dropdown-toggle-title"),s=this.sortContainer.one(".archive-dropdown-toggle-title .sortValues"),o=this.sortContainer.getAttribute("data-defined");!this.sortContainer.one(".active")&&o&&this.sortContainer.one('[data-sort="'+o+'"]')&&this.sortContainer.one('[data-sort="'+o+'"]').addClass("active");var n=this.sortContainer.one(".active");n?(s&&s.set("innerHTML",e.sortContainer.one(".active").get("innerHTML")),a&&a.addClass("dirty")&&this.sortContainer.addClass("dirty"),e.sort_param=n.getAttribute("data-sort")||"",ut&&console.log(n.getAttribute("data-sort"))):(s&&s.set("innerHTML",""),a&&a.removeClass("dirty")&&this.sortContainer.removeClass("dirty"),e.sort_param=e.sort_defined||"index")}if(e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid:runSorters"),e.target.settings.hooks&&e.target.settings.hooks.beforeSort)try{"function"==typeof e.target.settings.hooks.beforeSort&&e.target.settings.hooks.beforeSort(e)}catch(t){console.error(t)}if(e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid:beforeFilter"),this.target.settings.waitForAjax&&!this.requestComplete)return console.log("Filter is waiting for requestComplete"),e.isotope&&e.isotope.layout(),void(e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid PROCESS"));if(e.first_sort_run=!0,this.customFiltersWrapper.one(".filterDropdown.dirty")||this.topSection&&this.topSection.one(".filterDropdown.dirty")?(this.customFiltersWrapper.addClass("dropdowns-dirty"),this.container.addClass("filter-dropdowns-dirty"),this.placedContainer&&this.placedContainer.addClass("filter-dropdowns-dirty")):(this.customFiltersWrapper.removeClass("dropdowns-dirty"),this.container.removeClass("filter-dropdowns-dirty"),this.placedContainer&&this.placedContainer.removeClass("filter-dropdowns-dirty")),this.customFiltersWrapper.one(".sortDropdown.dirty")||this.topSection&&this.topSection.one(".sortDropdown.dirty")?(this.customFiltersWrapper.addClass("dropdowns-dirty"),this.container.addClass("filter-sort-dirty"),this.placedContainer&&this.placedContainer.addClass("filter-sort-dirty")):(!this.container.hasClass("filter-dropdowns-dirty")&&this.customFiltersWrapper.removeClass("dropdowns-dirty"),this.container.removeClass("filter-sort-dirty"),this.placedContainer&&this.placedContainer.removeClass("filter-sort-dirty")),this.searchRegex?(this.customFiltersWrapper.addClass("search-dirty"),this.container.addClass("filter-search-dirty"),this.placedContainer&&this.placedContainer.addClass("filter-search-dirty")):(this.customFiltersWrapper.removeClass("search-dirty"),this.container.removeClass("filter-search-dirty"),this.placedContainer&&this.placedContainer.removeClass("filter-search-dirty")),this.parentFilter||this._buildFilterSelectors(),this.container.setAttribute("data-filter-selectors",this.filter_selectors).setAttribute("data-filter-sorters",this.sort_param),e.filter_selectors||e.searchRegex||!e.target.settings.noResultOnStart||e.mapPlaceFound?(this.container.removeClass("no-result-items-on-start"),".no-result-items-on-start"==e.filter_selectors&&(e.filter_selectors="")):(e.filter_selectors=".no-result-items-on-start",this.container.setAttribute("data-filter-selectors",".no-result-items-on-start").addClass("no-result-items-on-start")),this.placedContainer&&this.placedContainer.setAttribute("data-filter-selectors",this.filter_selectors).setAttribute("data-filter-sorters",this.sort_param),this.itemsParent,this.target.settings.mobilePanel&&this.target.settings.mobilePanel.enabled&&this.target.settings.mobilePanel.closeOnSelect&&(!this.target.settings.mobilePanel.closeOnSearch&&this.searchContainer&&this.searchContainer.hasClass("searching")||(this.filterLastClicked&&!this.filterLastClicked.get("parentNode").getAttribute("data-nested-count")||!this.filterLastClicked)&&(this.container.removeClass("mobile-panel-open"),e.placedContainer&&e.placedContainer.removeClass("mobile-panel-open"),Y.one("body").setStyles({marginRight:"auto",overflow:"auto"}),window.setTimeout(function(){Y.one("body").removeClass("filter-scroll-lock")},320))),this.searchContainer&&this.searchContainer.removeClass("searching"),e.virtual_list&&e.virtual_list.size()&&(e.items&&e.items.size()!==e.virtual_list.size()?e.virtual_active=!0:e.virtual_active=!1),e.target.settings.timelog&&console.time("Sort Grid:Items Run"),e.filterSelectors)for(var l in e.filterSelectors)e.filterSelectors[l]=[];if(!e.sqs_query_factor||!e.sqs_query_not_found||e.filter_selectors||e.sort_param&&"index"!=e.sort_param||e.searchRegex){if(e.filter_selectors&&(e.sqs_query_not_found=!1),e.target.settings.hooks&&e.target.settings.hooks.beforeUpdate)try{"function"==typeof e.target.settings.hooks.beforeUpdate&&e.target.settings.hooks.beforeUpdate(e)}catch(t){console.error(t)}if(e.items&&e.items.size()){e.target.settings.timelog&&console.time("Sort Grid:Items Run EACH");var c=e.items.item(0)&&e.items.item(0).hasClass("summary-item");e.filtered=new Y.NodeList,e.hidden=new Y.NodeList;var d=e.target.settings.search.customSearchFunc,g=!!e.filter_selectors&&e.filter_selectors.trim().replace(/\*-\*/g,"").replace(/ /g,",");if(e.items.each(function(t){if(c&&t.addClass("positioned"),!e.target.settings.simpleFilter.respectSSAnimations){var i=t.all(".preClip,.preFade,.preScale,.preSlide,.preFlex");i.size()&&i.each(function(t){t._node.className=t._node.className.replace(/preClip|preFade|preScale|preSlide|preFlex/g,"")})}var a=e.target.settings.colorSwatches;if(a&&a.enabled&&!t.noColors){var r=a.tooltips&&a.tooltips.enabled,s=!!a.showColorNames;if(!t.colorsAdded){var o=t._node._item_data,n=[],l=!1,u=a.getAttr,p=a.allowedPrefSuf,m=a.allowedOptions||[],h=!1;if(u&&(u+"").indexOf("variant|")>-1&&(h=u.split("|")[1]),a.getAttr&&"string"==typeof a.getAttr)if(n=[],a.getAttr.indexOf("--split-delim=")>-1&&(l=a.getAttr.split("--split-delim=")[1],u=a.getAttr.split("--split-delim=")[0]),h)n=o&&o.variantOptions&&o.variantOptions[h];else{u=u.split("|");var f=u[0],v=f.indexOf(".")>0?b(f,o):o[f];"string"==typeof v&&l&&(v=v.split(l)),v?"object"!=typeof v&&(v=[v]):v=[];for(var y=v.length,w=0;w<y;w++){v[w]=(v[w]+"").trim();var _=!0;if(p&&p.length&&v[w])if((v[w]+"").indexOf(p)>-1){var C=new RegExp(p,"gi");v[w]=v[w].replace(C,"").trim(),_=!0}else _=!1;v[w]&&_&&(m&&m.length&&m.indexOf(v[w])>-1||!m.length)&&n.push(v[w])}}else a.getAttr&&"function"==typeof a.getAttr&&(n=a.getAttr(t,o)||n);if(n&&n.length){var S=o.fullUrl;t.append('<ul class="color-swatches-footer"></ul>');var x=t.one(".color-swatches-footer");s&&x.addClass("show-color-names"),r&&x.addClass("show-color-tooltips"),n.forEach(function(t){var i=r?'<span class="color-swatch_tooltip" data-color="'+t+'"></span>':"",s="";if(a.backgrounds[t]){var o=a.backgrounds[t]+"".trim();o.indexOf("http")>-1&&(o="url("+o+")"),s='style="background:'+o+'"'}else s='style="background-color:'+t+'"';x.append('<li class="color-swatch-item"><a href="'+S+"#color="+encodeURIComponent(t)+'" class="color-swatch color-'+e.slugify(t)+'" aria-label="'+t+'"><span class="color-swatch_thumb" '+s+'></span><span class="color-swatch_name">'+t+"</span>"+i+"</a></li>")}),t.colorsAdded=!0}}}e.filterSelectors&&e.target.settings.updateFilterOptions&&!e.target.settings.updateFilterOptions.enabled&&e.target.settings.updateFilterOptions.showOptionsCounters&&(t._node.classList&&t._node.classList.forEach?t._node.classList.forEach(function(t){e.filterSelectors[t]&&e.filterSelectors[t].push(1)}):t._node.className.split(" ").forEach(function(t){e.filterSelectors[t]&&e.filterSelectors[t].push(1)}));var k=e.searchRegex&&!d?e.searchFunction(t).match(e.searchRegex):!e.searchRegex||!d||"function"!=typeof d||d(!1,t);k&&e.target.settings.search.highlightSearch&&e._highlightSearch(t);var F=!g||t._node.f_matches(g);if(e.needRunFilterFunctions&&F)for(var O in e.currentFilterValues)e.currentFilterValues.hasOwnProperty(O)&&e.currentFilterValues[O].filterFunction&&(F=e.currentFilterValues[O].filterFunction(t,O,e.getFilterAttrObj[O]&&"input"==e.getFilterAttrObj[O].type?e.currentFilterValues[O].value:e.currentFilterValues["__"+O+"-values"],F,e));e.target.settings.advancedMap&&e.advancedMap&&e.target.settings.advancedMap.followMapBounds&&k&&F&&e.firstMapBoundRun&&(F="true"==t.getAttribute("data-in-bounds"));var A=[];e.rangesSliders&&F&&e.rangesSliders.forEach(function(e){A.push(e.filterFunction(t))}),A.indexOf(!1)>-1&&(F=!1);var P=[];e.rangesInputs&&F&&e.rangesInputs.forEach(function(e){P.push(e.filterFunction(t))}),P.indexOf(!1)>-1&&(F=!1),k&&F?(t.hasClass("element-hidden")&&t.removeClass("element-hidden"),t.addClass("element-showed").removeClass("marker-activated"),!t.hasClass("blog-item")&&!t.hasClass("post-type-store-item")||t.hasClass("is-loaded")||t.addClass("is-loaded"),e.filtered.push(t),e.filterSelectors&&e.target.settings.updateFilterOptions&&e.target.settings.updateFilterOptions.enabled&&(t._node.classList&&t._node.classList.forEach?t._node.classList.forEach(function(t){e.filterSelectors[t]&&e.filterSelectors[t].push(1)}):t._node.className.split(" ").forEach(function(t){e.filterSelectors[t]&&e.filterSelectors[t].push(1)}))):(t.hasClass("element-hidden")||t.addClass("element-hidden"),t.removeClass("element-showed").removeClass("marker-activated"),e.hidden.push(t))}),e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid:Items Run EACH"),e.target.settings.timelog&&console.time("Sort Grid:Sort Nodes"),e.target.settings.filter.followCategoriesSorting&&e.categoriesSorting&&"object"==typeof e.categoriesSorting&&e.filter_selectors&&e.currentFilterValues&&(!e.sortContainer||e.sortContainer&&!e.sortContainer.hasClass("dirty"))){var u=[];for(var l in e.currentFilterValues)l&&e.currentFilterValues.hasOwnProperty(l)&&-1==l.indexOf("__")&&e.currentFilterValues[l]&&e.currentFilterValues[l].attr&&"categories"==e.currentFilterValues[l].attr&&e.currentFilterValues["__"+l+"-values"]&&(u=u.concat(e.currentFilterValues["__"+l+"-values"]));e.categoriesSortArray=[],u.length&&(e.sort_param="categories_sort",u.forEach(function(t){e.categoriesSorting[t]&&(e.categoriesSortArray=e.categoriesSortArray.concat(e.categoriesSorting[t]))}),e.categoriesSortArray.length&&(e.categoriesSortArray=r(e.categoriesSortArray)))}if(e.sort_param&&(e.filtered=e._sortNodes(e.filtered)),e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid:Sort Nodes"),e.filtered.size()&&this.prev_selectors.filter_selectors==e.filter_selectors&&this.prev_selectors.searchRegex==e.searchRegex||e.pagination&&(e.pagination.remove(),e.pagination=null,e.pagination_num=1,e.pag_num_query=e.pagination_num),e._updateFilterOptions(e.filtered),e.target.settings.filter&&e.target.settings.filter.enabled&&e.target.settings.filter.waitAllDropdownsSelected){var p=this.filtersDropdowns&&this.filtersDropdowns.size(),m=this.filtersDropdowns&&this.filtersDropdowns.filter(function(t,e){return t.classList.contains("dirty")}).size();m<p?(e.itemsParent&&e.itemsParent.addClass("cf-wait-all-dropdowns-selected"),e.prevDirtyFiltersNumber):e.itemsParent&&e.itemsParent.removeClass("cf-wait-all-dropdowns-selected"),e.prevDirtyFiltersNumber=m}if(e.target.settings.timelog&&console.time("Sort Grid:Build Pagination"),!e.isotope&&!e.mixitup){if(e.container._node.__childFilters&&e.container._node.__childFilters.length||(e.itemsCount&&e.itemsCount.one(".items-count").set("textContent",e.filtered.size()),e.virtualGoButton&&e.virtualGoButton.setAttribute("data-items",e.filtered.size())),e.target.settings.hooks&&e.target.settings.hooks.onItemsCount)try{"function"==typeof e.target.settings.hooks.onItemsCount&&e.target.settings.hooks.onItemsCount(e,e.filtered.size())}catch(t){console.error(t)}e.filtered=e._buildPagination(e.filtered)}e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid:Build Pagination")}else e.pagination&&(e.pagination.remove(),e.pagination=null,e.pagination_num=1);if(this.prev_selectors={filter_selectors:e.filter_selectors,searchRegex:e.searchRegex},e.confirmButton&&!e.confirmButton.getAttribute("data-ignore")&&!e.confirmButton.getAttribute("data-clicked")&&e.requestComplete&&(e.filter_selectors||"index"!==e.sort_param))return!1;if(this.virtualGoButton&&this._pushGoButtonState(),this.requestComplete&&(this.blockPushState=!1),this.target.settings.useHistory&&!this.blockPushState&&this.requestComplete&&this._pushHistoryState(!0),e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid:Items Run"),e.filtered&&e.filtered.size()?(this.customFiltersWrapper.addClass("has-results").removeClass("no-results"),this.container.addClass("filter-has-results").removeClass("filter-has-no-results"),this.placedContainer&&this.placedContainer.addClass("filter-has-results").removeClass("filter-has-no-results")):(this.customFiltersWrapper.removeClass("has-results").addClass("no-results"),this.container.removeClass("filter-has-results").addClass("filter-has-no-results"),this.placedContainer&&this.placedContainer.removeClass("filter-has-results").addClass("filter-has-no-results")),this.target.settings.noResultMessage&&this.noResultWrapper,this.container.fire&&this.container.fire("custom-filter:sort-grid",{customFilter:e}),Y.fire("custom-filter:sort-grid",{customFilter:e}),this.parentFilter&&this.parentFilter.CustomFilter&&this.parentFilter.CustomFilter.debounce_after_all_child_sorts&&this.parentFilter.CustomFilter.debounce_after_all_child_sorts(),this._sortChildFilters(),this.optionsDescriptionContainer&&this._showOptionsDescriptions(),this.externalFilterLinks&&this.externalFilterLinks.size()&&(this.externalFilterLinks.removeClass("filter-activated"),e.customFiltersWrapper.all(".archive-group-name-link.active").each(function(t){var i=t.getAttribute("data-filter-val");e.externalFilterLinks.each(function(t){if(i&&0==t.getAttribute("data-slug-filter").indexOf(i)&&(t.addClass("filter-activated"),e.target.settings.hooks&&e.target.settings.hooks.onExternalLinkActivate))try{"function"==typeof e.target.settings.hooks.onExternalLinkActivate&&e.target.settings.hooks.onExternalLinkActivate(e,t)}catch(t){console.error(t)}})})),e.target.settings.hooks&&e.target.settings.hooks.onFilter)try{"function"==typeof e.target.settings.hooks.onFilter&&e.target.settings.hooks.onFilter(e)}catch(t){console.error(t)}if(this.container.one(".active-marker-info")&&this.container.one(".active-marker-info").removeClass("active-marker-info"),e.filter_selectors,e.target.settings.timelog&&console.time("Sort Grid: RUN FILTERING"),e.isotope)e.container.removeClass("cf-sorting-grid-running"),e.filterAnim?e.isotope.options.transitionDuration=e.isotope.options.origTransitionDuration:e.isotope.options.transitionDuration=0,e.isotope.arrange({sortBy:e.sort_param});else if(e.mixitup){e.container.removeClass("cf-sorting-grid-running");var h=e.filter_selectors||"all";e.mixitup.multimix({filter:h,sort:e.sort_param.replace("_",":")})}else e._simpleFilter(t);e.mapPlaceFound=!1,e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid: RUN FILTERING"),e.target.settings.timelog&&e.target.settings.timelog&&console.timeEnd("Sort Grid PROCESS"),e.confirmButton&&e.confirmButton.removeAttribute("data-clicked")}},_highlightSearch:function(t){var e=this;t=t._node||t,t.innerHTML=t.innerText.replace(new RegExp(e.searchValue+"(?!([^<]+)?<)","gi"),"<mark>$&</mark>")},_scrollToTop:function(){var t=this;try{if(!t.filter_selectors&&!t.searchRegex||t.target.settings.noScrollToResults||t.loadMoreButtonClicked)return;if(!t.filterLastClicked)return;var e=t.itemsParent&&t.itemsParent.getY()-250||t.container.getY()-300,i=window.pageYOffset||document.documentElement.scrollTop,a=.4;Math.abs(i-e)>100&&t.scrollEl.anim({},{to:{scroll:[0,e]},duration:a,easing:Y.Easing.easeBoth}).run().on("end",function(){console.log("Filter scrolled to results")})}catch(t){console.log(t)}},_pushGoButtonState:function(){var t=this,e="";for(var i in t.currentFilterValues)if(t.currentFilterValues.hasOwnProperty(i)&&i.indexOf("-values")>-1&&t.currentFilterValues[i]&&t.currentFilterValues[i].length){var a=i.split("-values")[0].replace("__","")+"="+encodeURIComponent(t.currentFilterValues[i]);e=e?e+"&"+a:"?"+a}t.rangesSliders&&t.rangesSliders.length&&t.rangesSliders[0].noUiSlider&&t.rangesSliders.forEach(function(t){var i=t.filterValue;if(i){var a=t.noUiSlider.get(),r=t.noUiSlider.options.range.min,s=t.noUiSlider.options.range.max;(t.noUiSlider.options.format.from(a[0])>r||t.noUiSlider.options.format.from(a[1])<s)&&(e=e?e+"&"+i+"="+a:"?"+i+"="+a)}}),this.sort_param&&"index"!==this.sort_param&&"categories_sort"!==this.sort_param&&-1==this.sort_param.indexOf("lzs_")&&(e=e?e+"&sort="+this.sort_param:"?sort="+this.sort_param);var r=t.virtualGoButton._node;r.search=e},_pushHistoryState:function(t){var e=this,i="",a="",r="",s=window.location.pathname;for(var o in e.currentFilterValues)if(e.currentFilterValues.hasOwnProperty(o)&&o.indexOf("-values")>-1&&e.currentFilterValues[o]&&e.currentFilterValues[o].length){var n=o.split("-values")[0].replace("__",""),l=encodeURIComponent(e.currentFilterValues[o]+""),c=n+"="+l;"category"==n&&(a="category/"+l),"tag"==n&&(r="tag/"+l),(a&&s.indexOf(a)>-1||r&&s.indexOf(r)>-1)&&(c=""),c&&(i=i?i+"&"+c:"?"+c)}e.rangesSliders&&e.rangesSliders.length&&e.rangesSliders[0].noUiSlider&&e.rangesSliders.forEach(function(t){var e=t.filterValue;if(e){var a=t.noUiSlider.get(),r=t.noUiSlider.options.range.min,s=t.noUiSlider.options.range.max;(t.noUiSlider.options.format.from(a[0])>r||t.noUiSlider.options.format.from(a[1])<s)&&(i=i?i+"&"+e+"="+a:"?"+e+"="+a)}});var d=e.pagination_num&&e.pagination_num>1?e.pagination_num:!!(e.pag_num_query&&e.pag_num_query>1)&&e.pag_num_query;if(d&&e.requestComplete&&(i=i?i+"&page_n="+d:"?page_n="+d),this.sort_param&&"index"!==this.sort_param&&"categories_sort"!==this.sort_param&&-1==this.sort_param.indexOf("lzs_")&&(i=i?i+"&sort="+this.sort_param:"?sort="+this.sort_param),window.history&&decodeURIComponent(window.location.search)!==i){if(!e.first_sort_run&&window.location.search&&!i||!e.first_sort_run&&!i&&window.location.search&&(window.location.search.indexOf("category=")>-1||window.location.search.indexOf("tag=")>-1))return;window.history.pushState({url:window.location.pathname,search:i,docTitle:document.title,position:{x:window.scrollX,y:window.scrollY}},document.title,window.location.pathname+i)}},reInitSiteBundle:function(t){var e=this,i=document.querySelector('script[src*="site-bundle"]');if(i){t&&t.removeAttribute("data-controllers-bound");var a=t.getAttribute("data-section-id")||t.ancestor("section")&&t.ancestor("section").getAttribute("data-section-id");this.sectionLightbox||(this.sectionLightbox=a&&Y.one('[data-lightbox-section-id="'+a+'"]')),this.sectionLightbox&&this.items.each(function(t){var i=t.one('a[class*="lightbox-link"]');i&&!i.hasAttribute("data-custom-click")&&i.on("click",function(t){var i=t.currentTarget.getAttribute("href").split("itemId=")[1];if(e.sectionLightbox){e.sectionLightbox.one(".gallery-lightbox")&&e.sectionLightbox.one(".gallery-lightbox").setAttribute("data-open",!0);var a=e.sectionLightbox.one('.gallery-lightbox-item[data-slide-url="'+i+'"]');a&&(e.sectionLightbox.all(".gallery-lightbox-item").removeAttribute("data-active"),a.setAttribute("data-active",!0).setAttribute("data-in",!0),a.one(".gallery-lightbox-item-img").setAttribute("data-loaded",!0),a.one("img")._node.style.display=null)}})});var r=document.createElement("script"),s=i.parentNode;r.src=i.getAttribute("src"),s.removeChild(i),r.onload=function(){},setTimeout(function(){s.appendChild(r)},10)}},reInitSSLayoutForNewItems:function(){var t=this;t&&t.items&&t.items.size()&&(t.items.each(function(t){if(t.hasClass("item-filter-loaded")&&!t.hasClass("item-layout-inited"))try{window.Squarespace.initializeVideo(window.Y,t),window.Squarespace.initializeImageBlockDynamicElements(window.Y,t),window.Squarespace.initializeNativeVideo(window.Y,{isVisitorWebsite:!0,parentElement:t}),window.Squarespace.initializeLayoutBlocks(Y,t),t.addClass("item-layout-inited")}catch(t){console.log("Can not init layout")}}),console.log("Re-init layout"))},_simpleFilter:function(t){var e=this;e.target.settings.timelog&&console.time("SimpleFilter: PROCESS");this.container.hasClass("custom-filter-init-state");var i=!1,a=0,r=0,s=function(t){if(!e.filter_selectors&&!e.searchRegex&&e.target.settings.noResultOnStart,e.itemsParent&&e.itemsParent._node.__masonry&&(e.itemsParent._node.__masonry.reloadItems(),e.itemsParent._node.__masonry.layout()),e.gallery)try{var i=e.gallery["gallery-design"];if(i){var a=e.itemsParent.get("children");if(i&&i.dimensions&&(i.dimensions=[]),i&&i.imageRegions&&(i.imageRegions=[]),a&&e.gallery.set("slides",a),i._getProperty("SLIDE_CLASS")&&a.addClass(i._getProperty("SLIDE_CLASS")),!e.container.hasClass("isotope-filter-used")&&!e.container.hasClass("performance-mode-used")&&i){var r=new Y.NodeList,s=new Y.NodeList;a.each(function(t){var e=t.one(".sqs-video-wrapper")?"video":"image";if(e)switch(e){case"image":t.one("img")&&r.push(t.one("img"));break;case"video":s.push(t)}}),e.gallery._images=r,e.gallery._imagesByMedia={image:r},e.gallery._slidesByMedia={image:r,video:s},e.gallery.plugLoaders&&e.gallery.plugLoaders(),i._evaluateBricks&&i._evaluateBricks(),i._processImages&&i._processImages(),i.goToGroup&&i.goToGroup(0),i.get("lightbox")&&Y.SQS.Gallery&&Y.SQS.Gallery.Manager&&Y.SQS.Gallery.Manager.lightboxify&&(Y.SQS.Gallery.Manager.unlightboxify(a),Y.SQS.Gallery.Manager.lightboxify(!0,a)),e.gallery.refresh({type:"resize"})}e.container.hasClass("lazy-summary-enabled")||e.loadImages(a)}else e.loadImages(t)}catch(t){console.log(t)}else e.loadImages(t);e.advancedMap&&(e._addMarkersInstancesToItems(),e._filterAdvancedMapMarkers()),Y.fire("custom-filter:gallery-refresh",e),e.container.hasClass("cf-filter-wrapper")&&e.container.one(".summary-v2-block")?e.container.one(".summary-v2-block").fire&&e.container.one(".summary-v2-block").fire("custom-filter:gallery-refresh",{customFilter:e}):e.container.fire&&e.container.fire("custom-filter:gallery-refresh",{customFilter:e}),e.waitingForNewItems=!1;var o=e.coll_data&&e.coll_data.items&&e.coll_data.items[0]&&e.coll_data.items[0].structuredContent&&e.coll_data.items[0].structuredContent.productType,n=e.target.settings.products&&e.target.settings.products.purchaseButtons;if(n&&n.enabled&&e.items&&e.items.size()&&o){e.items.each(function(t){!t.one(".sqs-add-to-cart-button")&&t._node._item_data&&t._node._item_data.id&&t.append('<div class="cf-add-to-cart-wrapper"><div class="cf-add-to-cart-button sqs-add-to-cart-button sqs-suppress-edit-mode sqs-editable-button sqs-block-button-element--small" role="button" tabindex="0" data-product-type="'+(t._node._item_data.structuredContent&&t._node._item_data.structuredContent.productType||1)+'" data-original-label="Add To Cart" data-item-id="'+(t._node._item_data.id||"")+'" data-collection-id="'+(t._node._item_data.collectionId||"")+'"><div class="sqs-add-to-cart-button-inner">Add To Cart</div></div></div>')});try{e.container.all(".sqs-add-to-cart-button").each(function(t){t.unsubscribeAll()}),window.Y&&window.Y.Squarespace&&Y.Squarespace.Commerce&&Y.Squarespace.Commerce.initializeCommerce?(console.log("Init Commerce"),window.Y.Squarespace.Commerce&&window.Y.Squarespace.Commerce.destroyCommerce(),window.Y.Squarespace.Commerce.initializeCommerce()):window.Y&&window.Y.Squarespace&&Y.Squarespace.CartUtils&&Y.Squarespace.CartUtils.initializeAddToCartButtons&&Y.Squarespace.CartUtils.initializeAddToCartButtons()}catch(t){console.log("Error trying init cart buttons:",t)}}if(e.target.settings.reInitSSLayoutForNewItems&&e.reInitSSLayoutForNewItems(),e.target.settings.wrapSourceUrlsThumbs&&e.items.each(function(t){const e=t.one(".passthrough-link");if(!t.hasClass("cf-source-link-processed")&&e){const i=t.one("a.image-wrapper");i&&(i.setAttribute("href",e.getAttribute("href")),i.setAttribute("target",e.getAttribute("target")),t.addClass("cf-source-link-processed"))}}),e.target.settings.hooks&&e.target.settings.hooks.afterFilter)try{"function"==typeof e.target.settings.hooks.afterFilter&&e.target.settings.hooks.afterFilter(e)}catch(t){console.error(t)}if(document.dispatchEvent(new CustomEvent("custom-filter:afterFilter",{detail:e})),e.itemsParent&&e.itemsParent.one(".sqs-add-to-cart-button")&&!n)try{e.container.all(".sqs-add-to-cart-button").each(function(t){t.unsubscribeAll()}),window.Y&&window.Y.Squarespace&&Y.Squarespace.Commerce&&Y.Squarespace.Commerce.initializeCommerce?(window.Y.Squarespace.Commerce&&window.Y.Squarespace.Commerce.destroyCommerce(),window.Y.Squarespace.Commerce.initializeCommerce()):window.Y&&window.Y.Squarespace&&Y.Squarespace.CartUtils&&Y.Squarespace.CartUtils.initializeAddToCartButtons&&Y.Squarespace.CartUtils.initializeAddToCartButtons()}catch(t){console.log("Error trying init Squarespace Commerce:",t)}e.itemsParent&&(e.itemsParent.ancestor(".tab-content")||e.itemsParent.hasClass(".ProductList-grid")||e.itemsParent._node&&e.itemsParent._node.className&&(e.itemsParent._node.className.indexOf("-list--ready")>-1||e.itemsParent._node.className.indexOf("blog-")>-1||e.itemsParent._node.className.indexOf("thumb-list")>-1))&&w();var l=!e.target.settings.doNotReInitMasonry&&(e.itemsParent.ancestor('[data-controller*="Masonry"]')||(e.itemsParent.getAttribute("data-controller")+"").indexOf("Masonry")>-1&&e.itemsParent||e.itemsParent.ancestor('[data-controller*="Strip"]')||e.itemsParent.hasClass("portfolio-grid-overlays")&&e.itemsParent||e.itemsParent.ancestor(".portfolio-grid-overlays"));e.refreshed=e.refreshed||0,e.filter_selectors&&-1==e.filter_selectors.indexOf("-all")&&(e.refreshed=1),l&&e.refreshed>0&&(console.log("Need Reinit Site Bundle",e.refreshed),setTimeout(function(){e.reInitSiteBundle(l)},200)),e.refreshed++},o=function(){if(i=e.filtered,i){if(e.filter_ids="",i)if(e.target.settings.simpleFilter.persistent||e.hidden&&e.hidden.size()&&e.hidden.remove(),e.itemsParent)e.target.settings.simpleFilter.persistent||e.itemsParent.insert(i,null);else if(e.container.hasClass("collection-type-blog")){var t=e.container.one(".blog-list")||e.container.one(".sqs-blog-list")||e.container.one(".BlogList");t&&(e.target.settings.simpleFilter.persistent?t.insert(i,t.one(".element-hidden")):t.insert(i,null))}else e.container.hasClass("ProductList")?e.container.one(".ProductList-grid")&&(e.target.settings.simpleFilter.persistent?e.container.one(".ProductList-grid").insert(i,e.container.one(".ProductList-grid").one(".element-hidden")):e.container.one(".ProductList-grid").insert(i,null)):e.container.insert(i,null);s(i),e.waitingForNewItems?console.log("waiting..."):(e.target.settings.simpleFilter.anim&&!e.target.settings.simpleFilter.layoutAnim&&i.each(function(t,i){var a=e.target.settings.simpleFilter.show.stagger*i;t.setStyles({transitionDelay:a>2200?"2200ms":a+"ms"})}),e.target.settings.simpleFilter.layoutAnim?(e.container.removeClass("cf-sorting-grid-running"),setTimeout(function(){},100)):e.filterAnim&&e.target.settings.simpleFilter.anim?(ut&&console.log("anim"),setTimeout(function(){e.itemsParent.removeClass("refreshing"),e.itemsParent.removeClass("hiding"),e.itemsParent.addClass("pre-showing"),setTimeout(function(){e.itemsParent.addClass("showing"),r?setTimeout(function(){e.itemsParent.removeClass("showing"),e.itemsParent.removeClass("pre-showing"),e.container.removeClass("cf-sorting-grid-running"),e.itemsParent&&(e.itemsParent.hasClass(".ProductList-grid")||e.itemsParent._node&&e.itemsParent._node.className&&(e.itemsParent._node.className.indexOf("-list--ready")>-1||e.itemsParent._node.className.indexOf("blog-")>-1||e.itemsParent._node.className.indexOf("thumb-list")>-1))&&setTimeout(function(){w()},100)},r):(e.itemsParent.removeClass("showing"),e.itemsParent.removeClass("pre-showing"),e.container.removeClass("cf-sorting-grid-running"))},17)},17)):(ut&&console.log("no-anim"),e.itemsParent.removeClass("refreshing"),e.itemsParent.removeClass("hiding"),e.itemsParent.removeClass("showing"),e.itemsParent.removeClass("pre-showing"),e.container.removeClass("cf-sorting-grid-running")))}};if(e.items&&e.items.size()){i=e.filtered,i&&0===i.size()?e.container.addClass("custom-filter-no-result"):e.container.removeClass("custom-filter-no-result");var n="";if(i&&i.size()&&(i.each(function(t){n+=t.get("_yuid")}),e.sorted_ids&&n===e.sorted_ids&&i._nodes[0].parentElement&&!t&&!e.itemsParent.one(".element-hidden")&&!e.mapPlaceFound))return e.container.removeClass("cf-sorting-grid-running"),e.items.item(0)._node.style.width&&w(),!0;e.sorted_ids=n;var l=e.hidden.size()?e.hidden.size()*e.target.settings.simpleFilter.hide.stagger:20,c=e.filtered?e.filtered.size()*e.target.settings.simpleFilter.show.stagger:20;e.filterAnim&&e.target.settings.simpleFilter.anim&&(a=e.target.settings.simpleFilter.hide.transitionDuration?e.target.settings.simpleFilter.hide.transitionDuration+l:0,a=Math.min(1e3,Math.max(20,a)),r=e.target.settings.simpleFilter.show.transitionDuration?e.target.settings.simpleFilter.show.transitionDuration+c:0,r=Math.min(500,Math.max(20,r))),ut&&console.log(a,r),e.target.settings.simpleFilter.hide.stagger>e.target.settings.simpleFilter.hide.transitionDuration&&(e.target.settings.simpleFilter.hide.stagger=e.target.settings.simpleFilter.hide.transitionDuration/10),e.target.settings.simpleFilter.anim&&e.itemsParent.all(".custom-filter-grid-item").each(function(t,i){var a=e.target.settings.simpleFilter.hide.stagger*i;t.setStyles({transitionDelay:a>2e3?"0ms":a+"ms"})}),e.itemsParent.removeClass("showing"),this.advancedMap&&this.advancedMap._node&&this.advancedMap._node._closeInfo,e.filterAnim?(e.target.settings.simpleFilter.anim&&e.itemsParent.addClass("hiding"),a&&e.target.settings.simpleFilter.anim?setTimeout(function(){o()},a):o()):o()}else this.advancedMap&&this.advancedMap._node&&this.advancedMap._node._closeInfo&&this.advancedMap._node._closeInfo();!e.parentFilter&&e.first_sort_run&&e._scrollToTop(),e.loadMoreButtonClicked=!1,e.target.settings.timelog&&console.timeEnd("SimpleFilter: PROCESS")},_checkInitState:function(t){var e=this;this.queryParams=null;var a=[];if(t&&(e.customFiltersWrapper.all(".archive-group-name-link").removeClass("active"),e.target.settings.initState={}),e.requestComplete&&e.target.settings.useHistory&&(e.blockPushState=!1),this.target.settings.urlQuery&&window.location.search&&window.location.search.indexOf("=")>-1){var r=window.location.search.substring(1);try{e.target.settings.stripQuery&&(!0===e.target.settings.stripQuery&&(r=decodeURIComponent(r).replace(/<\/?[^>]+(>|$)/g,"")),"function"==typeof e.target.settings.stripQuery&&(r=e.target.settings.stripQuery(r)||r));var s=i(r);for(var o in this.queryParams=s,s)if(s[o]){if(e.getFilterAttrObj&&e.getFilterAttrObj[o]){e.target.settings.initState.filter||(e.target.settings.initState.filter=[]);var n=o+"|"+decodeURIComponent(s[o]);-1===e.target.settings.initState.filter.indexOf(n)&&e.target.settings.initState.filter.push(n)}else if(e.sortObj&&(e.sortObj[o]||e.sortObj[o+"_desc"]||e.sortObj[s[o]])){e.target.settings.initState.sort||(e.target.settings.initState.sort=[]);var l=e.sortObj[s[o]]?s[o].replace("_","|"):o+"|"+decodeURIComponent(s[o]);-1===e.target.settings.initState.sort.indexOf(l)&&e.target.settings.initState.sort.push(l)}-1==o.indexOf("utm_")&&a.push(decodeURIComponent(s[o]))}s&&s.search&&s.search.length&&(e.target.settings.initState.search=s.search)}catch(t){console.log(t)}}if(window.location.pathname.indexOf("/category/")>-1){var c=decodeURIComponent(window.location.pathname.split("/category/")[1].replace(/\+/g," "));e.target.settings.initState.filter||(e.target.settings.initState.filter=[]),-1===e.target.settings.initState.filter.indexOf("category|"+c)&&e.target.settings.initState.filter.push("category|"+c),c&&a.push(c)}if(window.location.pathname.indexOf("/tag/")>-1){var d=decodeURIComponent(window.location.pathname.split("/tag/")[1].replace(/\+/g," "));e.target.settings.initState.filter||(e.target.settings.initState.filter=[]),-1===e.target.settings.initState.filter.indexOf("tag|"+d)&&e.target.settings.initState.filter.push("tag|"+d),d&&a.push(d)}if(this.products_category_page||this.list_category_page){c=decodeURIComponent(this.products_category_page.replace(/\+/g," ").replace(/\%/g,""));e.target.settings.initState.filter&&!e.target.settings.ignoreInitStateIfSearchUrl||(e.target.settings.initState.filter=[]);var g=c;c.indexOf(": ")>-1&&(c=c.split(": ")[1]);var u=e.customFiltersWrapper.all('.filterDropdown:not(.name-Additional-Category-Query) .archive-group-name-link[data-filter][data-filter-val="'+x(c)+'"]'),p=e.customFiltersWrapper.one(".name-Additional-Category-Query"),m=e.customFiltersWrapper.all('.filterDropdown:not(.name-Additional-Category-Query) .archive-group-name-link[href="'+location.pathname+'"]');if(m&&m.size())u.size()&&u.removeClass("active"),m.addClass("active");else if(u.size())u.each(function(t){var i=t.ancestor(".archive-group-list"),a=i&&i.one(".archive-group-name-link[data-all-filter-attr]"),r=t.ancestor("[data-ignore-cat-tag-query]"),s=t.ancestor('[data-get-attr="categories"]');if(!r){if(a&&a.removeClass("active"),s)if(e.parent_products_category_page){var o=t.ancestor('[data-root-cat="'+x(e.parent_products_category_page)+'"]')||t.ancestor("[data-parent-category-used]")&&"false"!==t.ancestor("[data-parent-category-used]").getAttribute("data-parent-category-used");o?(t.addClass("active"),t.ancestors("li").each(function(t){var i=t.one('>a:not([data-option-level="3"])');i&&i.get("innerText")==e.parent_products_category_page&&i.addClass("active")})):e.customFiltersWrapper.one('[data-root-cat="'+x(e.parent_products_category_page)+'"]')?t.removeClass("active"):t.addClass("active")}else t.addClass("active");t.ancestor(".name-Additional-Category-Query")}}),e.sqs_query_not_found=!1;else if(e.sqs_query_not_found=!0,e.requestComplete&&p){-1===e.target.settings.initState.filter.indexOf("category|"+c)&&e.target.settings.initState.filter.push("category|"+c);var h=p.one('.archive-group-name-link[data-filter-val="'+x(g)+'"]');h&&(p.removeClass("hidden"),h.addClass("active"))}}if(e.target.settings.compatCatTagInQuery&&a.length&&a.forEach(function(t){var i=t.split(",");if(i.length>200)i.forEach(function(t){if(t){t.indexOf(": ")>-1&&(t=t.split(": ")[1]);var i=e.customFiltersWrapper.all('.filterDropdown:not(.name-Additional-Category-Query) .archive-group-name-link[data-filter][data-filter-val="'+x(t)+'"]');i.size()&&(i.each(function(t){var e=t.ancestor(".archive-group-list"),i=e&&e.one(".archive-group-name-link[data-all-filter-attr]"),a=t.ancestor("[data-ignore-cat-tag-query]");a||(i&&i.removeClass("active"),t.addClass("active"))}),e.sqs_query_not_found=!1)}});else{t.indexOf(": ")>-1&&(t=t.split(": ")[1]);var a=e.customFiltersWrapper.all('.filterDropdown:not(.name-Additional-Category-Query) .archive-group-name-link[data-filter][data-filter-val="'+x(t)+'"]');a.size()?(a.each(function(t){var e=t.ancestor(".archive-group-list"),i=e&&e.one(".archive-group-name-link[data-all-filter-attr]"),a=t.ancestor("[data-ignore-cat-tag-query]");a||(i&&i.removeClass("active"),t.addClass("active"))}),e.sqs_query_not_found=!1):e.sqs_query_not_found=!0}}),this.target.settings.pagination&&this.target.settings.pagination.enabled&&this.target.settings.pagination.pageSize&&e.queryParams&&e.queryParams.page_n&&(e.pag_num_query=parseInt(e.queryParams.page_n),e.pagination)){var f=e.pagination.one(".pagination-item-"+e.queryParams.page_n+" a");f&&(f.addClass("active"),e.paginationClicked=!0,e.pagination_num=parseInt(e.queryParams.page_n))}(this.target.settings.initState&&(this.target.settings.initState.filter||this.target.settings.initState.sort||this.target.settings.initState.search)||t)&&(this.target.settings.initState.filter&&this.target.settings.initState.filter.length&&this.target.settings.initState.filter.forEach(function(t){t=t.toLowerCase().split("|");var i=!!t[1]&&t[1].split(","),a=!!t[0]&&x(t[0]);e.rangesSliders&&e.rangesSliders.length&&e.rangesSliders.forEach(function(t){t.filterValue==a&&t.noUiSlider.set(i)}),i&&a&&(e.customFiltersWrapper.all('.archive-group-name-link[data-filter="'+a+'"][data-all-filter-attr]').removeClass("active"),e.topSection&&e.topSection.all('.archive-group-name-link[data-filter="'+a+'"][data-all-filter-attr]').removeClass("active"),i.forEach(function(t){e.customFiltersWrapper.all('.archive-group-name-link[data-filter="'+a+'"][data-filter-val="'+x(t)+'"]').addClass("active"),e.topSection&&e.topSection.all('.archive-group-name-link[data-filter="'+a+'"][data-filter-val="'+x(t)+'"]').addClass("active")}))}),this.target.settings.initState.search&&this.target.settings.initState.search.length&&e.target.settings.search&&e.target.settings.search.enabled&&(this.searchContainer.one("input").set("value",this.target.settings.initState.search),this.fast_search?this.fast_search({newVal:this.target.settings.initState.search}):this.debounce_search&&this.debounce_search({newVal:this.target.settings.initState.search})),this.target.settings.initState.sort&&this.target.settings.initState.sort.length&&this.target.settings.sort&&this.target.settings.sort.enabled&&(e.customFiltersWrapper.all(".archive-group-name-link[data-sort]").removeClass("active"),e.topSection&&e.topSection.all(".archive-group-name-link[data-sort]").removeClass("active"),this.target.settings.initState.sort.forEach(function(t){if(t){t=t.toLowerCase().split("|");var i=!!t[0]&&t[0].split(","),a=t[1]?x(t[1]):"asc";i&&a&&i.forEach(function(t){t=x(t),e.sort_param=t+"_"+a,e.customFiltersWrapper.all('.archive-group-name-link[data-sort="'+t+"_"+a+'"]').addClass("active"),e.topSection&&e.topSection.all('.archive-group-name-link[data-sort="'+t+"_"+a+'"]').addClass("active")})}})),t&&this._sortGrid(!0),this.container.addClass("custom-filter-init-state"))},_initFiltering:function(){var t=this,e="click";this.filtersDropdowns=this.customFilters.all(".filterDropdown"),this.exclude_name=!!this.target.settings.excludeFilter&&x(this.target.settings.excludeFilter.trim());l(function(){t._sortGrid()},1e3,!1);if(t.filtersClickFunctions={},this.filtersDropdowns.size()&&this.filtersDropdowns.each(function(i){var a=i.getAttribute("data-filter-type");if("dropdown"==a||"buttons"==a){i.one("label");i.defaultLabel=i.one(".archive-dropdown-toggle-title")&&(i.one(".archive-dropdown-toggle-title").get("textContent")||i.one(".archive-dropdown-toggle-title").get("innerText")).replace(/\r?\n|\r/g,"").trim()||"";var r=i.all(".archive-group-name-link");i.resetOthers=i.getAttribute("data-reset-others"),i.rootOptionOpen=i.getAttribute("data-root-option-open")||!1,r.removeAttribute("data-ajax-loader");var s=!!i.getAttribute("data-multiple")&&"true"===i.getAttribute("data-multiple"),o=i.getAttribute("data-parent-category-used");"onInit"==i.getAttribute("data-open-dropdown")&&i.one(".archive-dropdown-toggle-checkbox")&&i.one(".archive-dropdown-toggle-checkbox").set("checked",!0);var n=function(e){r=i.all(".archive-group-name-link"),e.currentTarget=e.currentTarget._node?e.currentTarget:Y.one(e.currentTarget);var a=x(i.getAttribute("data-all-option")),n=e.currentTarget.getAttribute("data-filter"),l=e.currentTarget.hasAttribute("data-parent-cat")&&!o,c=e.currentTarget.get("parentNode"),d=c.getAttribute("data-nested-count"),g=c.getAttribute("data-root-option"),u="true"==i.getAttribute("data-no-filter-on-click");i.getAttribute("data-ignore-filter");u||(e.halt&&e.halt(),e.preventDefault&&e.preventDefault()),e.currentTarget.addClass("clicked");var p=i.one(".nested-options a.active:not(.clicked)");if(i.resetOthers&&(!i.rootOptionOpen||i.rootOptionOpen&&!d))if("all"==i.resetOthers)t.customFiltersWrapper.all('.archive-group-name-link:not([data-filter="'+n+'"])').removeClass("active"),t.topSection&&t.topSection.all('.archive-group-name-link:not([data-filter="'+n+'"])').removeClass("active");else{var m=(i.resetOthers+"").split("|");m.length&&m.forEach(function(e){t.customFiltersWrapper.all(".filterDropdown.name-"+x(e,!0)+" .archive-group-name-link").removeClass("active"),t.topSection&&t.topSection.all(".filterDropdown.name-"+x(e,!0)+" .archive-group-name-link").removeClass("active")})}if(e.currentTarget.get("text").trim()===a||!s&&!l)r.filter(":not(.clicked)").removeClass("active"),e.currentTarget.toggleClass("active");else{var h=e.currentTarget.ancestor(".nested-options");h&&!s&&h.all("a:not(.clicked)").removeClass("active"),e.currentTarget.toggleClass("active"),i.one('[data-filter-val="'+a+'"]')&&(e.currentTarget.getAttribute("data-filter-val")!==a?i.one('[data-filter-val="'+a+'"]').removeClass("active"):(r.removeClass("active"),e.currentTarget.addClass("active")),r.filter(".active").size()<1&&i.one('[data-filter-val="'+a+'"]').addClass("active")),l&&(e.currentTarget.hasClass("active")?e.currentTarget.ancestors("li[data-nested-count]").each(function(t){t.addClass("active")}):e.currentTarget.ancestors("li[data-nested-count]").each(function(t){t.removeClass("active")}))}e.currentTarget.removeClass("clicked"),d&&g&&i.rootOptionOpen&&!p?console.log("Just open/close"):(t.target.settings.closeOptionsOnSelect&&t._closeOptionsOnSelect(t.customFiltersWrapper),t.topSection&&t.target.settings.topSection.closeOptionsOnSelect&&t._closeOptionsOnSelect(t.topSection),t.filterAnim=!0,t.filterLastClicked=e.currentTarget.hasClass("active")&&e.currentTarget,Y.fire("custom-filter:filter-filtering",{customFilter:t}),t.container.fire&&t.container.fire("custom-filter:filter-filtering",{customFilter:t,param:e.currentTarget.getAttribute("data-filter-val")}),t.advancedMap&&(t.needBoundsChange=!0),u?console.log("no filter on click..."):t._sortGrid())};t.filtersClickFunctions[i.getAttribute("data-filter")]=n,i.delegate(e,function(e){e.halt(),i.all(".archive-group-name-link.active").removeClass("active"),t.filterAnim=!0,t.advancedMap&&(t.needBoundsChange=!0),t._sortGrid()},".reset-button"),i.delegate(e,n,".archive-group-name-link[data-filter-val]"),i.delegate("external-click",n,".archive-group-name-link[data-filter-val]")}}),this.searchContainer){var i=function(e){t.searchContainer.addClass("searching"),e.newVal=e.newVal?e.newVal:e.target&&e.target.value?e.target.value:!(!e.target||!e.target._node)&&e.target._node.value,t.target.settings.search.avoidSmartyPunctuation&&(e.newVal=e.newVal&&(e.newVal+"").replace(/[“”]/g,'"').replace(/[‘’]/g,"'")),t.searchValue=e.newVal;var i=e.newVal,a=!!t.target.settings.search.latinize;if(a&&i&&(i=k(i)),t.hasOwnProperty("regExpWordsDelimiter")&&e.newVal&&e.newVal.indexOf(t.regExpWordsDelimiter)>-1&&(i=i.trim().replace(new RegExp(t.regExpWordsDelimiter,"gi"),"|").replace(/\|+/g,"|")),t.searchRegex=new RegExp(i,"gi"),e.newVal&&e.newVal.trim()||t.searchContainer.removeClass("searching"),e.newVal?(t.searchContainer.getAttribute("data-reset-others")&&(t.customFiltersWrapper.all(".filterDropdown .archive-group-name-link").removeClass("active"),t.topSection&&t.topSection.all(".filterDropdown .archive-group-name-link").removeClass("active")),t.searchContainer.addClass("dirty"),t.searchResetsAll&&(t.customFiltersWrapper.all(".archive-group-name-link.active").removeClass("active"),t.rangesSliders&&t.rangesSliders.forEach(function(t){if(t.noUiSlider){var e=t.noUiSlider.options.range;t.noUiSlider.set([e.min,e.max])}}))):t.searchContainer.removeClass("dirty"),!t.target.settings.search.disableSearch){if((!e.newVal||e.newVal.length<t.searchMinLength)&&(t.searchRegex=""),t.advancedMap&&(t.needBoundsChange=!0),t.target.settings.search.customSearchFunc)(!e.newVal||e.newVal.length>=t.searchMinLength)&&t.target.settings.search.customSearchFunc(e);else if(t.target.settings.mobilePanel.enabled,Y.fire("custom-filter:filter-sorting",{customFilter:t}),t.container.fire&&t.container.fire("custom-filter:filter-sorting",{customFilter:t,param:"searching.."}),t.isotope)t.isotope.options.transitionDuration=t.isotope.options.origTransitionDuration,t.isotope.arrange({sortBy:t.sort_param});else if(t.mixitup){var r=[],s=t.target.settings.search.customSearchFunc;t.items.each(function(e){e=e._node||e;var i=t.searchRegex&&!s?t.searchFunction(e).match(t.searchRegex):!t.searchRegex||!s||"function"!=typeof s||s(!1,e);i&&r.push(e)}),t.mixitup.filter(r)}else t.filterAnim=!0,t._sortGrid();t.target.settings.mobilePanel.closeOnSearch&&13==e.keyCode&&(t.container.removeClass("mobile-panel-open"),t.placedContainer&&t.placedContainer.removeClass("mobile-panel-open"),Y.one("body").setStyles({marginRight:"auto",overflow:"auto"}),window.setTimeout(function(){Y.one("body").removeClass("filter-scroll-lock")},320))}},a=l(function(t){i(t)},t.target.settings.search.timeout,!1);this.searchContainer.one(".search-input").on("valuechange",function(e){e.currentTarget.getAttribute("data-submit-on-enter")?t.searchContainer.addClass("searching"):a(e)}),this.searchContainer.one(".search-input").on("keyup",function(t){13==t.keyCode&&a(t)}),this.searchContainer.delegate("click",function(e){e.halt(),t.filterAnim=!0,t.searchContainer.one(".search-input").set("value",""),t.searchContainer.removeClass("dirty"),a({newVal:"",reset:!0})},".reset-button"),this.debounce_search=a,this.fast_search=i}if(this.sortContainer){this.sortContainer.defaultLabel=this.sortContainer.one(".archive-dropdown-toggle-title").get("innerHTML");this.sortContainer.one("label");this.sortContainer.delegate(e,function(e){e.halt(),t.sortContainer.all(".archive-group-name-link.active").removeClass("active"),t.filterAnim=!0,t._sortGrid()},".reset-button"),this.sortContainer.delegate(e,function(e){e.halt(),e.currentTarget=e.currentTarget._node?e.currentTarget:Y.one(e.currentTarget),e.currentTarget.addClass("clicked"),t.sortContainer.all(":not(.clicked)").removeClass("active"),e.currentTarget.toggleClass("active"),e.currentTarget.removeClass("clicked"),t.target.settings.closeOptionsOnSelect&&t._closeOptionsOnSelect(t.customFiltersWrapper),t.container.fire&&t.container.fire("custom-filter:filter-sorting",{customFilter:t,param:e.currentTarget.getAttribute("data-filter-val")}),t.filterAnim=!0,Y.fire("custom-filter:filter-sorting",{customFilter:t}),t._sortGrid()},".archive-group-name-link[data-sort]")}ut&&console.log("filter init");var r=this.config&&this.config.design?"autocolumns"==this.config.design:t.itemsParent&&t.itemsParent.hasClass("sqs-gallery")&&t.itemsParent.hasClass("sqs-gallery-design-autocolumns");if(this.autocolumns_there=r,(!this.target.settings.isotope.enabled||!1 in window)&&(!this.target.settings.mixitup.enabled||!1 in window)&&this.container.addClass("using-simple-filter"),this.customFiltersWrapper.all(".filter-type-range-inputs").each(function(i){i.delegate(e,function(e){e.halt(),console.log("Clear button clicked");var a=i.all("input");a&&a.size()&&(a.each(function(t){t._node.value="",t.removeClass("active"),t.get("parentNode").removeClass("active")}),t._sortGrid())},".reset-button")}),this.customFiltersWrapper.one(".filter-type-input")){var s=l(function(e){var i=e.target.ancestor(".filter-type-input"),a=e.hasOwnProperty("newVal")&&e.newVal||e.target.get("value");e.target.setAttribute("data-filter-val",a),a?(e.target.addClass("active"),e.target.get("parentNode").addClass("dirty"),i.addClass("dirty")):(e.target.get("parentNode").removeClass("dirty"),i.addClass("dirty"),e.target.removeClass("active")),t._sortGrid()},300,!1);this.customFiltersWrapper.all(".filter-type-input input").each(function(t){t.on("valuechange",s),t.get("parentNode").delegate(e,function(t){t.halt();var e=t.target.get("parentNode").one("input");e&&(e.set("value",""),s({target:e,newVal:"",reset:!0}))},".reset-button")})}if(this.customFiltersWrapper.one(".quick-options-search")){var o=l(function(t){t.target.__ul_list=t.target.__ul_list||t.target.ancestor(".archive-group-list");var e=t.hasOwnProperty("newVal")&&t.newVal||t.target.get("value");e?t.target.get("parentNode").addClass("dirty"):t.target.get("parentNode").removeClass("dirty");var i=new RegExp(e,"gi");t.target.__ul_list&&t.target.__ul_list.all(".archive-group-name-link").each(function(t){var e=t._node.textContent.trim();e.match(i)?t.get("parentNode").show():t.get("parentNode").hide()})},300,!1);this.customFiltersWrapper.all(".quick-options-search input").each(function(t){t.on("valuechange",o),t.get("parentNode").delegate(e,function(t){t.halt();var e=t.target.get("parentNode").one("input");e&&(e.set("value",""),o({target:e,newVal:"",reset:!0}))},".qos-reset-button")})}if("mixitup"in window&&this.target.settings.mixitup.enabled)ut&&console.log("mixitup"),this.container.addClass("mixitup-filter-used"),t.mixitup=mixitup(t.itemsParent.getDOMNode(),{controls:{enable:!1},selectors:{target:t.target.items},animation:{duration:t.target.settings.mixitup.transitionDuration},callbacks:{onMixEnd:function(e){if(t.itemsCount&&t.itemsCount.one(".items-count").set("textContent",e.totalShow),0===e.totalShow?t.container.addClass("custom-filter-no-result"):t.container.removeClass("custom-filter-no-result"),t.advancedMap&&t._filterAdvancedMapMarkers(),Y.fire("custom-filter:gallery-refresh"),t.container.fire&&t.container.fire("custom-filter:gallery-refresh",{customFilter:t}),t.filterAnim=!1,t.waitingForNewItems=!1,t.target.settings.hooks&&t.target.settings.hooks.afterFilter)try{"function"==typeof t.target.settings.hooks.afterFilter&&t.target.settings.hooks.afterFilter(t)}catch(t){console.error(t)}document.dispatchEvent(new CustomEvent("custom-filter:afterFilter",{detail:t})),f(t)}}});else if("Isotope"in window&&this.target.settings.isotope.enabled){ut&&console.log("isotope"),this.container.addClass("isotope-filter-used");var n=t.container.one('[data-controller*="Gallery"]'),c=!1;n&&(this.container.addClass("used-7_1-gallery"),c=n.getAttribute("data-props"),c=c&&JSON.parse(c));var d=this.target.settings.isotope.columnWidth?this.target.settings.isotope.columnWidth:this.config&&this.config.columnWidth?this.config.columnWidth:t.target.settings.isotope.numColumns?100/t.target.settings.isotope.numColumns+"%":c&&c.numColumns?100/c.numColumns+"%":this.items.item(0).get("offsetWidth"),g=this.target.settings.isotope.gutter?this.target.settings.isotope.gutter:this.config&&this.config.hasOwnProperty("gutter")?this.config.gutter:c&&c.hasOwnProperty("gutter")?c.gutter:0,u=t.target.settings.isotope&&t.target.settings.isotope.transitionDuration?parseFloat(t.target.settings.isotope.transitionDuration):500,p=function(){var e=t.itemsParent.hasClass("sqs-gallery")||n||t.target.settings.isotope.useMaxWidth;e&&t.itemsParent.addClass("clear").setStyle("height","auto"),g=parseFloat(g),d=(d+"").indexOf("%")>-1?d:parseFloat(d)/t.itemsParent.width()*100+"%";var i=t.target.settings.isotope.numColumns?t.target.settings.isotope.numColumns:c&&c.numColumns?c.numColumns:(d+"").indexOf("%")>-1?(100/parseFloat(d)).toFixed():(t.itemsParent.width()/parseFloat(d)).toFixed(),a=-1==(g+"").indexOf("%")?parseFloat(g)/t.itemsParent.width()*100+"%":g+"px";t.itemsParent.append('<div style="width:'+a+'" class="gutter-sizer"></div>'),(d+"").indexOf("%")>-1&&a.indexOf("%")>-1&&(d=parseFloat(d)-parseFloat(a)*(i-1)+"%"),t.isotope_item_width=d,t.isotope_column_gutter=a;var s={};for(var o in t.sortObj)t.sortObj.hasOwnProperty(o)&&o.indexOf("_desc")>-1&&(s[o]=!1);e&&(console.log(d),t._setItemsMaxWidthStyle(d)),t.items.each(function(i){e&&i.setStyles({width:"100%",height:null,marginRight:0,marginLeft:0,marginBottom:g,left:null,top:null,visibility:"visible"}),t.config&&t.config.imageAspectRatio&&"autocolumns"!==t.config.design&&(i.one(".img-wrapper")||"auto"===(t.config.imageAspectRatio+"").toLowerCase()?i.one(".img-wrapper")&&i.one(".img-wrapper")&&!r&&"auto"!==(t.config.imageAspectRatio+"").toLowerCase()&&i.one(".img-wrapper").setStyles({paddingBottom:100/parseFloat(t.config.imageAspectRatio)+"%",height:0,overflow:"hidden"}):i.one(".summary-thumbnail-container")&&!r&&i.one(".summary-thumbnail-container").setStyles({paddingBottom:100/parseFloat(t.config.imageAspectRatio)+"%",height:0,overflow:"hidden"}),i.all("img").each(function(t){!t.loader&&t.plug(Y.Squarespace.Loader2,{mode:t.get("parentNode").hasClass("content-fit")?"fit":"fill",load:!0}),t.loader&&t.fire("refresh")}))}),d=(d+"").indexOf("%")>-1?".custom-filter-grid-item":parseFloat(d),t.isotope=new Isotope(t.itemsParent.getDOMNode(),{itemSelector:t.target.items,transitionDuration:0,origTransitionDuration:u,initLayout:!0,layoutMode:t.target.settings.isotope&&t.target.settings.isotope.layoutMode?t.target.settings.isotope.layoutMode:r?"masonry":"fitRows",percentPosition:!0,stamp:t.target.settings.isotope&&t.target.settings.isotope.stamp?t.target.settings.isotope.stamp:".stamp",columnWidth:".custom-filter-grid-item",gutter:".gutter-sizer",fitWidth:!0,fitRows:{columnWidth:".custom-filter-grid-item",gutter:".gutter-sizer",fitWidth:!0},masonry:{columnWidth:".custom-filter-grid-item",gutter:".gutter-sizer",fitWidth:!0},packery:{columnWidth:".custom-filter-grid-item",gutter:".gutter-sizer",fitWidth:!0},filter:function(e,i){var a=e||i,r=!t.searchRegex||t.searchFunction(a).match(t.searchRegex),s=!t.filter_selectors||a.f_matches(t.filter_selectors.trim().replace(/ /g,","));return r&&s},sortAscending:G(s,{popular:!1}),getSortData:t.sortObj});var p=l(function(e){if(t.itemsCount&&t.itemsCount.one(".items-count").set("textContent",e.length),t.virtualGoButton&&t.virtualGoButton.setAttribute("data-items",e.length),0===e.length?t.container.addClass("custom-filter-no-result"):(t.container.removeClass("custom-filter-no-result"),t.itemsParent.all("img").each(function(t){t._node&&t._node.clientWidth&&t.fire("refresh")})),t.filterAnim=!1,t.waitingForNewItems=!1,t.advancedMap&&t._filterAdvancedMapMarkers(),Y.fire("custom-filter:gallery-refresh"),t.parentFilter||t._scrollToTop(),t.loadMoreButtonClicked=!1,t.container.fire&&t.container.fire("custom-filter:gallery-refresh",{customFilter:t}),t.target.settings.hooks&&t.target.settings.hooks.afterFilter)try{"function"==typeof t.target.settings.hooks.afterFilter&&t.target.settings.hooks.afterFilter(t)}catch(t){console.error(t)}document.dispatchEvent(new CustomEvent("custom-filter:afterFilter",{detail:t})),f(t)},100,!0);t.isotope.on("arrangeComplete",p),t.isotope.once("layoutComplete",function(e){ut&&console.log("first layout"),e&&e.length&&e.forEach(function(t){t.element&&(t.element.style.overflow="hidden")}),t.itemsParent.all("img").each(function(t){t._node&&t._node.clientWidth&&(t.loader?t.fire("refresh"):ImageLoader.load(t._node,{load:!0,useAdvancedPositioning:!0}),t.setStyle("opacity","1"))})}),ut&&console.log("isotope init"),t.filterAnim=!0,t._sortGrid(),Y.fire("custom-filter:isotope-inited",{customFilter:t}),t.container.fire&&t.container.fire("custom-filter:isotope-inited",{customFilter:t})};if(t.itemsParent.hasClass("sqs-gallery")){var m=t.itemsParent.getData("gallery");m?(t.itemsParent.clearData("gallery"),Y.Squarespace.GalleryManager&&(Y.Squarespace.GalleryManager._galleries&&Y.Squarespace.GalleryManager._galleries.length&&Y.Squarespace.GalleryManager._galleries.forEach(function(e,i){m._yuid===e._yuid&&(e.after("destroy",function(){ut&&console.log("DESTROY"),r&&t.itemsParent.addClass("sqs-gallery-design-autocolumns"),t.itemsParent.setStyles({margin:null,marginBottom:null,marginTop:null})}),t.target.settings.isotope.columnWidth||(d=t.items.item(0).width()),e.destroy(),Y.Squarespace.GalleryManager._galleries.splice(i,1))}),m=null)):(t.container.all(".sqs-gallery-container").removeClass("sqs-gallery-container"),console.log("prevent gallery start"))}p()}else ut&&console.log("No filter library");if(t.itemsParent)if(t.gallery&&!t.container.hasClass("performance-mode-used")&&t.gallery.refresh(),window.imagesLoadeds)imagesLoaded(t.itemsParent.getDOMNode(),function(e){console.log("all images are loaded"),t._sortGrid(),t.autocolumns_there&&t.gallery&&!t.container.hasClass("performance-mode-used")&&t.gallery.refresh()});else{var h=t.itemsParent.all("img"),v=0,b=h.size(),y=!1;b&&h.on("load",function(e){v++,v>=b&&!y&&(console.log("all images are loaded"),y=!0,t.isotope&&t.isotope.layout(),t._sortGrid(),t.autocolumns_there&&t.gallery&&!t.container.hasClass("performance-mode-used")&&t.gallery.refresh())})}window.Y&&Y.once("domready",function(){t.autocolumns_there&&t.gallery&&!t.container.hasClass("performance-mode-used")&&t.gallery.refresh()}),this.target.settings.openDropdownsOnHover&&this.customFiltersWrapper.all(".filterDropdown,.sortDropdown").on("hover",function(t){var e=t.currentTarget.one(".archive-dropdown-toggle-checkbox");e&&e.set("checked",!0)},function(t){var e=t.currentTarget.one(".archive-dropdown-toggle-checkbox");e&&e.set("checked",!1)})},_followMapBounds:function(t,e,i){t=t||this.advancedMap._node;e=e||t.__map&&t.__map.getBounds();var a=!1;t.radiusCircle&&(e=t.radiusCircle.getBounds(),a=t.radiusCircle.getRadius(),console.log(a));var r=t._markers;if(r&&r.length)for(var s=r.length-1;s>=0;s--){var o=r[s],n=o.outsideItem&&o.outsideItem._node;if(n)if(i)n.dataset.inBounds=!0;else{var l=o.getPosition();if(a){var c=t.radiusCircle.getCenter();try{google.maps.geometry.spherical.computeDistanceBetween(l,c)<=a?(n.dataset.inBounds=!0,n.dataset.dist=google.maps.geometry.spherical.computeDistanceBetween(l,c)):n.dataset.inBounds=!1,n.dataset.dist=google.maps.geometry.spherical.computeDistanceBetween(l,c)}catch(t){F(l.lat(),l.lng(),c.lat(),c.lng())<=a/1e3?n.dataset.inBounds=!0:n.dataset.inBounds=!1}}else e.contains(l)?n.dataset.inBounds=!0:n.dataset.inBounds=!1}}this._sortGrid(),this.firstMapBoundRun=!0},_buildMapRadiusCircle:function(t){var e=this,i=e.target.settings.advancedMap;if(e.advancedMap){var a=e.advancedMap;if(a._node.radiusCircle&&(a._node.radiusCircle.setMap(null),a._node.radiusCircle=null),!a._node.radiusCircle&&t.lat){var r=i.autocomplete.dimension.val||1e4,s=i.autocomplete.radius.val?i.autocomplete.radius.val*r:1e4,o=i.autocomplete.circle;o.map=a._node.__map,o.center=t,o.radius=s,a._node.radiusCircle=new google.maps.Circle(o),setTimeout(function(){e.advancedMap._node.__map.panToBounds(a._node.radiusCircle.getBounds()),e.needBoundsChange=!0,e._followMapBounds(e.advancedMap._node,e.advancedMap._node.radiusCircle.getBounds())},50)}}},_initMapAutoComplete:function(){var t=this,e=t.target.settings.advancedMap;if(e.autocomplete&&e.autocomplete.enabled&&t.mapAutocompleteContainer){var i=t.mapAutocompleteContainer.one(".search-input")._node,a=e.autocomplete.options||{},r=function(e){position=e,t.container.addClass("position-found"),t.placedContainer&&t.placedContainer.addClass("position-found"),t.mapPlaceFound=!0,t&&t.items.size()&&(t.items.each(function(t){var e=t._node._item_data,i="";e&&e.location&&e.location.markerLat&&(i=F(position.lat,position.lng,parseFloat(e.location.markerLat),parseFloat(e.location.markerLng)),t._node._item_data.distance=i),t.setAttribute("data-distance",i)}),t.sortContainer&&t.sortContainer.one(".distance_asc a")&&t.sortContainer.one(".distance_asc a").addClass("active")),position&&t._buildMapRadiusCircle(position)},s=function(){var e=t.mapAutocomplete.getPlace(),i={};e&&e.geometry.location&&(i={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}),r(i)},o=function(){!t.mapAutocomplete&&i&&(t.mapAutocomplete=new window.google.maps.places.Autocomplete(i,a),t.mapAutocomplete.addListener("place_changed",s),console.log("Autocomplete there!"))};try{if(window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Autocomplete)o();else{if(window.google&&window.google.maps){var n=window.google.maps.version.slice(2).replace(/\./g,"/")+"/places.js";u("https://maps.googleapis.com/maps-api-v3/api/js/"+n,"google-maps-places",null,function(){setTimeout(function(){window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Autocomplete&&(o(),console.log("Google Places Loaded"))},100)})}console.log("No Places API on page")}}catch(t){google&&google.maps&&google.maps.autocomplete||console.warn("We can't start autocomplete now")}}else console.log("Can't start Autocomplete")},_setItemsMaxWidthStyle:function(t){var e=this;e.isotope_itemsWidthInRange=!1;t=t||this.isotope_item_width||"25%";var i=this.isotope_column_gutter&&this.isotope_column_gutter.indexOf("%")>-1?parseFloat(this.isotope_column_gutter):0;window.innerWidth<=1024&&(t=33.3-i+"%"),window.innerWidth<=640&&(t=50-i+"%"),window.innerWidth<=400&&(t="100%");var a="."+this.u_id+" .custom-filter-grid-item{max-width:"+t+";margin-left:0!important;margin-right:0!important;width:100%!important;}";this.itemsWidthStyleNode&&this.itemsWidthStyleNode.remove(),this.itemsWidthStyleNode=Y.Node.create('<style id="'+this.u_id+'-ItemsWidthStyle">'+a+"</style>"),this.container.append(this.itemsWidthStyleNode)},_addItemsAttributes:function(t,e){var i=this;if(this.coll_data&&this.coll_data.collection&&this.coll_data.collection.typeName,this.data_items_hash||(this.data_items_hash={}),this.target.settings.HTMLifySelectors){var a=this.container.all(this.target.settings.HTMLifySelectors+":not([data-htmlified])");a&&a.size()&&a.each(function(t){t.set("innerHTML",t.get("textContent")),t.setAttribute("data-htmlified",!0)})}var r=i.items.size(),s=function(t,e,a,s){if(i.target.settings.shuffle)!t.hasAttribute("data-randomized")&&t.setAttribute("data-index",_(i.shuffleMin||1,r)),t.setAttribute("data-randomized",!0);else{!t.getAttribute("data-randomized")&&t.setAttribute("data-index",a);var o=t.hasAttribute("data-start-index")&&t.getAttribute("data-start-index");o.indexOf&&t.setAttribute("data-index",o)}if(s&&e&&(t.attrsAdded=!0),e.categoryIds&&i.coll_data&&i.coll_data.nestedCategories&&(i.coll_data.nestedCategories.tree||i.coll_data.nestedCategories.categoriesHash)&&(e.categories=n(i.coll_data,e)),e.categories||(e.categories=[]),e.tags||(e.tags=[]),e.categories&&e.categories.indexOf&&e.categories.indexOf("all"),e.tags&&e.tags.indexOf("all"),i.target.settings.hooks&&i.target.settings.hooks.beforeSetItemAttributes)try{"function"==typeof i.target.settings.hooks.beforeSetItemAttributes&&i.target.settings.hooks.beforeSetItemAttributes(t,e,i)}catch(t){console.error(t)}e&&(t._node._item_data=e);var l=e.categories.length,c=e.tags.length,d="",g="";if(pt)l&&e.categories.forEach(function(e){if(i.target.settings.filter&&i.target.settings.filter.category&&-1===i.currentCats.indexOf(e)&&i.currentCats.push(e),i.target.settings.filter&&i.target.settings.filter.setCategoriesClasses){var a="category-"+x(e);-1===t._node.className.indexOf(" "+a+" ")&&-1===d.indexOf(a)&&(d+=" "+a)}}),c&&e.tags.forEach(function(e){if(i.target.settings.filter&&i.target.settings.filter.tag&&-1===i.currentTags.indexOf(e)&&i.currentTags.push(e),i.target.settings.filter&&i.target.settings.filter.setTagsClasses){var a="tag-"+x(e);-1===t._node.className.indexOf(" "+a+" ")&&-1===g.indexOf(a)&&(g+=" "+a)}});else{if(l)for(var u=0;u<l;u++){var p=e.categories[u];if(i.target.settings.filter&&i.target.settings.filter.category&&-1===i.currentCats.indexOf(p)&&i.currentCats.push(p),i.target.settings.filter&&i.target.settings.filter.setCategoriesClasses){var m="category-"+x(p);-1===t._node.className.indexOf(" "+m+" ")&&-1===d.indexOf(m)&&(d+=" "+m)}}if(c)for(var h=0;h<c;h++){var f=e.tags[h];if(i.target.settings.filter&&i.target.settings.filter.tag&&-1===i.currentTags.indexOf(f)&&i.currentTags.push(f),i.target.settings.filter&&i.target.settings.filter.setTagsClasses){var v="tag-"+x(f);-1===t._node.className.indexOf(" "+v+" ")&&-1===g.indexOf(v)&&(g+=" "+v)}}}var y=d+" "+g;y.length&&(t._node.className+=y),e.hasOwnProperty("likeCount")&&t.setAttribute("data-like-count",e.likeCount),e.publishOn&&t.setAttribute("data-publish-on",e.publishOn),e.startDate&&t.setAttribute("data-start-date",e.startDate),e.endDate&&t.setAttribute("data-end-date",e.endDate),e.id&&t.setAttribute("data-set-id",e.id);var w=e.variants?e.variants:!!e.structuredContent&&e.structuredContent.variants;if((!w||!w.length&&e.structuredContent)&&(e.price||(e.price=e.structuredContent&&e.structuredContent.priceCents||0)),e.price){var C=parseInt((e.price+"").replace(/[^\d]/g,""))/100;t.setAttribute("data-price",C),-1===i.items_prices.indexOf(C)&&(i.items_prices.push(C),i.items_prices.sort(function(t,e){return t-e}))}if(w&&w.length){e.variantOptions=H(e);var S=e.variantOptions.prices;for(var k in S.forEach(function(t){-1===i.items_prices.indexOf(t)&&i.items_prices.push(t)}),t.setAttribute("data-price",S[0]),t.setAttribute("data-prices",S),e.variantOptions)if(e.variantOptions.hasOwnProperty(k)&&"prices"!==k&&"qtyInStock"!==k){var F=(e.variantOptions[k]+"").split(",").length>e.variantOptions[k].length?"|-|":",";t.setAttribute("data-variant-option-"+x(k),e.variantOptions[k].join(F)||"")}}if((e.productType||e.recordTypeLabel&&"store_item"==e.recordTypeLabel)&&t.setAttribute("data-in-stock",Q(e)),i.items_prices.sort(function(t,e){return t-e}),i.target.settings.hooks&&i.target.settings.hooks.onSetItemAttributes)try{"function"==typeof i.target.settings.hooks.onSetItemAttributes&&i.target.settings.hooks.onSetItemAttributes(t,e,i)}catch(t){console.error(t)}if(i.getFilterAttrObj)for(var O in i.getFilterAttrObj)if(i.getFilterAttrObj.hasOwnProperty(O)&&i.getFilterAttrObj[O]){var I=!1,L=i.getFilterAttrObj[O].attr,q=!1,T=!1;"string"==typeof L&&L.indexOf("--removeHTML")>-1&&(T=!0,L=L.replace("--removeHTML","")),"string"==typeof L&&L.indexOf("--split-delim=")>-1&&(q=L.split("--split-delim=")[1],L=L.split("--split-delim=")[0]);var N=i.getFilterAttrObj[O],M=N.type;if("function"==typeof L){var D=i.getFilterAttrObj[O].variantOption;I=D?L(e,D):L(t,e)}else{L=L.split("|");var E=L[0],B=L[1]||!1,W=L[2]||!1,j=E.indexOf(".")>0?b(E,e):e[E];if(j){if(I=j,B)try{var U=Y.Node.create(I),R=U.one(B);U&&R?(I=(R.get("textContent")||R.get("innerText")).replace(/\r?\n|\r/g,"").trim()||null,W&&(I=R.getAttribute(W).replace(/\r?\n|\r/g,"").trim()||null),console.log("attr from html",I)):I=null}catch(t){ut&&console.log(t)}}else{try{'span[style*="underline"]'!=E||t.one(E)||(E="p>u",t.one(E)&&t.one(E).setAttribute("hidden",!0)),I=!!t.one(E)&&(0==E.indexOf("[")&&(t.one(E).getAttribute(E.replace(/[\[\]']+/g,"").trim())+"").trim()||(t.one(E).get("textContent")||t.one(E).get("innerText")).replace(/\r?\n|\r/g," ").trim()),T&&I&&(I=z(I)),I&&t.one(E)._node.children.length>1&&(I=I.split(","))}catch(t){ut&&console.log(t)}!1===I&&e.categories}}"string"==typeof I&&q&&(I=I.split(q)),I?"object"!=typeof I&&(I=[I]):I=[];var V="",G=[],Z=i.getFilterAttrObj[O].allOption,J=i.getFilterAttrObj[O].allowedPrefSuf,X=i.getFilterAttrObj[O].notAllowedPrefSuf,$=!0,K=i.getFilterAttrObj[O].optionsReplace;if(I&&I.length&&I.map&&(I=I.map(function(t){return t&&t.trim?t.trim():t})),I&&-1===I.indexOf(Z)&&"range-slider"!==M&&-1==M.indexOf("input")&&I.push(Z),K)for(const t in K)if(Object.hasOwnProperty.call(K,t)){const e=K[t],i=I.indexOf&&I.indexOf(t)||-1;i>-1&&-1==I.indexOf(e)&&(I[i]=e)}I=I.slice(),i.getFilterAttrObj[O].defaultAttrs&&(0===I.length||1===I.length&&I[0]===Z)&&i.getFilterAttrObj[O].defaultAttrs.split("|").forEach(function(t){t=x(t),-1===I.indexOf(t)&&I.push(t)});var tt=I.length;if(tt){if("range-slider"==M||"range-inputs"==M){var et=[],it="ranges";N[it]||(N[it]=[]);var at=!0;I.forEach(function(t){if(J&&J.length&&t&&t!==Z&&((t+"").indexOf(J)>-1?(t=t.replaceAll(J,"").trim(),at=!0):at=!1),t&&at){var e=parseFloat((t+"").replace(/[^\d.]/g,"").replace(/,/g,""));isNaN(e)||(-1===et.indexOf(e)&&et.push(e),-1===N[it].indexOf(e)&&(N[it].push(e),N[it].sort(function(t,e){return t-e})))}}),et+""&&t.setAttribute("data-range-value-"+x(N.name),et+"")}for(k=0;k<tt;k++)if(I[k]=(I[k]+"").trim(),$=!0,i.getFilterAttrObj[O].lowercase&&(I[k]=I[k].toLowerCase()),i.getFilterAttrObj[O].capitalcase&&(I[k]=P(I[k])),i.getFilterAttrObj[O].capitalcaseF&&(I[k]=A(I[k])),i.getFilterAttrObj[O].uppercase&&(I[k]=I[k].toUpperCase()),J&&J.length&&I[k]&&I[k]!==Z&&((I[k]+"").indexOf(J)>-1?(I[k]=I[k].replaceAll(J,"").trim(),$=!0):$=!1),X&&X.length&&I[k]&&I[k]!==Z&&((I[k]+"").indexOf(X)>-1?(I[k]=I[k].replaceAll(X,"").trim(),$=!1):$=!0),I[k]&&$){if((I[k]==Z||i.getFilterAttrObj[O].allowedOptionsOriginal.length&&i.getFilterAttrObj[O].allowedOptionsOriginal.indexOf(I[k])>-1||!i.getFilterAttrObj[O].allowedOptionsOriginal.length)&&(!N.notAllowedOptions||N.notAllowedOptions&&N.notAllowedOptions.length&&-1===N.notAllowedOptions.indexOf(I[k]))){var rt=x(I[k]);V+=" "+O+"-"+rt,G.push(I[k])}(-1===i.getFilterAttrObj[O].currentOptions.indexOf(I[k])&&i.getFilterAttrObj[O].allowedOptionsOriginal.length&&i.getFilterAttrObj[O].allowedOptionsOriginal.indexOf(I[k])>-1||-1===i.getFilterAttrObj[O].currentOptions.indexOf(I[k])&&!i.getFilterAttrObj[O].allowedOptionsOriginal.length)&&(I[k]===Z||i.getFilterAttrObj[O].disableOptionsUpdate||(!N.notAllowedOptions||N.notAllowedOptions&&N.notAllowedOptions.length&&-1===N.notAllowedOptions.indexOf(I[k]))&&i.getFilterAttrObj[O].currentOptions.push(I[k]))}}else if("range-slider"==M){var st=0;t.setAttribute("data-range-value-"+x(N.name),st);it="ranges";N[it]||(N[it]=[])}if("input"==M&&G&&G.length&&(G.sort(),-1!==G.indexOf("All")&&G.splice(G.indexOf("All"),1),t.setAttribute("data-input-value-"+x(N.name),G.join("||"))),"range-slider"!==M&&"input"!==M){var ot=t._node.className;if(N.classNameFunction&&"function"==typeof N.classNameFunction);else if(V){V=V.trim().split(" ");var nt="";V.forEach(function(t){-1===ot.indexOf(" "+t+" ")&&(nt+=" "+t)}),nt.length&&(t._node.className+=nt)}}}var lt=[];for(var ct in i.sortObj)if(i.sortObj.hasOwnProperty(ct)){var dt=ct.replace("_desc","").replace("_asc","");-1===lt.indexOf(dt)&&(lt.push(dt),"function"==typeof i.sortObj[ct]&&(t.setAttribute("data-"+dt,i.sortObj[ct](t._node,e,dt)),t._node.itemData=e))}i.isotope&&i.isotope.updateSortData()},o=!1,l=!1;if(e&&e.size()&&(o=!0,l=i.items,i.items&&(i.items.size(),e.size()),i.items=new Y.NodeList(e._nodes)),r=i.items.size(),t){function c(t,e){var i=[],a=e&&t.all(e);return a&&a.size()&&a.each(function(t){var e=t.get("textContent").trim();-1==i.indexOf(e)&&i.push(e)}),i}i.items.each(function(t,e){var a=[],r=[];t.hasClass("summary-item")&&t.one(".summary-metadata-item--cats a")?a=c(t,".summary-metadata-item--cats a"):t.one(".Blog-meta-item--categories a")?a=c(t,".Blog-meta-item--categories a"):t.one(".entry-category a")?a=c(t,".entry-category a"):t.one(".blog-categories-list a")&&(a=c(t,".blog-categories-list a")),t.hasClass("summary-item")&&t.one(".summary-metadata-item--tags a")?r=c(t,".summary-metadata-item--tags a"):t.one(".Blog-meta-item--tags a")?r=c(t,".Blog-meta-item--tags a"):t.one(".entry-tags a")?r=c(t,".entry-tags a"):t.one(".blog-tags-list a")&&(a=c(t,".blog-tags-list a")),i.target.settings.filter.useItemsClassesForData&&t.hasClass("hentry")&&t._node&&(t._node.className.indexOf("category-")>-1||t._node.className.indexOf("tag-")>-1)&&t._node.className.split(" ").forEach(function(t){if(t=t.trim(),t.indexOf("category-")>-1){var e=A(t.replace("category-","")).replace(/-/g," ");-1===a.indexOf(e)&&a.push(e)}else if(t.indexOf("tag-")>-1){var i=A(t.replace("tag-","")).replace(/-/g," ");-1===r.indexOf(i)&&r.push(i)}});var o={categories:a,tags:r,title:t.one(".list-item-content__title")?t.one(".list-item-content__title").get("textContent"):"",price:t.one(".sqs-money-native")?parseFloat(t.one(".sqs-money-native").get("textContent").replace(/\D/g,"")):0,publishOn:t.one("time")?new Date(t.one("time").get("innerText")).getTime():"",likeCount:t.one(".like-count")?t.one(".like-count").get("innerText"):0};s(t,o,e)})}else{var d=this.coll_data.collection&&this.coll_data.collection.collections?this.coll_data.collection.collections:this.coll_data.items;if(d&&d.length&&this.items&&this.items.size())if(this.requestComplete,this.items&&this.items.size()&&(this.items.item(this.items.size()-1)||this.items.item(0))._node._virtualData)i.items.each(function(t,e){t._node._virtualData&&s(t,t._node._virtualData,e,"direct Virtual logic")});else if(this.items&&this.items.size()&&(this.items.item(this.items.size()-1)||this.items.item(0))._node._LZSData)i.items.each(function(t,e){t._node._LZSData&&s(t,t._node._LZSData,e,"direct LZS logic")});else if(this.items.item(0).hasAttribute("data-item-id"))d.forEach(function(t,e){var a=t.id;a&&!i.data_items_hash.hasOwnProperty(a)&&(i.data_items_hash[a]=t)}),i.items.each(function(t,e){var a=t&&t.getAttribute("data-item-id");a&&i.data_items_hash.hasOwnProperty(a)&&s(t,i.data_items_hash[a],e,"Data Item Id")});else if(this.items.item(0).hasAttribute("data-collection-id"))d.forEach(function(t,e){var a=t.id;a&&!i.data_items_hash.hasOwnProperty(a)&&(i.data_items_hash[a]=t)}),i.items.each(function(t,e){var a=t&&t.getAttribute("data-collection-id");a&&i.data_items_hash.hasOwnProperty(a)&&s(t,i.data_items_hash[a],e,"Data Collection Id")});else if(this.items.item(0).one(".sqs-add-to-cart-button")&&this.items.item(0).one(".sqs-add-to-cart-button").hasAttribute("data-item-id"))d.forEach(function(t,e){var a=t.id;a&&!i.data_items_hash.hasOwnProperty(a)&&(i.data_items_hash[a]=t)}),i.items.each(function(t,e){var a=t&&t.one(".sqs-add-to-cart-button")&&t.one(".sqs-add-to-cart-button").getAttribute("data-item-id");a&&i.data_items_hash.hasOwnProperty(a)&&s(t,i.data_items_hash[a],e,"Product block Data Item Id")});else if(this.items.item(0).one(".product-quantity-input")&&this.items.item(0).one(".product-quantity-input").hasAttribute("data-item-id"))d.forEach(function(t,e){var a=t.id;a&&!i.data_items_hash.hasOwnProperty(a)&&(i.data_items_hash[a]=t)}),i.items.each(function(t,e){var a=t&&t.one(".product-quantity-input")&&t.one(".product-quantity-input").getAttribute("data-item-id");a&&i.data_items_hash.hasOwnProperty(a)&&s(t,i.data_items_hash[a],e,"Product block Data Item Id")});else if(this.items.item(0).hasClass("index-section")&&this.items.item(0).getAttribute("id")&&0==this.items.item(0).getAttribute("id").indexOf("index-section"))d.forEach(function(t,e){i.items.some?i.items.some(function(i){if(i&&i.getAttribute("id")=="index-section-"+t.urlId)return s(i,t.items&&t.items[0]||t,e,"Index Section Id"),!0}):i.items.each(function(i){i&&i.getAttribute("id")=="index-section-"+t.urlId&&s(i,t.items&&t.items[0]||t,e,"Index Section Id")})});else if(this.items.item(0).hasClass("index-section")&&this.items.item(0).getAttribute("id"))d.forEach(function(t,e){i.items.some?i.items.some(function(i){if(i&&i.getAttribute("id")==t.urlId)return s(i,t.items&&t.items[0]||t,e,"Index Section Id"),!0}):i.items.each(function(i){i&&i.getAttribute("id")==t.urlId&&s(i,t.items&&t.items[0]||t,e,"Index Section Id")})});else if(this.items.item(0).getAttribute("data-slide-id"))d.forEach(function(t,e){var a=t.id;a&&!i.data_items_hash.hasOwnProperty(a)&&(i.data_items_hash[a]=t)}),i.items.each(function(t,e){var a=t&&t.getAttribute("data-slide-id");a&&i.data_items_hash.hasOwnProperty(a)&&s(t,i.data_items_hash[a],e,"Slide Gallery Item Id")});else if(this.items.item(0).hasClass("slide")&&this.items.item(0).getAttribute("data-slide-url"))d.forEach(function(t,e){i.items.some?i.items.some(function(i){if(i&&i.getAttribute("data-slide-url")==t.urlId)return s(i,t,e,"Slide Gallery Item URL"),!0}):i.items.each(function(i){i&&i.getAttribute("data-slide-url")==t.urlId&&s(i,t,e,"Slide Gallery Item URL")})});else if(this.items.item(0).hasClass("project")&&this.items.item(0).getAttribute("href"))d.forEach(function(t,e){(t.items&&t.items[0]||t.typeName&&("page"==t.typeName||"gallery"==t.typeName))&&(i.items.some?i.items.some(function(i){if(i&&i.getAttribute("href")=="/"+t.urlId+"/")return s(i,t.items&&t.items[0]||t,e,"Index Gallery Item href"),!0}):i.items.each(function(i){i&&i.getAttribute("href")=="/"+t.urlId+"/"&&s(i,t.items&&t.items[0]||t,e,"Index Gallery Item href")}))});else if(this.items.item(0).hasClass("Index-gallery-item")&&this.items.item(0).one(".Index-gallery-item-image")){var g=e&&!i.isotope||i.target.settings.pagination&&i.target.settings.pagination.enabled?i.items.toFrag():i.container.one(i.target.items)?i.container:i.isotope?i.container:i.items.toFrag();d.forEach(function(t,e){t.items&&t.items.length&&t.items.forEach(function(t){var a=t.id,r=t.systemDataId,o=t.mainImage?t.mainImage.assetUrl:t.systemDataId&&t.assetUrl,n=(t.title&&t.title.trim(),g.one('[data-image-id="'+a+'"]')?g.all('[data-image-id="'+a+'"]'):r&&g.all('[data-src*="'+r+'"]').size()?g.all('[data-src*="'+r+'"]'):g.all('[data-src*="'+o+'"]'));n=n&&1==n.size()&&n.item(0).ancestor(i.target.items)||!1,n&&!n.attrsAdded&&s(n,t,e,"Index asset logic")})})}else if(this.items.item(0).hasClass("grid-item")&&this.items.item(0).getAttribute("href"))d.forEach(function(t,e){i.items.some?i.items.some(function(i){if(i&&i.getAttribute("href")==t.fullUrl)return s(i,t,e,"Portfolio Item href"),!0}):i.items.each(function(i){i&&i.getAttribute("href")==t.fullUrl&&s(i,t,e,"Portfolio Item href")})});else if(this.itemsParent.hasClass("portfolio-hover-items-list")||this.itemsParent.hasClass("portfolio-hover-items"))d.forEach(function(t,e){i.items.some?i.items.some(function(i){if(i&&i.one(".portfolio-hover-item")&&i.one(".portfolio-hover-item").getAttribute("href")==t.fullUrl||i.hasClass("portfolio-hover-item")&&i.getAttribute("href")&&i.getAttribute("href")==t.fullUrl)return s(i,t,e,"Portfolio Item href"),!0}):i.items.each(function(i){(i&&i.one(".portfolio-hover-item")&&i.one(".portfolio-hover-item").getAttribute("href")==t.fullUrl||i.hasClass("portfolio-hover-item")&&i.getAttribute("href")&&i.getAttribute("href")==t.fullUrl)&&s(i,t,e,"Portfolio Item href")})});else if(this.items.item(0).hasClass("slide")||this.items.item(0).hasClass("summary-item")||this.items.item(0).hasAttribute("data-id")||!this.items.item(0).hasAttribute("data-item-id")&&!this.items.item(0).hasClass("archive-item-link")){var u=i.items.item(0).one(".lessons-image")?"videos":i.items.item(0).one(".eventlist-title-link")?"events":!!i.items.item(0).one(".blog-title a")&&"blog_v_7_1",p=(g=e&&!i.isotope||i.target.settings.pagination&&i.target.settings.pagination.enabled?i.items.toFrag():i.container.one(i.target.items)?i.container:i.isotope?i.container:i.items.toFrag(),i.items.size()),m=i.items.item(0).hasClass("table-row");d.forEach(function(t,e){if(p<=0||!t)return!1;var a=t.fullUrl,r=g.one(".table-row-"+e),o=t.clickthroughUrl||t.sourceUrl;o&&(o=o.replace('"target="_blank',"")),a&&(a=a.replace('"target="_blank',""));var n=t.id,l=t.systemDataId,c=t.mainImage?t.mainImage.assetUrl:t.systemDataId&&t.assetUrl,d=t.title&&t.title.trim(),h=g.one('.custom-filter-grid-item[data-id="'+n+'"]');t.oembed;if(m&&r)!r.attrsAdded&&s(r,t,e,"table-row logic"),p--;else if(h)!h.attrsAdded&&s(h,t,e,"id logic"),p--;else if(u){if("videos"==u){var f=g.one('.lessons-image[href="'+a+'"]')||"";f=f&&f.ancestor(i.target.items),f&&(!f.attrsAdded&&s(f,t,e,"video href logic"),p--)}else if("events"==u){f=o&&g.one('.eventlist-title-link[href="'+o+'"]')?g.one('.eventlist-title-link[href="'+o+'"]'):a?g.one('.eventlist-title-link[href="'+a+'"]')||g.one('a.image-wrapper[href="'+a+'"]'):"";f=f&&f.ancestor(i.target.items),f&&(!f.attrsAdded&&s(f,t,e,"event href logic"),p--)}else if("blog_v_7_1"==u){f=o&&g.one('.blog-title a[href="'+o+'"]')&&g.all('.blog-title a[href="'+o+'"]').size()<2?g.one('.blog-title a[href="'+o+'"]'):a?g.all('.blog-title a[href="'+a+'"]').size()<2&&g.one('.blog-title a[href="'+a+'"]')||g.all('a.image-wrapper[href="'+a+'"]').size()<2&&g.one('a.image-wrapper[href="'+a+'"]'):"";if(f=f&&f.ancestor(i.target.items),f)!f.attrsAdded&&s(f,t,e,"href logic blog 7.1"),p--;else{var v=d&&g.one(".blog-title a")&&g.all(".blog-title a").filter(function(t){return t.textContent.trim()==d});v=v.size()&&v.item(0).ancestor(i.target.items),v&&!v.attrsAdded&&s(v,t,e,"title logic blog 7.1"),p--}}}else{var b=g.one('[data-image-id="'+n+'"]')?g.all('[data-image-id="'+n+'"]'):l&&g.all('[data-src*="'+l+'"]').size()?g.all('[data-src*="'+l+'"]'):g.all('[data-src*="'+c+'"]');if(b=b&&1==b.size()&&b.item(0).ancestor(i.target.items)||!1,b)!b.attrsAdded&&s(b,t,e,"asset logic"),p--;else{var y=d&&a&&g.one('.productDetails .product-title[href="'+a+'"]')&&g.one('.productDetails .product-title[href="'+a+'"]').get("textContent").replace(/\r?\n|\r/g,"").trim()===d?g.one('.productDetails .product-title[href="'+a+'"]').ancestor(i.target.items):d&&a&&g.one('.summary-title-link[href="'+a+'"]')&&g.one('.summary-title-link[href="'+a+'"]').get("textContent").replace(/\r?\n|\r/g,"").trim()===d?g.one('.summary-title-link[href="'+a+'"]').ancestor(i.target.items):d&&a&&(g.one('.image-slide-anchor[href="'+a+'"]')||g.one('.image-slide-anchor[href="'+t.clickthroughUrl+'"]'))?(g.one('.image-slide-anchor[href="'+a+'"]')||g.one('.image-slide-anchor[href="'+t.clickthroughUrl+'"]')).ancestor(i.target.items):!!(o&&t.passthrough&&g.one('.summary-title-link[href="'+o+'"]'))&&g.one('.summary-title-link[href="'+o+'"]').ancestor(i.target.items);if(y)!y.attrsAdded&&s(y,t,e,"title&href logic"),p--;else{v=!(!d||!g.one('[data-title="'+d+'"]'))&&g.one('[data-title="'+d+'"]').ancestor(i.target.items);if(v)!v.attrsAdded&&s(v,t,e,"title logic"),p--;else{var w=(8==t.recordType||"video"==t.recordTypeLabel)&&t.oembed&&t.oembed.html;if(w)g.all(".sqs-video-wrapper").each(function(a){var r=a&&a.getAttribute("data-html");if(r==w){var o=a.ancestor(i.target.items);o&&(o&&!o.attrsAdded&&s(o,t,e,"video iframe logic"),p--)}});else{f=a&&g.one('.summary-title-link[href="'+a+'"]');f?(!f.attrsAdded&&s(f.ancestor(".summary-item"),t,e,"url logic"),p--):console.log("can not found item attributes",d,a)}}}}}})}else this.items.item(0).hasClass("archive-item-link")?d.forEach(function(t,e){var a=t.fullUrl,r=i.container.one('.archive-item-link[href="'+a+'"]');r&&s(r,t,e)}):(console.log("we're here"),d.forEach(function(t,e){var a=i.container.one('.hentry[data-item-id="'+t.id+'"]')||i.container.one(i.target.items+'[href="'+t.fullUrl+'"]');a&&(console.log("ITEM: ",t),s(a,t,e))}));i.requestComplete=!0}if(i.shuffleMin=r||1,this._addMarkersInstancesToItems(),this._addProductsBadges(),o&&l&&(i.items=l),i.target.settings.hooks&&i.target.settings.hooks.attributesAdded)try{"function"==typeof i.target.settings.hooks.attributesAdded&&i.target.settings.hooks.attributesAdded(i)}catch(t){console.error(t)}this.container.fire&&this.container.fire("custom-filter:attributes-added",{customFilter:i}),Y.fire("custom-filter:attributes-added",{customFilter:i})},_addProductsBadges:function(){var t=this;if(t.target.settings.productsBadges&&t.target.settings.productsBadges.length){var e=t.target.settings.productsBadges;e&&e.length&&t.items.each(function(t){var i=t.one(".sqs-product-mark-wrapper"),a=t.one(".ProductList-innerImageWrapper")||t.one(".grid-meta-status")||t.one(".img-wrapper")||t.one(".grid-image-wrapper")||t.hasClass("summary-item")&&t.one(".summary-content");if(!i&&a){var r=a._node.className.indexOf("ProductList")>-1?"ProductList-statusWrapper":a._node.className.indexOf("grid-meta-status")>-1?"grid-product-status":"summary-product-status";i=Y.Node.create('<div class="'+r+' sqs-product-mark-wrapper cf-product-badge"></div>'),a.append(i)}i&&e.forEach(function(e){if(e=e.split("|"),2==e.length&&e[0]){var a=x(e[0]);t.hasClass("tag-"+a)&&!i.one(".badge-"+a)&&i.append('<div class="product-mark badge-'+a+'">'+(e[1]||e[0])+"</div>")}})})}},_checkChildFilterForOptions:function(t){var e=this;if(t=t.customFilter||t,this.getFilterAttrObj&&t.getFilterAttrObj)for(var i in this.getFilterAttrObj)this.getFilterAttrObj.hasOwnProperty(i)&&t.getFilterAttrObj[i]&&(t.getFilterAttrObj[i].optionsStructure&&e.getFilterAttrObj[i].optionsStructure&&(e.getFilterAttrObj[i].optionsStructure=Object.assign(e.getFilterAttrObj[i].optionsStructure,t.getFilterAttrObj[i].optionsStructure)),t.getFilterAttrObj[i].currentOptions.forEach(function(t){-1==e.getFilterAttrObj[i].currentOptions.indexOf(t)&&e.getFilterAttrObj[i].currentOptions.push(t)}));e._buildDropdowns({childOptions:!0})},_sortChildFilters:function(){var t=this;if(this.container._node&&this.container._node.__childFilters&&this.container._node.__childFilters.length)for(var e=this.container._node.__childFilters,i=e.length-1;i>=0;i--)e[i].filter_selectors=t.filter_selectors,e[i].sort_param=t.sort_param,e[i].searchRegex=t.searchRegex,e[i].filterAnim=t.filterAnim,e[i]._sortGrid()},_countItemsInChildFilters:function(){if(this.container._node&&this.container._node.__childFilters&&this.container._node.__childFilters.length){for(var t=this,e=this.filtered&&this.filtered.size()||0,i=this.container._node.__childFilters,a=i.length-1;a>=0;a--)e+=i[a].filtered&&i[a].filtered.size()||0;t.itemsCount&&t.itemsCount.one(".items-count").set("textContent",e),t.virtualGoButton&&t.virtualGoButton.setAttribute("data-items",e)}},_registerChildFilters:function(){var t=this;if(this.container._node&&this.container._node.__childFilters&&this.container._node.__childFilters.length){this.debounce_after_all_child_sorts||(this.debounce_after_all_child_sorts=l(function(e){t._countItemsInChildFilters()},100,!1));for(var e=this.container._node.__childFilters,i=e.length-1;i>=0;i--)t._checkChildFilterForOptions(e[i])}},_buildDropdowns:function(t){this.coll_data||(this.coll_data={collection:{}});var e,i,a=this;(this.currentTags.length||this.currentCats.length)&&this.coll_data.collection&&((!this.coll_data.collection.categories||this.coll_data.collection.categories.length<this.currentCats.length-1)&&(this.coll_data.collection.categories=this.currentCats),(!this.coll_data.collection.tags||this.coll_data.collection.tags.length<this.currentTags.length-1)&&(this.coll_data.collection.tags=this.currentTags));var r=a.filterCachedOptions;if(a.getFilterAttrObj&&Object.keys(a.getFilterAttrObj).length)for(var o in a.getFilterAttrObj)if(a.getFilterAttrObj.hasOwnProperty(o)&&a.getFilterAttrObj[o].container){var n=a.getFilterAttrObj[o],l=n.container,c=n.currentOptions,d=n.type,g=n.visibleOptions,u=n.notVisibleOptions;if("dropdown"==d||"buttons"==d){if(r&&r[o]&&-1==r[o].indexOf("li class=")&&!a.requestComplete&&(c=r[o],"asAllowed"===n.sort&&null==n.allowedHash)){n.allowedHash={};for(var p=0,m=c.length;p<m;p++)n.allowedHash[c[p]]=p}if(c)if("desc"===n.sort)c.sort(C)&&c.reverse();else if("asAllowed"===n.sort&&n.allowedHash)c.sort(function(t,e){return n.allowedHash[t]-n.allowedHash[e]});else if(n.sort&&"string"==typeof n.sort&&n.sort.indexOf("asDate")>-1){var h=n.sort.split("|")[1]||"asc";c.sort(function(t,e){try{return new Date(t).getTime()-new Date(e).getTime()}catch(t){console.log(t)}}),"desc"==h&&(c=c.reverse())}else"asOptions"===n.sort||"no-sort"===n.sort||(n.sort&&"function"==typeof n.sort?c.sort(n.sort):c.sort(C));if(n.firstOption){var f=n.firstOption,v=c.indexOf(f);v>0?(c.splice(v,1),c.unshift(f)):-1===v&&c.unshift(f)}if(n.showAll){var b=n.allOption,y=c.indexOf(b),w=n.allOptionLast;y>0?(c.splice(y,1),w?c.push(b):c.unshift(b)):-1===y&&(w?c.push(b):c.unshift(b))}var _=l.one("ul:not(.nested-options)");e=_.all(".archive-group-name-link.active"),i=[],e&&e.size()&&e.each(function(t){i.push(t.getAttribute("data-filter-val"))});var S=n.optionsDelimiter||"string"==typeof n.optionsDelimiter&&n.optionsDelimiter.length?' data-delimiter="'+n.optionsDelimiter+'" ':"";if(a.filterSelectors||(a.filterSelectors={}),c&&c.length>0){!r||r&&r[o],n.quickSearch?_.all(".archive-group").remove():_.empty();var k=new Y.NodeList,F={},O=function(t){var e=!1;return k.each(function(i){var a=i.all("a");a.each(function(i){i.getAttribute("data-filter-val")==t&&(e=!0)})}),e},A=function(t,e,r,s,l){var c=t.trim()||"",d=!1,p=encodeURIComponent(c),m=x(c),h="",f=n.optionsStructure&&(n.optionsStructure[c]||!Object.size(n.optionsStructure));c===n.allOption&&(h=' data-all-filter-attr=""'),n.optionsLabels&&n.optionsLabels[c]&&(d=n.optionsLabels[c]);var v=i.indexOf(m)>-1?" active":"",b="",y="",w="";(h||f||!n.optionsStructure||n.optionsStructure&&!Object.size(n.optionsStructure))&&(y="."+o+"-"+m,b='data-root-option="'+y+'" data-root-cat="'+m+'"'),u&&u.length&&u.indexOf(c)>-1&&(w=" n-visible-option"),g&&g.length&&(w=g.indexOf(c)>-1?" visible-option":" n-visible-option");var _=b||r>1&&s&&(s.length||"object"==typeof s)?'<ul class="nested-options nested-options-level-'+(r+1)+'"></ul>':"",C=(a.multipleCollectionsFetched?window.location.pathname:a.collectionUrl)+"?"+o+"="+p;"categories"==l.attr&&l.categoriesSlugs&&l.categoriesSlugs[t]&&l.followCategoriesLinks&&(C=a.collectionUrl+"/"+l.categoriesSlugs[t].shortSlug);t=Y.Node.create("<li "+b+' class="archive-group'+w+'"'+S+'  data-ind="'+e+'"><a aria-label="'+(d||c)+'" href="'+C+'" data-filter-val="'+m+'" data-filter="'+o+'"'+h+' class="archive-group-name-link '+v+'" data-option-level="'+r+'">'+(d||c)+"</a>"+_+"</li>");if(l.colorSwatches&&l.colorSwatches.enabled){l.colorSwatches.backgrounds=l.colorSwatches.backgrounds||a.target.settings.colorSwatches&&a.target.settings.colorSwatches.backgrounds||{};var k=m,F=t.one(".archive-group-name-link"),O=l.colorSwatches.backgrounds[c]&&l.colorSwatches.backgrounds[c]+"".trim()||k;O&&O.indexOf("http")>-1&&(O="url("+O+")");var A='style="background:'+O+'"',P="";l.colorSwatches.tooltips&&l.colorSwatches.tooltips.enabled&&(P='<span class="color-swatch_tooltip" data-color="'+c+'"></span>'),F.set("innerHTML",'<span class="color-swatch_thumb" '+A+'></span><span class="color-swatch_name">'+c+"</span>"+P)}if(l.iconOptions&&l.iconOptions.enabled){l.iconOptions.backgrounds=l.iconOptions.backgrounds||{};F=t.one(".archive-group-name-link"),O=l.iconOptions.backgrounds[c]&&l.iconOptions.backgrounds[c]+"".trim();O&&O.indexOf("http")>-1&&(O="url("+O+")");l.iconOptions.position;O&&(F.prepend('<span class="cf-icon-option"></span>'),F.one(".cf-icon-option").setStyle("background-image",O))}return{opt_name:c,rootOption:b,slugified_option:m,root_structure:f,nested:t.one(".nested-options"),opt:t}};c.forEach(function(t,e){var i=A(t,e,1,null,n);if(i.rootOption){if(F[i.opt_name]={el:i.opt,slug:i.slugified_option,nested:i.opt.one(".nested-options"),children:[]},i.root_structure){for(var r in i.root_structure){if(!i.root_structure.hasOwnProperty(r))return;var l=i.root_structure[r],c=A(r,e,2,l,n),d=F[i.opt_name].nested.one('[data-filter-val="'+c.slugified_option+'"]'),g=!1;if(n.parentCategory&&n.parentCategory==i.opt_name&&(g=!0,c.opt&&k.push(c.opt)),!d){var u=c.opt;if(!g){var p=u.one("a").getAttribute("href").split("=");p=p[0]+"="+encodeURIComponent(i.opt_name)+","+p[1],u.one("a").setAttribute("href",p)}if(u.one("a").setAttribute("data-parent-cat",i.opt_name),n.allowedOptionsOriginal&&n.allowedOptionsOriginal.length&&n.allowedOptionsOriginal.indexOf(r)>-1||!n.allowedOptionsOriginal||n.allowedOptionsOriginal&&0==n.allowedOptionsOriginal.length||n.ignoreAllowedForChildrenCats){i.nested&&i.nested.append(u),F[i.opt_name].children.push(c.opt);var m=function(t,a,r,s,o){var l=A(t,a+e,r,o,n),c=i.nested&&i.nested.one('[data-filter-val="'+l.slugified_option+'"]'),d=!1;if(n.parentCategory&&n.parentCategory==s.opt_name&&(l.opt&&k.push(l.opt),d=!0),!c||n.ignoreAllowedForChildrenCats){var u=l.opt;if(!d){var p=u.one("a").getAttribute("href").split("="),m=encodeURIComponent(i.opt_name)+",";g&&(m=""),p=p[0]+"="+m+encodeURIComponent(s.opt_name)+","+p[1],u.one("a").setAttribute("href",p)}u.one("a").setAttribute("data-parent-cat",s.opt_name),s.nested&&s.nested.append(u),F[i.opt_name].children.push(l.opt)}return l};if(l&&l.length&&Array.isArray(l))c.opt.setAttribute("data-nested-count",l.length),l.forEach(function(t,e){m(t,e,3,c)});else if("object"==typeof l&&null!==l&&!Array.isArray(l)){var h=Object.entries(l);c.opt.setAttribute("data-nested-count",h.length),h.length&&h.forEach(function(t,e){if(t[0]&&"string"==typeof t[0]){var i=m(t[0],e,3,c,t[1]);t[1].length&&(i.opt.setAttribute("data-nested-count",t[1].length),t[1].forEach(function(t,e){m(t,e,4,i)}))}})}}}}F[i.opt_name].el&&F[i.opt_name].children.length&&F[i.opt_name].el.setAttribute("data-nested-count",F[i.opt_name].children.length)}}else if(n.allowedOptionsOriginal&&n.allowedOptionsOriginal.length&&!s(n.allowedOptionsOriginal,n.allowedOptions,!0)||n.allowedPrefSuf){d=O(i.slugified_option);d||k.push(i.opt)}i.rootOption&&!n.parentCategory&&k.push(i.opt),a.filterSelectors.hasOwnProperty(o+"-"+i.slugified_option)||(a.filterSelectors[o+"-"+i.slugified_option]=[])}),n.forceSort&&(k._nodes.sort(function(t,e){return t=t.querySelector("a:first-child").textContent,e=e.querySelector("a:first-child").textContent,C(t,e)}),"desc"==n.forceSort?k._nodes.reverse():"asAllowed"==n.forceSort&&n.allowedHashOriginal&&k._nodes.sort(function(t,e){return t=t.textContent,e=e.textContent,n.allowedHashOriginal[t]-n.allowedHashOriginal[e]})),_&&k.size()&&_.append(k),l.show(),l.removeClass("first")}else null!==a.requestComplete&&void 0!==a.requestComplete&&!0!==a.requestComplete||_.one("li")||l.hide(),a.customFiltersWrapper.one(".sqs-block:not([hidden]):not(.items-count-wrapper)")&&a.customFiltersWrapper.one(".sqs-block:not([hidden]):not(.items-count-wrapper)").addClass("first");_.setAttribute("data-items-count",_.all(".archive-group").size()),l.setAttribute("data-options-count",_.all(".archive-group").size())}else if("range-slider"==d){var P=l.one(".range-slider");if(P&&(P=P._node,P.noUiSlider&&n.updateMinMax))if("price"==n.attr&&a.items_prices&&a.items_prices.length){var I=a.items_prices.length-1,L=a.items_prices[I],T=a.items_prices[0],N=parseFloat(P.dataset.step||10);T==L&&(L=T+N),P.noUiSlider.updateOptions({range:{min:T,max:L}}),P.noUiSlider.options.connect&&"upper"==P.noUiSlider.options.connect?P.noUiSlider.set(L):P.noUiSlider.set([T,L]),P.dataset.max=L,P.dataset.min=T}else if(n.ranges&&n.ranges.length){I=n.ranges.length-1,L=n.ranges[I],T=n.ranges[0];L&&T==L&&(T=0),L&&(P.noUiSlider.updateOptions({range:{min:T,max:L}}),P.noUiSlider.set([T,L])),P.dataset.max=L,P.dataset.min=T}}}if(this.target.settings.updateFilterOptions&&this._updateFilterOptions(),a.target.settings.hooks&&a.target.settings.hooks.onDropdownsBuilt)try{"function"==typeof a.target.settings.hooks.onDropdownsBuilt&&a.target.settings.hooks.onDropdownsBuilt(a)}catch(t){console.error(t)}if(this.container.fire&&this.container.fire("custom-filter:cats-tags-filters-built",{customFilter:a}),Y.fire("custom-filter:cats-tags-filters-built",{customFilter:a}),this.parentFilter&&this.parentFilter.CustomFilter&&(this.parentFilter.CustomFilter._checkChildFilterForOptions(this),this.parentFilter.CustomFilter._buildDropdowns(this)),a.target.settings&&a.target.settings.filter&&a.target.settings.filter.cacheOptions&&a.requestComplete&&a.filtersDropdowns&&a.filtersDropdowns.size()&&!a.filtersOptionsCached){var M=a.u_id+"_"+x(a.customIndexUrl||a.collectionUrl)+"_filter_options_"+location.pathname,D={};a.filtersDropdowns.each(function(t){var e=t.getAttribute("data-filter"),i=t.one("ul.archive-group-list");try{if(e&&i){var a=[];i.all("a").each(function(t){a.push(t.get("textContent"))}),D[e]=a}}catch(t){console.log(t)}});var E=parseFloat(a.target.settings.filter.cacheOptions)||10;q(D,M,!0,E),a.filtersOptionsCached=!0}},_destroy:function(){this.target.settings.noDestroy||(this.items&&this.items.each&&this.items.each(function(t){t.attrsAdded=!1}),this.isotope&&this.isotope.destroy(),this.container.removeClass("custom-filter-container").removeClass("isotope-filter-used").removeClass(this.all_filter_classes),this.customFiltersWrapper&&this.customFiltersWrapper.remove(),this.container.one(".custom-filter-grid")&&this.container.one(".custom-filter-grid").removeClass("custom-filter-grid"),this.container.one(".mobile-filter-trigger")&&this.container.one(".mobile-filter-trigger").remove(),this.container.one(".item-filter-loaded")&&this.container.all(".item-filter-loaded").remove(),this.externalClicksListener&&(this.externalClicksListener.detach(),this.externalClicksListener=null),window.removeEventListener("popstate",this.popstateListener))}},window.CustomSQSFilter?console.log("Seems Universal Filter was already started."):rt(),window.Squarespace&&(!window.Squarespace.initializeSummaryV2Block||document.querySelector('script[src*="lazy-summaries"]')||window.lazy_summaries_script_loaded||(window.Squarespace.initializeSummaryV2Block=function(t){t.all(".sqs-block-summary-v2").each(function(e){var i=e.getAttribute("data-block-json")?JSON.parse(e.getAttribute("data-block-json")):{ignoreInit:!1};!i.ignoreInit&&t.Squarespace.GalleryManager.initializeBlock(e)})}));try{window.self!==window.top&&(window.top.document.querySelector("html.squarespace-damask")||window.top.document.querySelector("squarespace-config")||window.top.document.querySelector(".App-siteFrame"))&&u("../assets.squarewebsites.org/custom-filter/custom-filter-admine9d4.js?ver="+(new Date).getTime(),"custom-filter-admin",window.document.getElementsByTagName("head")[0])}catch(t){console.log(t)}}();